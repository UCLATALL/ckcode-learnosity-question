"use strict";function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}LearnosityAmd.define(function(){var build_sandbox_html=function build_sandbox_html(){return"\n    <iframe src=\"https://uclatall.github.io/ckcode-sandbox\">\n  "};var find_unique_id=function find_unique_id(existing_ids){var counter=existing_ids.length;var id="sandbox-".concat(counter);while(existing_ids.includes(id)){counter+=1;id="sandbox-".concat(counter)}return id};function CKCodeFeature(init){var _init$feature$id,_init$feature$extra_s,_init$feature$extra_p;var code_cells=document.querySelectorAll("code-cell");var existing_ids=_toConsumableArray(code_cells).map(function(element){return element.id});var id=(_init$feature$id=init.feature.id)!==null&&_init$feature$id!==void 0?_init$feature$id:find_unique_id(existing_ids);if(init.feature.id&&existing_ids.includes(init.feature.id)){console.warn("[ckcode-learnosity] The given ID ".concat(init.feature.id," already exists. Using new ID \"").concat(id,"\""))}init.$el.html(build_sandbox_html(id,(_init$feature$extra_s=init.feature.extra_setup)!==null&&_init$feature$extra_s!==void 0?_init$feature$extra_s:"",(_init$feature$extra_p=init.feature.extra_prompt)!==null&&_init$feature$extra_p!==void 0?_init$feature$extra_p:""));init.events.trigger("ready")}return{Feature:CKCodeFeature}});