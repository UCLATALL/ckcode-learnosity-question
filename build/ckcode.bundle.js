/*! For license information please see index.js.LICENSE.txt */
(()=>{var __webpack_modules__={7542:(t,e,n)=>{Object.defineProperty(e,"t",{value:!0}),e.ActivityMonitor=void 0;const i=n(4016);e.ActivityMonitor=class{constructor(t){this._timer=-1,this._timeout=-1,this._isDisposed=!1,this._activityStopped=new i.Signal(this),t.signal.connect(this._onSignalFired,this),this._timeout=t.timeout||1e3}get activityStopped(){return this._activityStopped}get timeout(){return this._timeout}set timeout(t){this._timeout=t}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,i.Signal.clearData(this))}_onSignalFired(t,e){clearTimeout(this._timer),this._sender=t,this._args=e,this._timer=setTimeout((()=>{this._activityStopped.emit({sender:this._sender,args:this._args})}),this._timeout)}}},9622:function(t,e,n){var i=this&&this.D||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.j||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"t",{value:!0}),r(n(7542),e),r(n(2086),e),r(n(7390),e),r(n(9458),e),r(n(176),e),r(n(7846),e),r(n(2533),e),r(n(7319),e)},2086:(t,e)=>{Object.defineProperty(e,"t",{value:!0})},7390:(t,e)=>{Object.defineProperty(e,"t",{value:!0}),e.MarkdownCodeBlocks=void 0,function(t){t.CODE_BLOCK_MARKER="```";const e=[".markdown",".mdown",".mkdn",".md",".mkd",".mdwn",".mdtxt",".mdtext",".text",".txt",".Rmd"];class n{constructor(t){this.startLine=t,this.code="",this.endLine=-1}}t.MarkdownCodeBlock=n,t.isMarkdown=function(t){return e.indexOf(t)>-1},t.findMarkdownCodeBlocks=function(e){if(!e||""===e)return[];const i=e.split("\n"),r=[];let s=null;for(let e=0;e<i.length;e++){const o=i[e],u=0===o.indexOf(t.CODE_BLOCK_MARKER),a=null!=s;if(u||a)if(a)s&&(u?(s.endLine=e-1,r.push(s),s=null):s.code+=o+"\n");else{s=new n(e);const i=o.indexOf(t.CODE_BLOCK_MARKER),u=o.lastIndexOf(t.CODE_BLOCK_MARKER);i!==u&&(s.code=o.substring(i+t.CODE_BLOCK_MARKER.length,u),s.endLine=e,r.push(s),s=null)}}return r}}(e.MarkdownCodeBlocks||(e.MarkdownCodeBlocks={}))},9458:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.O||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(exports,"t",{value:!0}),exports.PageConfig=void 0;const coreutils_1=__webpack_require__(6201),minimist_1=__importDefault(__webpack_require__(6562)),url_1=__webpack_require__(7319);(function(PageConfig){function getOption(name){if(configData)return configData[name]||getBodyData(name);configData=Object.create(null);let found=!1;if("undefined"!=typeof document&&document){const t=document.getElementById("jupyter-config-data");t&&(configData=JSON.parse(t.textContent||""),found=!0)}if(!found&&"undefined"!=typeof process&&process.argv)try{const cli=minimist_1.default(process.argv.slice(2)),path=__webpack_require__(6470);let fullPath="";"jupyter-config-data"in cli?fullPath=path.resolve(cli["jupyter-config-data"]):"JUPYTER_CONFIG_DATA"in{}&&(fullPath=path.resolve({}.JUPYTER_CONFIG_DATA)),fullPath&&(configData=eval("require")(fullPath))}catch(t){console.error(t)}if(coreutils_1.JSONExt.isObject(configData))for(const t in configData)"string"!=typeof configData[t]&&(configData[t]=JSON.stringify(configData[t]));else configData=Object.create(null);return configData[name]||getBodyData(name)}function setOption(t,e){const n=getOption(t);return configData[t]=e,n}function getBaseUrl(){return url_1.URLExt.normalize(getOption("baseUrl")||"/")}function getTreeUrl(){return url_1.URLExt.join(getBaseUrl(),getOption("treeUrl"))}function getShareUrl(){return url_1.URLExt.normalize(getOption("shareUrl")||getBaseUrl())}function getTreeShareUrl(){return url_1.URLExt.normalize(url_1.URLExt.join(getShareUrl(),getOption("treeUrl")))}function getUrl(t){var e,n,i,r;let s=t.toShare?getShareUrl():getBaseUrl();const o=null!==(e=t.mode)&&void 0!==e?e:getOption("mode"),u=null!==(n=t.workspace)&&void 0!==n?n:getOption("workspace"),a="single-document"===o?"doc":"lab";s=url_1.URLExt.join(s,a),u!==PageConfig.defaultWorkspace&&(s=url_1.URLExt.join(s,"workspaces",encodeURIComponent(null!==(i=getOption("workspace"))&&void 0!==i?i:PageConfig.defaultWorkspace)));const h=null!==(r=t.treePath)&&void 0!==r?r:getOption("treePath");return h&&(s=url_1.URLExt.join(s,"tree",url_1.URLExt.encodeParts(h))),s}function getWsUrl(t){let e=getOption("wsUrl");if(!e){if(0!==(t=t?url_1.URLExt.normalize(t):getBaseUrl()).indexOf("http"))return"";e="ws"+t.slice(4)}return url_1.URLExt.normalize(e)}function getNBConvertURL({path:t,format:e,download:n}){const i=url_1.URLExt.encodeParts(t),r=url_1.URLExt.join(getBaseUrl(),"nbconvert",e,i);return n?r+"?download=true":r}function getToken(){return getOption("token")||getBodyData("jupyterApiToken")}function getNotebookVersion(){const t=getOption("notebookVersion");return""===t?[0,0,0]:JSON.parse(t)}PageConfig.getOption=getOption,PageConfig.setOption=setOption,PageConfig.getBaseUrl=getBaseUrl,PageConfig.getTreeUrl=getTreeUrl,PageConfig.getShareUrl=getShareUrl,PageConfig.getTreeShareUrl=getTreeShareUrl,PageConfig.getUrl=getUrl,PageConfig.defaultWorkspace="default",PageConfig.getWsUrl=getWsUrl,PageConfig.getNBConvertURL=getNBConvertURL,PageConfig.getToken=getToken,PageConfig.getNotebookVersion=getNotebookVersion;let configData=null;function getBodyData(t){if("undefined"==typeof document||!document.body)return"";const e=document.body.dataset[t];return void 0===e?"":decodeURIComponent(e)}!function(t){function e(t){try{const e=getOption(t);if(e)return JSON.parse(e)}catch(e){console.warn(`Unable to parse ${t}.`,e)}return[]}t.deferred=e("deferredExtensions"),t.disabled=e("disabledExtensions"),t.isDeferred=function(e){const n=e.indexOf(":");let i="";return-1!==n&&(i=e.slice(0,n)),t.deferred.some((t=>t===e||i&&t===i))},t.isDisabled=function(e){const n=e.indexOf(":");let i="";return-1!==n&&(i=e.slice(0,n)),t.disabled.some((t=>t===e||i&&t===i))}}(PageConfig.Extension||(PageConfig.Extension={}))})(exports.PageConfig||(exports.PageConfig={}))},176:(t,e,n)=>{Object.defineProperty(e,"t",{value:!0}),e.PathExt=void 0;const i=n(6470);!function(t){function e(t){return 0===t.indexOf("/")&&(t=t.slice(1)),t}t.join=function(...t){const n=i.posix.join(...t);return"."===n?"":e(n)},t.basename=function(t,e){return i.posix.basename(t,e)},t.dirname=function(t){const n=e(i.posix.dirname(t));return"."===n?"":n},t.extname=function(t){return i.posix.extname(t)},t.normalize=function(t){return""===t?"":e(i.posix.normalize(t))},t.resolve=function(...t){return e(i.posix.resolve(...t))},t.relative=function(t,n){return e(i.posix.relative(t,n))},t.normalizeExtension=function(t){return t.length>0&&0!==t.indexOf(".")&&(t=`.${t}`),t},t.removeSlash=e}(e.PathExt||(e.PathExt={}))},7846:(t,e)=>{Object.defineProperty(e,"t",{value:!0}),e.Text=void 0,function(t){const e="𝐚".length>1;t.jsIndexToCharIndex=function(t,n){if(e)return t;let i=t;for(let e=0;e+1<n.length&&e<t;e++){const t=n.charCodeAt(e);if(t>=55296&&t<=56319){const t=n.charCodeAt(e+1);t>=56320&&t<=57343&&(i--,e++)}}return i},t.charIndexToJsIndex=function(t,n){if(e)return t;let i=t;for(let t=0;t+1<n.length&&t<i;t++){const e=n.charCodeAt(t);if(e>=55296&&e<=56319){const e=n.charCodeAt(t+1);e>=56320&&e<=57343&&(i++,t++)}}return i},t.camelCase=function(t,e=!1){return t.replace(/^(\w)|[\s-_:]+(\w)/g,(function(t,n,i){return i?i.toUpperCase():e?n.toUpperCase():n.toLowerCase()}))},t.titleCase=function(t){return(t||"").toLowerCase().split(" ").map((t=>t.charAt(0).toUpperCase()+t.slice(1))).join(" ")}}(e.Text||(e.Text={}))},2533:(t,e)=>{},7319:function(t,e,n){var i=this&&this.O||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(e,"t",{value:!0}),e.URLExt=void 0;const r=n(6470),s=i(n(4564));!function(t){function e(t){if("undefined"!=typeof document&&document){const e=document.createElement("a");return e.href=t,e}return s.default(t)}function n(...t){const e=s.default(t[0],{}),n=`${e.protocol}${e.slashes?"//":""}${e.auth}${e.auth?"@":""}${e.host}`,i=r.posix.join(`${n&&"/"!==e.pathname[0]?"/":""}${e.pathname}`,...t.slice(1));return`${n}${"."===i?"":i}`}t.parse=e,t.getHostName=function(t){return s.default(t).hostname},t.normalize=function(t){return t&&e(t).toString()},t.join=n,t.encodeParts=function(t){return n(...t.split("/").map(encodeURIComponent))},t.objectToQueryString=function(t){const e=Object.keys(t).filter((t=>t.length>0));return e.length?"?"+e.map((e=>{const n=encodeURIComponent(String(t[e]));return e+(n?"="+n:"")})).join("&"):""},t.queryStringToObject=function(t){return t.replace(/^\?/,"").split("&").reduce(((t,e)=>{const[n,i]=e.split("=");return n.length>0&&(t[n]=decodeURIComponent(i||"")),t}),{})},t.isLocal=function(t){const{protocol:n}=e(t);return(!n||0!==t.toLowerCase().indexOf(n))&&0!==t.indexOf("/")}}(e.URLExt||(e.URLExt={}))},591:(t,e,n)=>{Object.defineProperty(e,"t",{value:!0}),e.BaseManager=void 0;const i=n(4016),r=n(8477);e.BaseManager=class{constructor(t){var e;this._isDisposed=!1,this._disposed=new i.Signal(this),this.serverSettings=null!==(e=t.serverSettings)&&void 0!==e?e:r.ServerConnection.makeSettings()}get disposed(){return this._disposed}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._disposed.emit(void 0),i.Signal.clearData(this))}}},3227:(t,e,n)=>{Object.defineProperty(e,"t",{value:!0}),e.BuildManager=void 0;const i=n(9622),r=n(8477);e.BuildManager=class{constructor(t={}){var e;this._url="",this.serverSettings=null!==(e=t.serverSettings)&&void 0!==e?e:r.ServerConnection.makeSettings();const{baseUrl:n,appUrl:s}=this.serverSettings;this._url=i.URLExt.join(n,s,"api/build")}get isAvailable(){return"true"===i.PageConfig.getOption("buildAvailable").toLowerCase()}get shouldCheck(){return"true"===i.PageConfig.getOption("buildCheck").toLowerCase()}getStatus(){const{_url:t,serverSettings:e}=this;return r.ServerConnection.makeRequest(t,{},e).then((t=>{if(200!==t.status)throw new r.ServerConnection.ResponseError(t);return t.json()})).then((t=>{if("string"!=typeof t.status)throw new Error("Invalid data");if("string"!=typeof t.message)throw new Error("Invalid data");return t}))}build(){const{_url:t,serverSettings:e}=this;return r.ServerConnection.makeRequest(t,{method:"POST"},e).then((t=>{if(400===t.status)throw new r.ServerConnection.ResponseError(t,"Build aborted");if(200!==t.status){const e=`Build failed with ${t.status}, please run 'jupyter lab build' on the server for full output`;throw new r.ServerConnection.ResponseError(t,e)}}))}cancel(){const{_url:t,serverSettings:e}=this;return r.ServerConnection.makeRequest(t,{method:"DELETE"},e).then((t=>{if(204!==t.status)throw new r.ServerConnection.ResponseError(t)}))}}},5077:(t,e,n)=>{Object.defineProperty(e,"t",{value:!0}),e.ConfigWithDefaults=e.ConfigSection=void 0;const i=n(9622),r=n(6240);(e.ConfigSection||(e.ConfigSection={})).create=function(t){const e=new s(t);return e.load().then((()=>e))};class s{constructor(t){var e;this._url="unknown";const n=this.serverSettings=null!==(e=t.serverSettings)&&void 0!==e?e:r.ServerConnection.makeSettings();this._url=i.URLExt.join(n.baseUrl,"api/config",encodeURIComponent(t.name))}get data(){return this._data}async load(){const t=await r.ServerConnection.makeRequest(this._url,{},this.serverSettings);if(200!==t.status)throw await r.ServerConnection.ResponseError.create(t);this._data=await t.json()}async update(t){this._data=Object.assign(Object.assign({},this._data),t);const e={method:"PATCH",body:JSON.stringify(t)},n=await r.ServerConnection.makeRequest(this._url,e,this.serverSettings);if(200!==n.status)throw await r.ServerConnection.ResponseError.create(n);return this._data=await n.json(),this._data}}e.ConfigWithDefaults=class{constructor(t){var e,n;this._className="",this._section=t.section,this._defaults=null!==(e=t.defaults)&&void 0!==e?e:{},this._className=null!==(n=t.className)&&void 0!==n?n:""}get(t){const e=this._classData();return t in e?e[t]:this._defaults[t]}set(t,e){const n={};if(n[t]=e,this._className){const t={};return t[this._className]=n,this._section.update(t)}return this._section.update(n)}_classData(){const t=this._section.data;return this._className&&this._className in t?t[this._className]:t}}},3644:(t,e)=>{},6240:function(t,e,n){var i=this&&this.D||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.j||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"t",{value:!0}),r(n(5077),e),r(n(3644),e),r(n(2604),e),r(n(2902),e),r(n(3079),e),r(n(8477),e),r(n(1874),e),r(n(2726),e),r(n(3247),e),r(n(5399),e),r(n(4574),e)},4500:function(t,e,n){var i=this&&this.D||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.R||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.L||function(t){if(t&&t.t)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e};Object.defineProperty(e,"t",{value:!0}),e.CommHandler=void 0;const o=n(725),u=s(n(5253));class a extends o.DisposableDelegate{constructor(t,e,n,i){super(i),this._target="",this._id="",this._id=e,this._target=t,this._kernel=n}get commId(){return this._id}get targetName(){return this._target}get onClose(){return this._onClose}set onClose(t){this._onClose=t}get onMsg(){return this._onMsg}set onMsg(t){this._onMsg=t}open(t,e,n=[]){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot open");const i=u.createMessage({msgType:"comm_open",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,target_name:this._target,data:null!=t?t:{}},metadata:e,buffers:n});return this._kernel.sendShellMessage(i,!1,!0)}send(t,e,n=[],i=!0){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot send");const r=u.createMessage({msgType:"comm_msg",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:t},metadata:e,buffers:n});return this._kernel.sendShellMessage(r,!1,i)}close(t,e,n=[]){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot close");const i=u.createMessage({msgType:"comm_close",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:null!=t?t:{}},metadata:e,buffers:n}),r=this._kernel.sendShellMessage(i,!1,!0),s=this._onClose;return s&&s(u.createMessage({msgType:"comm_close",channel:"iopub",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:null!=t?t:{}},metadata:e,buffers:n})),this.dispose(),r}}e.CommHandler=a},9883:function(t,e,n){var i=this&&this.D||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.R||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.L||function(t){if(t&&t.t)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e};Object.defineProperty(e,"t",{value:!0}),e.KernelConnection=void 0;const o=n(9622),u=n(6201),a=n(4016),h=n(6240),c=n(4500),l=s(n(5253)),f=n(8707),d=s(n(6002)),p=s(n(6512)),m=n(2902),v=s(n(2183)),g="_RESTARTING_";class b{constructor(t){var e,n,i,r;this._createSocket=()=>{this._errorIfDisposed(),this._clearSocket(),this._updateConnectionStatus("connecting");const t=this.serverSettings,e=o.URLExt.join(t.wsUrl,v.KERNEL_SERVICE_URL,encodeURIComponent(this._id)),n=e.replace(/^((?:\w+:)?\/\/)(?:[^@\/]+@)/,"$1");console.debug(`Starting WebSocket: ${n}`);let i=o.URLExt.join(e,"channels?session_id="+encodeURIComponent(this._clientId));const r=t.token;t.appendToken&&""!==r&&(i+=`&token=${encodeURIComponent(r)}`),this._ws=new t.WebSocket(i),this._ws.binaryType="arraybuffer",this._ws.onmessage=this._onWSMessage,this._ws.onopen=this._onWSOpen,this._ws.onclose=this._onWSClose,this._ws.onerror=this._onWSClose},this._onWSOpen=t=>{this._updateConnectionStatus("connected")},this._onWSMessage=t=>{let e;try{e=d.deserialize(t.data),p.validateMessage(e)}catch(t){throw t.message=`Kernel message validation error: ${t.message}`,t}this._kernelSession=e.header.session,this._msgChain=this._msgChain.then((()=>this._handleMessage(e))).catch((t=>{t.message.startsWith("Canceled future for ")&&console.error(t)})),this._anyMessage.emit({msg:e,direction:"recv"})},this._onWSClose=t=>{this.isDisposed||this._reconnect()},this._id="",this._name="",this._status="unknown",this._connectionStatus="connecting",this._kernelSession="",this._isDisposed=!1,this._ws=null,this._username="",this._reconnectLimit=7,this._reconnectAttempt=0,this._reconnectTimeout=null,this._futures=new Map,this._comms=new Map,this._targetRegistry=Object.create(null),this._info=new u.PromiseDelegate,this._pendingMessages=[],this._statusChanged=new a.Signal(this),this._connectionStatusChanged=new a.Signal(this),this._disposed=new a.Signal(this),this._iopubMessage=new a.Signal(this),this._anyMessage=new a.Signal(this),this._pendingInput=new a.Signal(this),this._unhandledMessage=new a.Signal(this),this._displayIdToParentIds=new Map,this._msgIdToDisplayIds=new Map,this._msgChain=Promise.resolve(),this._hasPendingInput=!1,this._noOp=()=>{},this._name=t.model.name,this._id=t.model.id,this.serverSettings=null!==(e=t.serverSettings)&&void 0!==e?e:h.ServerConnection.makeSettings(),this._clientId=null!==(n=t.clientId)&&void 0!==n?n:u.UUID.uuid4(),this._username=null!==(i=t.username)&&void 0!==i?i:"",this.handleComms=null===(r=t.handleComms)||void 0===r||r,this._createSocket()}get disposed(){return this._disposed}get statusChanged(){return this._statusChanged}get connectionStatusChanged(){return this._connectionStatusChanged}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get model(){return{id:this.id,name:this.name}}get anyMessage(){return this._anyMessage}get pendingInput(){return this._pendingInput}get id(){return this._id}get name(){return this._name}get username(){return this._username}get clientId(){return this._clientId}get status(){return this._status}get connectionStatus(){return this._connectionStatus}get isDisposed(){return this._isDisposed}get info(){return this._info.promise}get spec(){return this._specPromise||(this._specPromise=m.KernelSpecAPI.getSpecs(this.serverSettings).then((t=>t.kernelspecs[this._name]))),this._specPromise}clone(t={}){return new b(Object.assign({model:this.model,username:this.username,serverSettings:this.serverSettings,handleComms:!1},t))}dispose(){this.isDisposed||(this._isDisposed=!0,this._disposed.emit(),this._updateConnectionStatus("disconnected"),this._clearKernelState(),this._pendingMessages=[],this._clearSocket(),a.Signal.clearData(this))}sendShellMessage(t,e=!1,n=!0){return this._sendKernelShellControl(f.KernelShellFutureHandler,t,e,n)}sendControlMessage(t,e=!1,n=!0){return this._sendKernelShellControl(f.KernelControlFutureHandler,t,e,n)}_sendKernelShellControl(t,e,n=!1,i=!0){this._sendMessage(e),this._anyMessage.emit({msg:e,direction:"send"});const r=new t((()=>{const t=e.header.msg_id;this._futures.delete(t);const n=this._msgIdToDisplayIds.get(t);n&&(n.forEach((e=>{const n=this._displayIdToParentIds.get(e);if(n){const i=n.indexOf(t);if(-1===i)return;1===n.length?this._displayIdToParentIds.delete(e):(n.splice(i,1),this._displayIdToParentIds.set(e,n))}})),this._msgIdToDisplayIds.delete(t))}),e,n,i,this);return this._futures.set(e.header.msg_id,r),r}_sendMessage(t,e=!0){if("dead"===this.status)throw new Error("Kernel is dead");if((""===this._kernelSession||this._kernelSession===g)&&l.isInfoRequestMsg(t)){if("connected"===this.connectionStatus)return void this._ws.send(d.serialize(t));throw new Error("Could not send message: status is not connected")}if(e&&this._pendingMessages.length>0)this._pendingMessages.push(t);else if("connected"===this.connectionStatus&&this._kernelSession!==g)this._ws.send(d.serialize(t));else{if(!e)throw new Error("Could not send message");this._pendingMessages.push(t)}}async interrupt(){if(this.hasPendingInput=!1,"dead"===this.status)throw new Error("Kernel is dead");return v.interruptKernel(this.id,this.serverSettings)}async restart(){if("dead"===this.status)throw new Error("Kernel is dead");this._updateStatus("restarting"),this._clearKernelState(),this._kernelSession=g,await v.restartKernel(this.id,this.serverSettings),await this.reconnect(),this.hasPendingInput=!1}reconnect(){this._errorIfDisposed();const t=new u.PromiseDelegate,e=(n,i)=>{"connected"===i?(t.resolve(),this.connectionStatusChanged.disconnect(e,this)):"disconnected"===i&&(t.reject(new Error("Kernel connection disconnected")),this.connectionStatusChanged.disconnect(e,this))};return this.connectionStatusChanged.connect(e,this),this._reconnectAttempt=0,this._reconnect(),t.promise}async shutdown(){"dead"!==this.status&&await v.shutdownKernel(this.id,this.serverSettings),this.handleShutdown()}handleShutdown(){this._updateStatus("dead"),this.dispose()}async requestKernelInfo(){const t=l.createMessage({msgType:"kernel_info_request",channel:"shell",username:this._username,session:this._clientId,content:{}});let e;try{e=await w.handleShellMessage(this,t)}catch(t){if(this.isDisposed)return;throw t}if(this._errorIfDisposed(),e)return void 0===e.content.status&&(e.content.status="ok"),"ok"!==e.content.status?(this._info.reject("Kernel info reply errored"),e):(this._info.resolve(e.content),this._kernelSession=e.header.session,e)}requestComplete(t){const e=l.createMessage({msgType:"complete_request",channel:"shell",username:this._username,session:this._clientId,content:t});return w.handleShellMessage(this,e)}requestInspect(t){const e=l.createMessage({msgType:"inspect_request",channel:"shell",username:this._username,session:this._clientId,content:t});return w.handleShellMessage(this,e)}requestHistory(t){const e=l.createMessage({msgType:"history_request",channel:"shell",username:this._username,session:this._clientId,content:t});return w.handleShellMessage(this,e)}requestExecute(t,e=!0,n){const i=l.createMessage({msgType:"execute_request",channel:"shell",username:this._username,session:this._clientId,content:Object.assign(Object.assign({},{silent:!1,store_history:!0,user_expressions:{},allow_stdin:!0,stop_on_error:!1}),t),metadata:n});return this.sendShellMessage(i,!0,e)}requestDebug(t,e=!0){const n=l.createMessage({msgType:"debug_request",channel:"control",username:this._username,session:this._clientId,content:t});return this.sendControlMessage(n,!0,e)}requestIsComplete(t){const e=l.createMessage({msgType:"is_complete_request",channel:"shell",username:this._username,session:this._clientId,content:t});return w.handleShellMessage(this,e)}requestCommInfo(t){const e=l.createMessage({msgType:"comm_info_request",channel:"shell",username:this._username,session:this._clientId,content:t});return w.handleShellMessage(this,e)}sendInputReply(t){const e=l.createMessage({msgType:"input_reply",channel:"stdin",username:this._username,session:this._clientId,content:t});this._sendMessage(e),this._anyMessage.emit({msg:e,direction:"send"}),this.hasPendingInput=!1}createComm(t,e=u.UUID.uuid4()){if(!this.handleComms)throw new Error("Comms are disabled on this kernel connection");if(this._comms.has(e))throw new Error("Comm is already created");const n=new c.CommHandler(t,e,this,(()=>{this._unregisterComm(e)}));return this._comms.set(e,n),n}hasComm(t){return this._comms.has(t)}registerCommTarget(t,e){this.handleComms&&(this._targetRegistry[t]=e)}removeCommTarget(t,e){this.handleComms&&(this.isDisposed||this._targetRegistry[t]!==e||delete this._targetRegistry[t])}registerMessageHook(t,e){var n;const i=null===(n=this._futures)||void 0===n?void 0:n.get(t);i&&i.registerMessageHook(e)}removeMessageHook(t,e){var n;const i=null===(n=this._futures)||void 0===n?void 0:n.get(t);i&&i.removeMessageHook(e)}removeInputGuard(){this.hasPendingInput=!1}async _handleDisplayId(t,e){var n,i;const r=e.parent_header.msg_id;let s=this._displayIdToParentIds.get(t);if(s){const t={header:u.JSONExt.deepCopy(e.header),parent_header:u.JSONExt.deepCopy(e.parent_header),metadata:u.JSONExt.deepCopy(e.metadata),content:u.JSONExt.deepCopy(e.content),channel:e.channel,buffers:e.buffers?e.buffers.slice():[]};t.header.msg_type="update_display_data",await Promise.all(s.map((async e=>{const n=this._futures&&this._futures.get(e);n&&await n.handleMsg(t)})))}if("update_display_data"===e.header.msg_type)return!0;s=null!==(n=this._displayIdToParentIds.get(t))&&void 0!==n?n:[],-1===s.indexOf(r)&&s.push(r),this._displayIdToParentIds.set(t,s);const o=null!==(i=this._msgIdToDisplayIds.get(r))&&void 0!==i?i:[];return-1===o.indexOf(r)&&o.push(r),this._msgIdToDisplayIds.set(r,o),!1}_clearSocket(){null!==this._ws&&(this._ws.onopen=this._noOp,this._ws.onclose=this._noOp,this._ws.onerror=this._noOp,this._ws.onmessage=this._noOp,this._ws.close(),this._ws=null)}_updateStatus(t){this._status!==t&&"dead"!==this._status&&(this._status=t,w.logKernelStatus(this),this._statusChanged.emit(t),"dead"===t&&this.dispose())}_sendPending(){for(;"connected"===this.connectionStatus&&this._kernelSession!==g&&this._pendingMessages.length>0;)this._sendMessage(this._pendingMessages[0],!1),this._pendingMessages.shift()}_clearKernelState(){this._kernelSession="",this._pendingMessages=[],this._futures.forEach((t=>{t.dispose()})),this._comms.forEach((t=>{t.dispose()})),this._msgChain=Promise.resolve(),this._futures=new Map,this._comms=new Map,this._displayIdToParentIds.clear(),this._msgIdToDisplayIds.clear()}_assertCurrentMessage(t){if(this._errorIfDisposed(),t.header.session!==this._kernelSession)throw new Error(`Canceling handling of old message: ${t.header.msg_type}`)}async _handleCommOpen(t){this._assertCurrentMessage(t);const e=t.content,n=new c.CommHandler(e.target_name,e.comm_id,this,(()=>{this._unregisterComm(e.comm_id)}));this._comms.set(e.comm_id,n);try{const i=await w.loadObject(e.target_name,e.target_module,this._targetRegistry);await i(n,t)}catch(t){throw n.close(),console.error("Exception opening new comm"),t}}async _handleCommClose(t){this._assertCurrentMessage(t);const e=t.content,n=this._comms.get(e.comm_id);if(!n)return void console.error("Comm not found for comm id "+e.comm_id);this._unregisterComm(n.commId);const i=n.onClose;i&&await i(t),n.dispose()}async _handleCommMsg(t){this._assertCurrentMessage(t);const e=t.content,n=this._comms.get(e.comm_id);if(!n)return;const i=n.onMsg;i&&await i(t)}_unregisterComm(t){this._comms.delete(t)}_updateConnectionStatus(t){if(this._connectionStatus!==t){if(this._connectionStatus=t,"connecting"!==t&&(this._reconnectAttempt=0,clearTimeout(this._reconnectTimeout)),"dead"!==this.status)if("connected"===t){let t=this._kernelSession===g,e=this.requestKernelInfo(),n=!1,i=()=>{n||(n=!0,t&&this._kernelSession===g&&(this._kernelSession=""),clearTimeout(r),this._pendingMessages.length>0&&this._sendPending())};e.then(i);let r=setTimeout(i,3e3)}else this._updateStatus("unknown");this._connectionStatusChanged.emit(t)}}async _handleMessage(t){var e,n;let i=!1;if(t.parent_header&&"iopub"===t.channel&&(l.isDisplayDataMsg(t)||l.isUpdateDisplayDataMsg(t)||l.isExecuteResultMsg(t))){const n=(null!==(e=t.content.transient)&&void 0!==e?e:{}).display_id;n&&(i=await this._handleDisplayId(n,t),this._assertCurrentMessage(t))}if(!i&&t.parent_header){const e=t.parent_header,i=null===(n=this._futures)||void 0===n?void 0:n.get(e.msg_id);if(i)await i.handleMsg(t),this._assertCurrentMessage(t);else{const n=e.session===this.clientId;"iopub"!==t.channel&&n&&this._unhandledMessage.emit(t)}}if("iopub"===t.channel){switch(t.header.msg_type){case"status":{const e=t.content.execution_state;"restarting"===e&&Promise.resolve().then((async()=>{this._updateStatus("autorestarting"),this._clearKernelState(),await this.reconnect()})),this._updateStatus(e);break}case"comm_open":this.handleComms&&await this._handleCommOpen(t);break;case"comm_msg":this.handleComms&&await this._handleCommMsg(t);break;case"comm_close":this.handleComms&&await this._handleCommClose(t)}this.isDisposed||(this._assertCurrentMessage(t),this._iopubMessage.emit(t))}}_reconnect(){if(this._errorIfDisposed(),clearTimeout(this._reconnectTimeout),this._reconnectAttempt<this._reconnectLimit){this._updateConnectionStatus("connecting");const t=w.getRandomIntInclusive(0,1e3*(Math.pow(2,this._reconnectAttempt)-1));console.warn(`Connection lost, reconnecting in ${Math.floor(t/1e3)} seconds.`),this._reconnectTimeout=setTimeout(this._createSocket,t),this._reconnectAttempt+=1}else this._updateConnectionStatus("disconnected");this._clearSocket()}_errorIfDisposed(){if(this.isDisposed)throw new Error("Kernel connection is disposed")}get hasPendingInput(){return this._hasPendingInput}set hasPendingInput(t){this._hasPendingInput=t,this._pendingInput.emit(t)}}var w;e.KernelConnection=b,function(t){t.logKernelStatus=function(t){switch(t.status){case"idle":case"busy":case"unknown":return;default:console.debug(`Kernel: ${t.status} (${t.id})`)}},t.handleShellMessage=async function(t,e){return t.sendShellMessage(e,!0).done},t.loadObject=function(t,e,n){return new Promise(((i,r)=>{if(e){if("undefined"==typeof requirejs)throw new Error("requirejs not found");requirejs([e],(n=>{void 0===n[t]?r(new Error(`Object '${t}' not found in module '${e}'`)):i(n[t])}),r)}else(null==n?void 0:n[t])?i(n[t]):r(new Error(`Object '${t}' not found in registry`))}))},t.getRandomIntInclusive=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}}(w||(w={}))},8707:function(t,e,n){var i=this&&this.D||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.R||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.L||function(t){if(t&&t.t)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e};Object.defineProperty(e,"t",{value:!0}),e.KernelShellFutureHandler=e.KernelControlFutureHandler=e.KernelFutureHandler=void 0;const o=n(6201),u=n(725),a=s(n(5253));class h extends u.DisposableDelegate{constructor(t,e,n,i,r){super(t),this._status=0,this._stdin=c.noOp,this._iopub=c.noOp,this._reply=c.noOp,this._done=new o.PromiseDelegate,this._hooks=new c.HookList,this._disposeOnDone=!0,this._msg=e,n||this._setFlag(c.KernelFutureFlag.GotReply),this._disposeOnDone=i,this._kernel=r}get msg(){return this._msg}get done(){return this._done.promise}get onReply(){return this._reply}set onReply(t){this._reply=t}get onIOPub(){return this._iopub}set onIOPub(t){this._iopub=t}get onStdin(){return this._stdin}set onStdin(t){this._stdin=t}registerMessageHook(t){if(this.isDisposed)throw new Error("Kernel future is disposed");this._hooks.add(t)}removeMessageHook(t){this.isDisposed||this._hooks.remove(t)}sendInputReply(t){this._kernel.sendInputReply(t)}dispose(){this._stdin=c.noOp,this._iopub=c.noOp,this._reply=c.noOp,this._hooks=null,this._testFlag(c.KernelFutureFlag.IsDone)||(this._done.promise.catch((()=>{})),this._done.reject(new Error(`Canceled future for ${this.msg.header.msg_type} message before replies were done`))),super.dispose()}async handleMsg(t){switch(t.channel){case"control":case"shell":t.channel===this.msg.channel&&t.parent_header.msg_id===this.msg.header.msg_id&&await this._handleReply(t);break;case"stdin":await this._handleStdin(t);break;case"iopub":await this._handleIOPub(t)}}async _handleReply(t){const e=this._reply;e&&await e(t),this._replyMsg=t,this._setFlag(c.KernelFutureFlag.GotReply),this._testFlag(c.KernelFutureFlag.GotIdle)&&this._handleDone()}async _handleStdin(t){this._kernel.hasPendingInput=!0;const e=this._stdin;e&&await e(t)}async _handleIOPub(t){const e=await this._hooks.process(t),n=this._iopub;e&&n&&await n(t),a.isStatusMsg(t)&&"idle"===t.content.execution_state&&(this._setFlag(c.KernelFutureFlag.GotIdle),this._testFlag(c.KernelFutureFlag.GotReply)&&this._handleDone())}_handleDone(){this._testFlag(c.KernelFutureFlag.IsDone)||(this._setFlag(c.KernelFutureFlag.IsDone),this._done.resolve(this._replyMsg),this._disposeOnDone&&this.dispose())}_testFlag(t){return 0!=(this._status&t)}_setFlag(t){this._status|=t}}var c;e.KernelFutureHandler=h,e.KernelControlFutureHandler=class extends h{},e.KernelShellFutureHandler=class extends h{},function(t){t.noOp=()=>{};const e="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate;t.HookList=class{constructor(){this._hooks=[]}add(t){this.remove(t),this._hooks.push(t)}remove(t){const e=this._hooks.indexOf(t);e>=0&&(this._hooks[e]=null,this._scheduleCompact())}async process(t){await this._processing;const e=new o.PromiseDelegate;let n;this._processing=e.promise;for(let i=this._hooks.length-1;i>=0;i--){const r=this._hooks[i];if(null!==r){try{n=await r(t)}catch(t){n=!0,console.error(t)}if(!1===n)return e.resolve(void 0),!1}}return e.resolve(void 0),!0}_scheduleCompact(){this._compactScheduled||(this._compactScheduled=!0,e((()=>{this._processing=this._processing.then((()=>{this._compactScheduled=!1,this._compact()}))})))}_compact(){let t=0;for(let e=0,n=this._hooks.length;e<n;e++){const n=this._hooks[e];null===this._hooks[e]?t++:this._hooks[e-t]=n}this._hooks.length-=t}},function(t){t[t.GotReply=1]="GotReply",t[t.GotIdle=2]="GotIdle",t[t.IsDone=4]="IsDone",t[t.DisposeOnDone=8]="DisposeOnDone"}(t.KernelFutureFlag||(t.KernelFutureFlag={}))}(c||(c={}))},2604:function(t,e,n){var i=this&&this.D||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.R||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.L||function(t){if(t&&t.t)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},o=this&&this.j||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"t",{value:!0}),e.KernelAPI=e.KernelMessage=e.Kernel=void 0;const u=s(n(8868));e.Kernel=u;const a=s(n(5253));e.KernelMessage=a;const h=s(n(2183));e.KernelAPI=h,o(n(1825),e)},8868:(t,e)=>{Object.defineProperty(e,"t",{value:!0})},1825:(t,e,n)=>{Object.defineProperty(e,"t",{value:!0}),e.KernelManager=void 0;const i=n(5259),r=n(3114),s=n(4016),o=n(6240),u=n(591),a=n(2183),h=n(9883);class c extends u.BaseManager{constructor(t={}){var e;super(t),this._isReady=!1,this._kernelConnections=new Set,this._models=new Map,this._runningChanged=new s.Signal(this),this._connectionFailure=new s.Signal(this),this._pollModels=new r.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:KernelManager#models",standby:null!==(e=t.standby)&&void 0!==e?e:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._models.clear(),this._kernelConnections.forEach((t=>t.dispose())),this._pollModels.dispose(),super.dispose())}connectTo(t){var e;const{id:n}=t.model;let i=null===(e=t.handleComms)||void 0===e||e;if(void 0===t.handleComms)for(const t of this._kernelConnections)if(t.id===n&&t.handleComms){i=!1;break}const r=new h.KernelConnection(Object.assign(Object.assign({handleComms:i},t),{serverSettings:this.serverSettings}));return this._onStarted(r),this._models.has(n)||this.refreshRunning().catch((()=>{})),r}running(){return i.iter([...this._models.values()])}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(t={},e={}){const n=await a.startNew(t,this.serverSettings);return this.connectTo(Object.assign(Object.assign({},e),{model:n}))}async shutdown(t){await a.shutdownKernel(t,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all([...this._models.keys()].map((t=>a.shutdownKernel(t,this.serverSettings)))),await this.refreshRunning()}async findById(t){return this._models.has(t)||await this.refreshRunning(),this._models.get(t)}async requestRunning(){var t,e;let n;try{n=await a.listRunning(this.serverSettings)}catch(n){throw(n instanceof o.ServerConnection.NetworkError||503===(null===(t=n.response)||void 0===t?void 0:t.status)||424===(null===(e=n.response)||void 0===e?void 0:e.status))&&this._connectionFailure.emit(n),n}this.isDisposed||this._models.size===n.length&&i.every(n,(t=>{const e=this._models.get(t.id);return!!e&&e.name===t.name}))||(this._models=new Map(n.map((t=>[t.id,t]))),this._kernelConnections.forEach((t=>{this._models.has(t.id)||t.handleShutdown()})),this._runningChanged.emit(n))}_onStarted(t){this._kernelConnections.add(t),t.statusChanged.connect(this._onStatusChanged,this),t.disposed.connect(this._onDisposed,this)}_onDisposed(t){this._kernelConnections.delete(t),this.refreshRunning().catch((()=>{}))}_onStatusChanged(t,e){"dead"===e&&this.refreshRunning().catch((()=>{}))}}e.KernelManager=c},5253:(t,e,n)=>{Object.defineProperty(e,"t",{value:!0}),e.isInputReplyMsg=e.isInputRequestMsg=e.isDebugReplyMsg=e.isDebugRequestMsg=e.isExecuteReplyMsg=e.isInfoRequestMsg=e.isCommMsgMsg=e.isCommCloseMsg=e.isCommOpenMsg=e.isDebugEventMsg=e.isClearOutputMsg=e.isStatusMsg=e.isErrorMsg=e.isExecuteResultMsg=e.isExecuteInputMsg=e.isUpdateDisplayDataMsg=e.isDisplayDataMsg=e.isStreamMsg=e.createMessage=void 0;const i=n(6201);e.createMessage=function(t){var e,n,r,s,o;return{buffers:null!==(e=t.buffers)&&void 0!==e?e:[],channel:t.channel,content:t.content,header:{date:(new Date).toISOString(),msg_id:null!==(n=t.msgId)&&void 0!==n?n:i.UUID.uuid4(),msg_type:t.msgType,session:t.session,username:null!==(r=t.username)&&void 0!==r?r:"",version:"5.2"},metadata:null!==(s=t.metadata)&&void 0!==s?s:{},parent_header:null!==(o=t.parentHeader)&&void 0!==o?o:{}}},e.isStreamMsg=function(t){return"stream"===t.header.msg_type},e.isDisplayDataMsg=function(t){return"display_data"===t.header.msg_type},e.isUpdateDisplayDataMsg=function(t){return"update_display_data"===t.header.msg_type},e.isExecuteInputMsg=function(t){return"execute_input"===t.header.msg_type},e.isExecuteResultMsg=function(t){return"execute_result"===t.header.msg_type},e.isErrorMsg=function(t){return"error"===t.header.msg_type},e.isStatusMsg=function(t){return"status"===t.header.msg_type},e.isClearOutputMsg=function(t){return"clear_output"===t.header.msg_type},e.isDebugEventMsg=function(t){return"debug_event"===t.header.msg_type},e.isCommOpenMsg=function(t){return"comm_open"===t.header.msg_type},e.isCommCloseMsg=function(t){return"comm_close"===t.header.msg_type},e.isCommMsgMsg=function(t){return"comm_msg"===t.header.msg_type},e.isInfoRequestMsg=function(t){return"kernel_info_request"===t.header.msg_type},e.isExecuteReplyMsg=function(t){return"execute_reply"===t.header.msg_type},e.isDebugRequestMsg=function(t){return"debug_request"===t.header.msg_type},e.isDebugReplyMsg=function(t){return"debug_reply"===t.header.msg_type},e.isInputRequestMsg=function(t){return"input_request"===t.header.msg_type},e.isInputReplyMsg=function(t){return"input_reply"===t.header.msg_type}},2183:(t,e,n)=>{Object.defineProperty(e,"t",{value:!0}),e.getKernelModel=e.shutdownKernel=e.interruptKernel=e.restartKernel=e.startNew=e.listRunning=e.KERNEL_SERVICE_URL=void 0;const i=n(8477),r=n(9622),s=n(6512);e.KERNEL_SERVICE_URL="api/kernels",e.listRunning=async function(t=i.ServerConnection.makeSettings()){const n=r.URLExt.join(t.baseUrl,e.KERNEL_SERVICE_URL),o=await i.ServerConnection.makeRequest(n,{},t);if(200!==o.status)throw await i.ServerConnection.ResponseError.create(o);const u=await o.json();return s.validateModels(u),u},e.startNew=async function(t={},n=i.ServerConnection.makeSettings()){const o=r.URLExt.join(n.baseUrl,e.KERNEL_SERVICE_URL),u={method:"POST",body:JSON.stringify(t)},a=await i.ServerConnection.makeRequest(o,u,n);if(201!==a.status)throw await i.ServerConnection.ResponseError.create(a);const h=await a.json();return s.validateModel(h),h},e.restartKernel=async function(t,n=i.ServerConnection.makeSettings()){const o=r.URLExt.join(n.baseUrl,e.KERNEL_SERVICE_URL,encodeURIComponent(t),"restart"),u=await i.ServerConnection.makeRequest(o,{method:"POST"},n);if(200!==u.status)throw await i.ServerConnection.ResponseError.create(u);const a=await u.json();s.validateModel(a)},e.interruptKernel=async function(t,n=i.ServerConnection.makeSettings()){const s=r.URLExt.join(n.baseUrl,e.KERNEL_SERVICE_URL,encodeURIComponent(t),"interrupt"),o=await i.ServerConnection.makeRequest(s,{method:"POST"},n);if(204!==o.status)throw await i.ServerConnection.ResponseError.create(o)},e.shutdownKernel=async function(t,n=i.ServerConnection.makeSettings()){const s=r.URLExt.join(n.baseUrl,e.KERNEL_SERVICE_URL,encodeURIComponent(t)),o=await i.ServerConnection.makeRequest(s,{method:"DELETE"},n);if(404===o.status){const e=`The kernel "${t}" does not exist on the server`;console.warn(e)}else if(204!==o.status)throw await i.ServerConnection.ResponseError.create(o)},e.getKernelModel=async function(t,n=i.ServerConnection.makeSettings()){const o=r.URLExt.join(n.baseUrl,e.KERNEL_SERVICE_URL,encodeURIComponent(t)),u=await i.ServerConnection.makeRequest(o,{},n);if(404===u.status)return;if(200!==u.status)throw await i.ServerConnection.ResponseError.create(u);const a=await u.json();return s.validateModel(a),a}},6002:(t,e)=>{Object.defineProperty(e,"t",{value:!0}),e.serialize=e.deserialize=void 0,e.deserialize=function(t){let e;return e="string"==typeof t?JSON.parse(t):function(t){const e=new DataView(t),n=e.getUint32(0),i=[];if(n<2)throw new Error("Invalid incoming Kernel Message");for(let t=1;t<=n;t++)i.push(e.getUint32(4*t));const r=new Uint8Array(t.slice(i[0],i[1])),s=JSON.parse(new TextDecoder("utf8").decode(r));s.buffers=[];for(let e=1;e<n;e++){const n=i[e],r=i[e+1]||t.byteLength;s.buffers.push(new DataView(t.slice(n,r)))}return s}(t),e},e.serialize=function(t){var e;let n;return n=(null===(e=t.buffers)||void 0===e?void 0:e.length)?function(t){const e=[],n=[],i=new TextEncoder;let r=[];void 0!==t.buffers&&(r=t.buffers,delete t.buffers);const s=i.encode(JSON.stringify(t));n.push(s.buffer);for(let t=0;t<r.length;t++){const e=r[t];n.push(ArrayBuffer.isView(e)?e.buffer:e)}const o=n.length;e.push(4*(o+1));for(let t=0;t+1<n.length;t++)e.push(e[e.length-1]+n[t].byteLength);const u=new Uint8Array(e[e.length-1]+n[n.length-1].byteLength),a=new DataView(u.buffer);a.setUint32(0,o);for(let t=0;t<e.length;t++)a.setUint32(4*(t+1),e[t]);for(let t=0;t<n.length;t++)u.set(new Uint8Array(n[t]),e[t]);return u.buffer}(t):JSON.stringify(t),n}},6512:(t,e,n)=>{Object.defineProperty(e,"t",{value:!0}),e.validateModels=e.validateModel=e.validateMessage=void 0;const i=n(6901),r=["username","version","session","msg_id","msg_type"],s={stream:{name:"string",text:"string"},display_data:{data:"object",metadata:"object"},execute_input:{code:"string",execution_count:"number"},execute_result:{execution_count:"number",data:"object",metadata:"object"},error:{ename:"string",evalue:"string",traceback:"object"},status:{execution_state:["string",["starting","idle","busy","restarting","dead"]]},clear_output:{wait:"boolean"},comm_open:{comm_id:"string",target_name:"string",data:"object"},comm_msg:{comm_id:"string",data:"object"},comm_close:{comm_id:"string"},shutdown_reply:{restart:"boolean"}};function o(t){i.validateProperty(t,"name","string"),i.validateProperty(t,"id","string")}e.validateMessage=function(t){i.validateProperty(t,"metadata","object"),i.validateProperty(t,"content","object"),i.validateProperty(t,"channel","string"),function(t){for(let e=0;e<r.length;e++)i.validateProperty(t,r[e],"string")}(t.header),"iopub"===t.channel&&function(t){if("iopub"===t.channel){const e=s[t.header.msg_type];if(void 0===e)return;const n=Object.keys(e),r=t.content;for(let t=0;t<n.length;t++){let s=e[n[t]];Array.isArray(s)||(s=[s]),i.validateProperty(r,n[t],...s)}}}(t)},e.validateModel=o,e.validateModels=function(t){if(!Array.isArray(t))throw new Error("Invalid kernel list");t.forEach((t=>o(t)))}},2902:function(t,e,n){var i=this&&this.D||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.R||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.L||function(t){if(t&&t.t)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},o=this&&this.j||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"t",{value:!0}),e.KernelSpecAPI=e.KernelSpec=void 0;const u=s(n(9453));e.KernelSpec=u;const a=s(n(3415));e.KernelSpecAPI=a,o(n(4936),e)},9453:(t,e)=>{Object.defineProperty(e,"t",{value:!0})},4936:function(t,e,n){var i=this&&this.D||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.R||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.L||function(t){if(t&&t.t)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e};Object.defineProperty(e,"t",{value:!0}),e.KernelSpecManager=void 0;const o=n(6201),u=n(3114),a=n(4016),h=s(n(3415)),c=n(591);class l extends c.BaseManager{constructor(t={}){var e;super(t),this._isReady=!1,this._connectionFailure=new a.Signal(this),this._specs=null,this._specsChanged=new a.Signal(this),this._ready=Promise.all([this.requestSpecs()]).then((t=>{})).catch((t=>{})).then((()=>{this.isDisposed||(this._isReady=!0)})),this._pollSpecs=new u.Poll({auto:!1,factory:()=>this.requestSpecs(),frequency:{interval:61e3,backoff:!0,max:3e5},name:"@jupyterlab/services:KernelSpecManager#specs",standby:null!==(e=t.standby)&&void 0!==e?e:"when-hidden"}),this.ready.then((()=>{this._pollSpecs.start()}))}get isReady(){return this._isReady}get ready(){return this._ready}get specs(){return this._specs}get specsChanged(){return this._specsChanged}get connectionFailure(){return this._connectionFailure}dispose(){this._pollSpecs.dispose(),super.dispose()}async refreshSpecs(){await this._pollSpecs.refresh(),await this._pollSpecs.tick}async requestSpecs(){const t=await h.getSpecs(this.serverSettings);this.isDisposed||o.JSONExt.deepEqual(t,this._specs)||(this._specs=t,this._specsChanged.emit(t))}}e.KernelSpecManager=l},3415:(t,e,n)=>{Object.defineProperty(e,"t",{value:!0}),e.getSpecs=void 0;const i=n(8477),r=n(3103),s=n(9622);e.getSpecs=async function(t=i.ServerConnection.makeSettings()){const e=s.URLExt.join(t.baseUrl,"api/kernelspecs"),n=await i.ServerConnection.makeRequest(e,{},t);if(200!==n.status)throw await i.ServerConnection.ResponseError.create(n);const o=await n.json();return r.validateSpecModels(o)}},3103:(t,e,n)=>{Object.defineProperty(e,"t",{value:!0}),e.validateSpecModels=e.validateSpecModel=void 0;const i=n(6901);function r(t){const e=t.spec;if(!e)throw new Error("Invalid kernel spec");i.validateProperty(t,"name","string"),i.validateProperty(t,"resources","object"),i.validateProperty(e,"language","string"),i.validateProperty(e,"display_name","string"),i.validateProperty(e,"argv","array");let n=null;e.hasOwnProperty("metadata")&&(i.validateProperty(e,"metadata","object"),n=e.metadata);let r=null;return e.hasOwnProperty("env")&&(i.validateProperty(e,"env","object"),r=e.env),{name:t.name,resources:t.resources,language:e.language,display_name:e.display_name,argv:e.argv,metadata:n,env:r}}e.validateSpecModel=r,e.validateSpecModels=function(t){if(!t.hasOwnProperty("kernelspecs"))throw new Error("No kernelspecs found");let e=Object.keys(t.kernelspecs);const n=Object.create(null);let i=t.default;for(let i=0;i<e.length;i++){const s=t.kernelspecs[e[i]];try{n[e[i]]=r(s)}catch(t){console.warn(`Removing errant kernel spec: ${e[i]}`)}}if(e=Object.keys(n),!e.length)throw new Error("No valid kernelspecs found");return i&&"string"==typeof i&&i in n||(i=e[0],console.warn(`Default kernel not found, using '${e[0]}'`)),{default:i,kernelspecs:n}}},3079:(t,e,n)=>{Object.defineProperty(e,"t",{value:!0}),e.ServiceManager=void 0;const i=n(4016),r=n(3227),s=n(4574),o=n(3644),u=n(2902),a=n(1874),h=n(2726),c=n(3247),l=n(8477),f=n(5399),d=n(2604);e.ServiceManager=class{constructor(t={}){var e,n;this._isDisposed=!1,this._connectionFailure=new i.Signal(this),this._isReady=!1;const p=t.defaultDrive,m=null!==(e=t.serverSettings)&&void 0!==e?e:l.ServerConnection.makeSettings(),v={defaultDrive:p,serverSettings:m,standby:null!==(n=t.standby)&&void 0!==n?n:"when-hidden"},g=new d.KernelManager(v);this.serverSettings=m,this.contents=new o.ContentsManager(v),this.sessions=new a.SessionManager(Object.assign(Object.assign({},v),{kernelManager:g})),this.settings=new h.SettingManager(v),this.terminals=new c.TerminalManager(v),this.builder=new r.BuildManager(v),this.workspaces=new f.WorkspaceManager(v),this.nbconvert=new s.NbConvertManager(v),this.kernelspecs=new u.KernelSpecManager(v),this.kernelspecs.connectionFailure.connect(this._onConnectionFailure,this),this.sessions.connectionFailure.connect(this._onConnectionFailure,this),this.terminals.connectionFailure.connect(this._onConnectionFailure,this);const b=[this.sessions.ready,this.kernelspecs.ready];this.terminals.isAvailable()&&b.push(this.terminals.ready),this._readyPromise=Promise.all(b).then((()=>{this._isReady=!0}))}get connectionFailure(){return this._connectionFailure}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,i.Signal.clearData(this),this.contents.dispose(),this.sessions.dispose(),this.terminals.dispose())}get isReady(){return this._isReady}get ready(){return this._readyPromise}_onConnectionFailure(t,e){this._connectionFailure.emit(e)}}},4574:(t,e,n)=>{Object.defineProperty(e,"t",{value:!0}),e.NbConvertManager=void 0;const i=n(9622),r=n(8477);e.NbConvertManager=class{constructor(t={}){var e;this.serverSettings=null!==(e=t.serverSettings)&&void 0!==e?e:r.ServerConnection.makeSettings()}async getExportFormats(){const t=this.serverSettings.baseUrl,e=i.URLExt.join(t,"api/nbconvert"),{serverSettings:n}=this,s=await r.ServerConnection.makeRequest(e,{},n);if(200!==s.status)throw await r.ServerConnection.ResponseError.create(s);const o=await s.json(),u={};return Object.keys(o).forEach((function(t){const e=o[t].output_mimetype;u[t]={output_mimetype:e}})),u}}},8477:(t,e,n)=>{var i,r,s;Object.defineProperty(e,"t",{value:!0}),e.ServerConnection=void 0;const o=n(9622);let u,a,h,c;if("undefined"==typeof window){const t=n(1763);u=null!==(i=n.g.fetch)&&void 0!==i?i:t,h=null!==(r=n.g.Request)&&void 0!==r?r:t.Request,a=null!==(s=n.g.Headers)&&void 0!==s?s:t.Headers,c=n(2447)}else u=fetch,h=Request,a=Headers,c=WebSocket;var l,f;!function(t){t.makeSettings=function(t){return f.makeSettings(t)},t.makeRequest=function(t,e,n){return f.handleRequest(t,e,n)};class e extends Error{constructor(t,e=`Invalid response: ${t.status} ${t.statusText}`,n=""){super(e),this.response=t,this.traceback=n}static async create(t){try{const n=await t.json();return n.traceback&&console.error(n.traceback),n.message?new e(t,n.message):new e(t)}catch(n){return console.debug(n),new e(t)}}}t.ResponseError=e;class n extends TypeError{constructor(t){super(t.message),this.stack=t.stack}}t.NetworkError=n}(l=e.ServerConnection||(e.ServerConnection={})),function(t){t.makeSettings=function(t={}){const e=o.PageConfig.getBaseUrl(),n=o.PageConfig.getWsUrl(),i=o.URLExt.normalize(t.baseUrl)||e;let r=t.wsUrl;return r||i!==e||(r=n),r||0!==i.indexOf("http")||(r="ws"+i.slice(4)),r=null!=r?r:n,Object.assign(Object.assign({init:{cache:"no-store",credentials:"same-origin"},fetch:u,Headers:a,Request:h,WebSocket:c,token:o.PageConfig.getToken(),appUrl:o.PageConfig.getOption("appUrl"),appendToken:"undefined"==typeof window||void 0!=={}.JEST_WORKER_ID||o.URLExt.getHostName(e)!==o.URLExt.getHostName(r)},t),{baseUrl:i,wsUrl:r})},t.handleRequest=function(t,e,n){var i;if(0!==t.indexOf(n.baseUrl))throw new Error("Can only be used for notebook server requests");"no-store"===(null!==(i=e.cache)&&void 0!==i?i:n.init.cache)&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime());const r=new n.Request(t,Object.assign(Object.assign({},n.init),e));let s=!1;if(n.token&&(s=!0,r.headers.append("Authorization",`token ${n.token}`)),"undefined"!=typeof document&&(null===document||void 0===document?void 0:document.cookie)){const t=function(t){const e=document.cookie.match("\\b_xsrf=([^;]*)\\b");return null==e?void 0:e[1]}();void 0!==t&&(s=!0,r.headers.append("X-XSRFToken",t))}return!r.headers.has("Content-Type")&&s&&r.headers.set("Content-Type","application/json"),n.fetch.call(null,r).catch((t=>{throw new l.NetworkError(t)}))}}(f||(f={}))},5410:(t,e,n)=>{Object.defineProperty(e,"t",{value:!0}),e.SessionConnection=void 0;const i=n(4016),r=n(6240),s=n(6807),o=n(6201);e.SessionConnection=class{constructor(t){var e,n,s,u;this._id="",this._path="",this._name="",this._type="",this._kernel=null,this._isDisposed=!1,this._disposed=new i.Signal(this),this._kernelChanged=new i.Signal(this),this._statusChanged=new i.Signal(this),this._connectionStatusChanged=new i.Signal(this),this._pendingInput=new i.Signal(this),this._iopubMessage=new i.Signal(this),this._unhandledMessage=new i.Signal(this),this._anyMessage=new i.Signal(this),this._propertyChanged=new i.Signal(this),this._id=t.model.id,this._name=t.model.name,this._path=t.model.path,this._type=t.model.type,this._username=null!==(e=t.username)&&void 0!==e?e:"",this._clientId=null!==(n=t.clientId)&&void 0!==n?n:o.UUID.uuid4(),this._connectToKernel=t.connectToKernel,this._kernelConnectionOptions=null!==(s=t.kernelConnectionOptions)&&void 0!==s?s:{},this.serverSettings=null!==(u=t.serverSettings)&&void 0!==u?u:r.ServerConnection.makeSettings(),this.setupKernel(t.model.kernel)}get disposed(){return this._disposed}get kernelChanged(){return this._kernelChanged}get statusChanged(){return this._statusChanged}get connectionStatusChanged(){return this._connectionStatusChanged}get pendingInput(){return this._pendingInput}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get anyMessage(){return this._anyMessage}get propertyChanged(){return this._propertyChanged}get id(){return this._id}get kernel(){return this._kernel}get path(){return this._path}get type(){return this._type}get name(){return this._name}get model(){return{id:this.id,kernel:this.kernel&&{id:this.kernel.id,name:this.kernel.name},path:this._path,type:this._type,name:this._name}}get isDisposed(){return this._isDisposed}update(t){const e=this.model;if(this._path=t.path,this._name=t.name,this._type=t.type,null===this._kernel&&null!==t.kernel||null!==this._kernel&&null===t.kernel||null!==this._kernel&&null!==t.kernel&&this._kernel.id!==t.kernel.id){null!==this._kernel&&this._kernel.dispose();const e=this._kernel||null;this.setupKernel(t.kernel);const n=this._kernel||null;this._kernelChanged.emit({name:"kernel",oldValue:e,newValue:n})}this._handleModelChange(e)}dispose(){if(!this.isDisposed){if(this._isDisposed=!0,this._disposed.emit(),this._kernel){this._kernel.dispose();const t=this._kernel;this._kernel=null;const e=this._kernel;this._kernelChanged.emit({name:"kernel",oldValue:t,newValue:e})}i.Signal.clearData(this)}}async setPath(t){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({path:t})}async setName(t){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({name:t})}async setType(t){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({type:t})}async changeKernel(t){if(this.isDisposed)throw new Error("Session is disposed");return await this._patch({kernel:t}),this.kernel}async shutdown(){if(this.isDisposed)throw new Error("Session is disposed");await s.shutdownSession(this.id,this.serverSettings),this.dispose()}setupKernel(t){if(null===t)return void(this._kernel=null);const e=this._connectToKernel(Object.assign(Object.assign({},this._kernelConnectionOptions),{model:t,username:this._username,clientId:this._clientId,serverSettings:this.serverSettings}));this._kernel=e,e.statusChanged.connect(this.onKernelStatus,this),e.connectionStatusChanged.connect(this.onKernelConnectionStatus,this),e.pendingInput.connect(this.onPendingInput,this),e.unhandledMessage.connect(this.onUnhandledMessage,this),e.iopubMessage.connect(this.onIOPubMessage,this),e.anyMessage.connect(this.onAnyMessage,this)}onKernelStatus(t,e){this._statusChanged.emit(e)}onKernelConnectionStatus(t,e){this._connectionStatusChanged.emit(e)}onPendingInput(t,e){this._pendingInput.emit(e)}onIOPubMessage(t,e){this._iopubMessage.emit(e)}onUnhandledMessage(t,e){this._unhandledMessage.emit(e)}onAnyMessage(t,e){this._anyMessage.emit(e)}async _patch(t){const e=await s.updateSession(Object.assign(Object.assign({},t),{id:this._id}),this.serverSettings);return this.update(e),e}_handleModelChange(t){t.name!==this._name&&this._propertyChanged.emit("name"),t.type!==this._type&&this._propertyChanged.emit("type"),t.path!==this._path&&this._propertyChanged.emit("path")}}},1874:function(t,e,n){var i=this&&this.D||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.R||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.L||function(t){if(t&&t.t)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},o=this&&this.j||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"t",{value:!0}),e.SessionAPI=e.Session=void 0;const u=s(n(1372));e.Session=u;const a=s(n(6807));e.SessionAPI=a,o(n(7847),e)},7847:(t,e,n)=>{Object.defineProperty(e,"t",{value:!0}),e.SessionManager=void 0;const i=n(5259),r=n(3114),s=n(4016),o=n(8477),u=n(591),a=n(5410),h=n(6807);class c extends u.BaseManager{constructor(t){var e;super(t),this._isReady=!1,this._sessionConnections=new Set,this._models=new Map,this._runningChanged=new s.Signal(this),this._connectionFailure=new s.Signal(this),this._connectToKernel=t=>this._kernelManager.connectTo(t),this._kernelManager=t.kernelManager,this._pollModels=new r.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:SessionManager#models",standby:null!==(e=t.standby)&&void 0!==e?e:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,await this._kernelManager.ready,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._models.clear(),this._sessionConnections.forEach((t=>t.dispose())),this._pollModels.dispose(),super.dispose())}connectTo(t){const e=new a.SessionConnection(Object.assign(Object.assign({},t),{connectToKernel:this._connectToKernel,serverSettings:this.serverSettings}));return this._onStarted(e),this._models.has(t.model.id)||this.refreshRunning().catch((()=>{})),e}running(){return i.iter([...this._models.values()])}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(t,e={}){const n=await h.startSession(t,this.serverSettings);return await this.refreshRunning(),this.connectTo(Object.assign(Object.assign({},e),{model:n}))}async shutdown(t){await h.shutdownSession(t,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all([...this._models.keys()].map((t=>h.shutdownSession(t,this.serverSettings)))),await this.refreshRunning()}async stopIfNeeded(t){try{const e=(await h.listRunning(this.serverSettings)).filter((e=>e.path===t));if(1===e.length){const t=e[0].id;await this.shutdown(t)}}catch(t){}}async findById(t){return this._models.has(t)||await this.refreshRunning(),this._models.get(t)}async findByPath(t){for(const e of this._models.values())if(e.path===t)return e;await this.refreshRunning();for(const e of this._models.values())if(e.path===t)return e}async requestRunning(){var t,e;let n;try{n=await h.listRunning(this.serverSettings)}catch(n){throw(n instanceof o.ServerConnection.NetworkError||503===(null===(t=n.response)||void 0===t?void 0:t.status)||424===(null===(e=n.response)||void 0===e?void 0:e.status))&&this._connectionFailure.emit(n),n}this.isDisposed||this._models.size===n.length&&i.every(n,(t=>{var e,n,i,r;const s=this._models.get(t.id);return!!s&&(null===(e=s.kernel)||void 0===e?void 0:e.id)===(null===(n=t.kernel)||void 0===n?void 0:n.id)&&(null===(i=s.kernel)||void 0===i?void 0:i.name)===(null===(r=t.kernel)||void 0===r?void 0:r.name)&&s.name===t.name&&s.path===t.path&&s.type===t.type}))||(this._models=new Map(n.map((t=>[t.id,t]))),this._sessionConnections.forEach((t=>{this._models.has(t.id)?t.update(this._models.get(t.id)):t.dispose()})),this._runningChanged.emit(n))}_onStarted(t){this._sessionConnections.add(t),t.disposed.connect(this._onDisposed,this),t.propertyChanged.connect(this._onChanged,this),t.kernelChanged.connect(this._onChanged,this)}_onDisposed(t){this._sessionConnections.delete(t),this.refreshRunning().catch((()=>{}))}_onChanged(){this.refreshRunning().catch((()=>{}))}}e.SessionManager=c},6807:(t,e,n)=>{Object.defineProperty(e,"t",{value:!0}),e.updateSession=e.startSession=e.getSessionModel=e.shutdownSession=e.getSessionUrl=e.listRunning=e.SESSION_SERVICE_URL=void 0;const i=n(8477),r=n(9622),s=n(9145);function o(t,n){return r.URLExt.join(t,e.SESSION_SERVICE_URL,n)}e.SESSION_SERVICE_URL="api/sessions",e.listRunning=async function(t=i.ServerConnection.makeSettings()){const n=r.URLExt.join(t.baseUrl,e.SESSION_SERVICE_URL),o=await i.ServerConnection.makeRequest(n,{},t);if(200!==o.status)throw await i.ServerConnection.ResponseError.create(o);const u=await o.json();if(!Array.isArray(u))throw new Error("Invalid Session list");return u.forEach((t=>{s.updateLegacySessionModel(t),s.validateModel(t)})),u},e.getSessionUrl=o,e.shutdownSession=async function(t,e=i.ServerConnection.makeSettings()){var n;const r=o(e.baseUrl,t),s=await i.ServerConnection.makeRequest(r,{method:"DELETE"},e);if(404===s.status){const e=null!==(n=(await s.json()).message)&&void 0!==n?n:`The session "${t}"" does not exist on the server`;console.warn(e)}else{if(410===s.status)throw new i.ServerConnection.ResponseError(s,"The kernel was deleted but the session was not");if(204!==s.status)throw await i.ServerConnection.ResponseError.create(s)}},e.getSessionModel=async function(t,e=i.ServerConnection.makeSettings()){const n=o(e.baseUrl,t),r=await i.ServerConnection.makeRequest(n,{},e);if(200!==r.status)throw await i.ServerConnection.ResponseError.create(r);const u=await r.json();return s.updateLegacySessionModel(u),s.validateModel(u),u},e.startSession=async function(t,n=i.ServerConnection.makeSettings()){const o=r.URLExt.join(n.baseUrl,e.SESSION_SERVICE_URL),u={method:"POST",body:JSON.stringify(t)},a=await i.ServerConnection.makeRequest(o,u,n);if(201!==a.status)throw await i.ServerConnection.ResponseError.create(a);const h=await a.json();return s.updateLegacySessionModel(h),s.validateModel(h),h},e.updateSession=async function(t,e=i.ServerConnection.makeSettings()){const n=o(e.baseUrl,t.id),r={method:"PATCH",body:JSON.stringify(t)},u=await i.ServerConnection.makeRequest(n,r,e);if(200!==u.status)throw await i.ServerConnection.ResponseError.create(u);const a=await u.json();return s.updateLegacySessionModel(a),s.validateModel(a),a}},1372:(t,e)=>{Object.defineProperty(e,"t",{value:!0})},9145:(t,e,n)=>{Object.defineProperty(e,"t",{value:!0}),e.validateModels=e.updateLegacySessionModel=e.validateModel=void 0;const i=n(6512),r=n(6901);function s(t){r.validateProperty(t,"id","string"),r.validateProperty(t,"type","string"),r.validateProperty(t,"name","string"),r.validateProperty(t,"path","string"),r.validateProperty(t,"kernel","object"),i.validateModel(t.kernel)}e.validateModel=s,e.updateLegacySessionModel=function(t){void 0===t.path&&void 0!==t.notebook&&(t.path=t.notebook.path,t.type="notebook",t.name="")},e.validateModels=function(t){if(!Array.isArray(t))throw new Error("Invalid session list");t.forEach((t=>s(t)))}},2726:(t,e,n)=>{Object.defineProperty(e,"t",{value:!0}),e.SettingManager=void 0;const i=n(9622),r=n(7266),s=n(8477);class o extends r.DataConnector{constructor(t={}){var e;super(),this.serverSettings=null!==(e=t.serverSettings)&&void 0!==e?e:s.ServerConnection.makeSettings()}async fetch(t){if(!t)throw new Error("Plugin `id` parameter is required for settings fetch.");const{serverSettings:e}=this,{baseUrl:n,appUrl:i}=e,{makeRequest:r,ResponseError:o}=s.ServerConnection,a=n+i,h=u.url(a,t),c=await r(h,{},e);if(200!==c.status)throw await o.create(c);return c.json()}async list(){var t,e;const{serverSettings:n}=this,{baseUrl:i,appUrl:r}=n,{makeRequest:o,ResponseError:a}=s.ServerConnection,h=i+r,c=u.url(h,""),l=await o(c,{},n);if(200!==l.status)throw new a(l);const f=await l.json(),d=null!==(e=null===(t=null==f?void 0:f.settings)||void 0===t?void 0:t.map((t=>(t.data={composite:{},user:{}},t))))&&void 0!==e?e:[];return{ids:d.map((t=>t.id)),values:d}}async save(t,e){const{serverSettings:n}=this,{baseUrl:i,appUrl:r}=n,{makeRequest:o,ResponseError:a}=s.ServerConnection,h=i+r,c=u.url(h,t),l={body:JSON.stringify({raw:e}),method:"PUT"},f=await o(c,l,n);if(204!==f.status)throw new a(f)}}var u;e.SettingManager=o,function(t){t.url=function(t,e){return i.URLExt.join(t,"api/settings",e)}}(u||(u={}))},2447:(t,e)=>{Object.defineProperty(e,"t",{value:!0}),e.default=WebSocket},3247:(t,e)=>{},6901:(t,e)=>{Object.defineProperty(e,"t",{value:!0}),e.validateProperty=void 0,e.validateProperty=function(t,e,n,i=[]){if(!t.hasOwnProperty(e))throw Error(`Missing property '${e}'`);const r=t[e];if(void 0!==n){let t=!0;switch(n){case"array":t=Array.isArray(r);break;case"object":t=void 0!==r;break;default:t=typeof r===n}if(!t)throw new Error(`Property '${e}' is not of type '${n}'`);if(i.length>0){let t=!0;switch(n){case"string":case"number":case"boolean":t=i.includes(r);break;default:t=i.findIndex((t=>t===r))>=0}if(!t)throw new Error(`Property '${e}' is not one of the valid values ${JSON.stringify(i)}`)}}}},5399:(t,e,n)=>{Object.defineProperty(e,"t",{value:!0}),e.WorkspaceManager=void 0;const i=n(9622),r=n(7266),s=n(8477);class o extends r.DataConnector{constructor(t={}){var e;super(),this.serverSettings=null!==(e=t.serverSettings)&&void 0!==e?e:s.ServerConnection.makeSettings()}async fetch(t){const{serverSettings:e}=this,{baseUrl:n,appUrl:i}=e,{makeRequest:r,ResponseError:o}=s.ServerConnection,a=n+i,h=u.url(a,t),c=await r(h,{},e);if(200!==c.status)throw await o.create(c);return c.json()}async list(){const{serverSettings:t}=this,{baseUrl:e,appUrl:n}=t,{makeRequest:i,ResponseError:r}=s.ServerConnection,o=e+n,a=u.url(o,""),h=await i(a,{},t);if(200!==h.status)throw await r.create(h);return(await h.json()).workspaces}async remove(t){const{serverSettings:e}=this,{baseUrl:n,appUrl:i}=e,{makeRequest:r,ResponseError:o}=s.ServerConnection,a=n+i,h=u.url(a,t),c=await r(h,{method:"DELETE"},e);if(204!==c.status)throw await o.create(c)}async save(t,e){const{serverSettings:n}=this,{baseUrl:i,appUrl:r}=n,{makeRequest:o,ResponseError:a}=s.ServerConnection,h=i+r,c=u.url(h,t),l={body:JSON.stringify(e),method:"PUT"},f=await o(c,l,n);if(204!==f.status)throw await a.create(f)}}var u;e.WorkspaceManager=o,function(t){t.url=function(t,e){return i.URLExt.join(t,"api/workspaces",e)}}(u||(u={}))},9525:(t,e)=>{Object.defineProperty(e,"t",{value:!0}),e.DataConnector=void 0,e.DataConnector=class{async list(t){throw new Error("DataConnector#list method has not been implemented.")}async remove(t){throw new Error("DataConnector#remove method has not been implemented.")}async save(t,e){throw new Error("DataConnector#save method has not been implemented.")}}},7266:function(t,e,n){var i=this&&this.D||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.j||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"t",{value:!0}),r(n(9525),e),r(n(4623),e),r(n(1156),e),r(n(4962),e),r(n(7263),e)},4623:(t,e)=>{Object.defineProperty(e,"t",{value:!0})},1156:(t,e,n)=>{Object.defineProperty(e,"t",{value:!0}),e.RestorablePool=void 0;const i=n(6201),r=n(9770),s=n(4016);var o;e.RestorablePool=class{constructor(t){this._added=new s.Signal(this),this._current=null,this._currentChanged=new s.Signal(this),this._hasRestored=!1,this._isDisposed=!1,this._objects=new Set,this._restore=null,this._restored=new i.PromiseDelegate,this._updated=new s.Signal(this),this.namespace=t.namespace}get added(){return this._added}get current(){return this._current}set current(t){this._current!==t&&null!==t&&this._objects.has(t)&&(this._current=t,this._currentChanged.emit(this._current))}get currentChanged(){return this._currentChanged}get isDisposed(){return this._isDisposed}get restored(){return this._restored.promise}get size(){return this._objects.size}get updated(){return this._updated}async add(t){var e,n;if(t.isDisposed){const e="A disposed object cannot be added.";throw console.warn(e,t),new Error(e)}if(this._objects.has(t)){const e="This object already exists in the pool.";throw console.warn(e,t),new Error(e)}if(this._objects.add(t),t.disposed.connect(this._onInstanceDisposed,this),!o.injectedProperty.get(t)){if(this._restore){const{connector:i}=this._restore,r=this._restore.name(t);if(r){const s=`${this.namespace}:${r}`,u=null===(n=(e=this._restore).args)||void 0===n?void 0:n.call(e,t);o.nameProperty.set(t,s),await i.save(s,{data:u})}}this._added.emit(t)}}dispose(){this.isDisposed||(this._current=null,this._isDisposed=!0,this._objects.clear(),s.Signal.clearData(this))}find(t){const e=this._objects.values();for(const n of e)if(t(n))return n}forEach(t){this._objects.forEach(t)}filter(t){const e=[];return this.forEach((n=>{t(n)&&e.push(n)})),e}inject(t){return o.injectedProperty.set(t,!0),this.add(t)}has(t){return this._objects.has(t)}async restore(t){if(this._hasRestored)throw new Error("This pool has already been restored.");this._hasRestored=!0;const{command:e,connector:n,registry:i,when:r}=t,s=this.namespace,o=r?[n.list(s)].concat(r):[n.list(s)];this._restore=t;const[u]=await Promise.all(o),a=await Promise.all(u.ids.map((async(t,r)=>{const s=u.values[r],o=s&&s.data;return void 0===o?n.remove(t):i.execute(e,o).catch((()=>n.remove(t)))})));return this._restored.resolve(),a}async save(t){var e,n;const i=o.injectedProperty.get(t);if(!this._restore||!this.has(t)||i)return;const{connector:r}=this._restore,s=this._restore.name(t),u=o.nameProperty.get(t),a=s?`${this.namespace}:${s}`:"";if(u&&u!==a&&await r.remove(u),o.nameProperty.set(t,a),a){const i=null===(n=(e=this._restore).args)||void 0===n?void 0:n.call(e,t);await r.save(a,{data:i})}u!==a&&this._updated.emit(t)}_onInstanceDisposed(t){if(this._objects.delete(t),t===this._current&&(this._current=null,this._currentChanged.emit(this._current)),o.injectedProperty.get(t))return;if(!this._restore)return;const{connector:e}=this._restore,n=o.nameProperty.get(t);n&&e.remove(n)}},function(t){t.injectedProperty=new r.AttachedProperty({name:"injected",create:()=>!1}),t.nameProperty=new r.AttachedProperty({name:"name",create:()=>""})}(o||(o={}))},4962:(t,e,n)=>{Object.defineProperty(e,"t",{value:!0}),e.StateDB=void 0;const i=n(4016);class r{constructor(t={}){this._changed=new i.Signal(this);const{connector:e,transform:n}=t;this._connector=e||new r.Connector,this._ready=n?n.then((t=>{const{contents:e,type:n}=t;switch(n){case"cancel":default:return;case"clear":return this._clear();case"merge":return this._merge(e||{});case"overwrite":return this._overwrite(e||{})}})):Promise.resolve(void 0)}get changed(){return this._changed}async clear(){await this._ready,await this._clear()}async fetch(t){return await this._ready,this._fetch(t)}async list(t){return await this._ready,this._list(t)}async remove(t){await this._ready,await this._remove(t),this._changed.emit({id:t,type:"remove"})}async save(t,e){await this._ready,await this._save(t,e),this._changed.emit({id:t,type:"save"})}async toJSON(){await this._ready;const{ids:t,values:e}=await this._list();return e.reduce(((e,n,i)=>(e[t[i]]=n,e)),{})}async _clear(){await Promise.all((await this._list()).ids.map((t=>this._remove(t))))}async _fetch(t){const e=await this._connector.fetch(t);if(e)return JSON.parse(e).v}async _list(t=""){const{ids:e,values:n}=await this._connector.list(t);return{ids:e,values:n.map((t=>JSON.parse(t).v))}}async _merge(t){await Promise.all(Object.keys(t).map((e=>t[e]&&this._save(e,t[e]))))}async _overwrite(t){await this._clear(),await this._merge(t)}async _remove(t){return this._connector.remove(t)}async _save(t,e){return this._connector.save(t,JSON.stringify({v:e}))}}e.StateDB=r,function(t){t.Connector=class{constructor(){this._storage={}}async fetch(t){return this._storage[t]}async list(t=""){return Object.keys(this._storage).reduce(((e,n)=>(""!==t&&t!==n.split(":")[0]||(e.ids.push(n),e.values.push(this._storage[n])),e)),{ids:[],values:[]})}async remove(t){delete this._storage[t]}async save(t,e){this._storage[t]=e}}}(r=e.StateDB||(e.StateDB={}))},7263:(t,e,n)=>{Object.defineProperty(e,"t",{value:!0}),e.IStateDB=void 0;const i=n(6201);e.IStateDB=new i.Token("@jupyterlab/coreutils:IStateDB")},5259:(t,e,n)=>{var i;function r(t){return"function"==typeof t.iter?t.iter():new p(t)}function s(t){return new m(t)}function o(t){return new v(t)}function u(t){return new g(t)}function a(t){return new b(t)}function h(t,e){for(var n,i=0,s=r(t);void 0!==(n=s.next());)if(!1===e(n,i++))return}function c(t,e){for(var n,i=0,s=r(t);void 0!==(n=s.next());)if(!e(n,i++))return!1;return!0}function l(t,e){for(var n,i=0,s=r(t);void 0!==(n=s.next());)if(e(n,i++))return!0;return!1}function f(t){for(var e,n=0,i=[],s=r(t);void 0!==(e=s.next());)i[n++]=e;return i}function d(t){for(var e,n=r(t),i={};void 0!==(e=n.next());)i[e[0]]=e[1];return i}n.r(e),n.d(e,{ArrayExt:()=>i,ArrayIterator:()=>p,ChainIterator:()=>y,EmptyIterator:()=>D,EnumerateIterator:()=>x,FilterIterator:()=>M,FnIterator:()=>b,ItemIterator:()=>g,KeyIterator:()=>m,MapIterator:()=>R,RangeIterator:()=>B,RepeatIterator:()=>z,RetroArrayIterator:()=>P,StrideIterator:()=>J,StringExt:()=>V,TakeIterator:()=>W,ValueIterator:()=>v,ZipIterator:()=>K,chain:()=>w,each:()=>h,empty:()=>k,enumerate:()=>j,every:()=>c,filter:()=>_,find:()=>A,findIndex:()=>C,iter:()=>r,iterFn:()=>a,iterItems:()=>u,iterKeys:()=>s,iterValues:()=>o,map:()=>T,max:()=>O,min:()=>E,minmax:()=>S,once:()=>I,range:()=>F,reduce:()=>q,repeat:()=>L,retro:()=>N,some:()=>l,stride:()=>H,take:()=>G,toArray:()=>f,toObject:()=>d,topologicSort:()=>U,zip:()=>Z}),function(t){function e(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var r,s=t.length;if(0===s)return-1;n=n<0?Math.max(0,n+s):Math.min(n,s-1),r=(i=i<0?Math.max(0,i+s):Math.min(i,s-1))<n?i+1+(s-n):i-n+1;for(var o=0;o<r;++o){var u=(n+o)%s;if(t[u]===e)return u}return-1}function n(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var r,s=t.length;if(0===s)return-1;r=(n=n<0?Math.max(0,n+s):Math.min(n,s-1))<(i=i<0?Math.max(0,i+s):Math.min(i,s-1))?n+1+(s-i):n-i+1;for(var o=0;o<r;++o){var u=(n-o+s)%s;if(t[u]===e)return u}return-1}function i(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var r,s=t.length;if(0===s)return-1;n=n<0?Math.max(0,n+s):Math.min(n,s-1),r=(i=i<0?Math.max(0,i+s):Math.min(i,s-1))<n?i+1+(s-n):i-n+1;for(var o=0;o<r;++o){var u=(n+o)%s;if(e(t[u],u))return u}return-1}function r(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var r,s=t.length;if(0===s)return-1;r=(n=n<0?Math.max(0,n+s):Math.min(n,s-1))<(i=i<0?Math.max(0,i+s):Math.min(i,s-1))?n+1+(s-i):n-i+1;for(var o=0;o<r;++o){var u=(n-o+s)%s;if(e(t[u],u))return u}return-1}function s(t,e,n){void 0===e&&(e=0),void 0===n&&(n=-1);var i=t.length;if(!(i<=1))for(e=e<0?Math.max(0,e+i):Math.min(e,i-1),n=n<0?Math.max(0,n+i):Math.min(n,i-1);e<n;){var r=t[e],s=t[n];t[e++]=s,t[n--]=r}}function o(t,e){var n=t.length;if(e<0&&(e+=n),!(e<0||e>=n)){for(var i=t[e],r=e+1;r<n;++r)t[r-1]=t[r];return t.length=n-1,i}}t.firstIndexOf=e,t.lastIndexOf=n,t.findFirstIndex=i,t.findLastIndex=r,t.findFirstValue=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var s=i(t,e,n,r);return-1!==s?t[s]:void 0},t.findLastValue=function(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var s=r(t,e,n,i);return-1!==s?t[s]:void 0},t.lowerBound=function(t,e,n,i,r){void 0===i&&(i=0),void 0===r&&(r=-1);var s=t.length;if(0===s)return 0;for(var o=i=i<0?Math.max(0,i+s):Math.min(i,s-1),u=(r=r<0?Math.max(0,r+s):Math.min(r,s-1))-i+1;u>0;){var a=u>>1,h=o+a;n(t[h],e)<0?(o=h+1,u-=a+1):u=a}return o},t.upperBound=function(t,e,n,i,r){void 0===i&&(i=0),void 0===r&&(r=-1);var s=t.length;if(0===s)return 0;for(var o=i=i<0?Math.max(0,i+s):Math.min(i,s-1),u=(r=r<0?Math.max(0,r+s):Math.min(r,s-1))-i+1;u>0;){var a=u>>1,h=o+a;n(t[h],e)>0?u=a:(o=h+1,u-=a+1)}return o},t.shallowEqual=function(t,e,n){if(t===e)return!0;if(t.length!==e.length)return!1;for(var i=0,r=t.length;i<r;++i)if(n?!n(t[i],e[i]):t[i]!==e[i])return!1;return!0},t.slice=function(t,e){void 0===e&&(e={});var n=e.start,i=e.stop,r=e.step;if(void 0===r&&(r=1),0===r)throw new Error("Slice `step` cannot be zero.");var s,o=t.length;void 0===n?n=r<0?o-1:0:n<0?n=Math.max(n+o,r<0?-1:0):n>=o&&(n=r<0?o-1:o),void 0===i?i=r<0?-1:o:i<0?i=Math.max(i+o,r<0?-1:0):i>=o&&(i=r<0?o-1:o),s=r<0&&i>=n||r>0&&n>=i?0:r<0?Math.floor((i-n+1)/r+1):Math.floor((i-n-1)/r+1);for(var u=[],a=0;a<s;++a)u[a]=t[n+a*r];return u},t.move=function(t,e,n){var i=t.length;if(!(i<=1)&&(e=e<0?Math.max(0,e+i):Math.min(e,i-1))!==(n=n<0?Math.max(0,n+i):Math.min(n,i-1))){for(var r=t[e],s=e<n?1:-1,o=e;o!==n;o+=s)t[o]=t[o+s];t[n]=r}},t.reverse=s,t.rotate=function(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var r=t.length;if(!(r<=1||(n=n<0?Math.max(0,n+r):Math.min(n,r-1))>=(i=i<0?Math.max(0,i+r):Math.min(i,r-1)))){var o=i-n+1;if(e>0?e%=o:e<0&&(e=(e%o+o)%o),0!==e){var u=n+e;s(t,n,u-1),s(t,u,i),s(t,n,i)}}},t.fill=function(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var r=t.length;if(0!==r){var s;n=n<0?Math.max(0,n+r):Math.min(n,r-1),s=(i=i<0?Math.max(0,i+r):Math.min(i,r-1))<n?i+1+(r-n):i-n+1;for(var o=0;o<s;++o)t[(n+o)%r]=e}},t.insert=function(t,e,n){var i=t.length;e=e<0?Math.max(0,e+i):Math.min(e,i);for(var r=i;r>e;--r)t[r]=t[r-1];t[e]=n},t.removeAt=o,t.removeFirstOf=function(t,n,i,r){void 0===i&&(i=0),void 0===r&&(r=-1);var s=e(t,n,i,r);return-1!==s&&o(t,s),s},t.removeLastOf=function(t,e,i,r){void 0===i&&(i=-1),void 0===r&&(r=0);var s=n(t,e,i,r);return-1!==s&&o(t,s),s},t.removeAllOf=function(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var r=t.length;if(0===r)return 0;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1);for(var s=0,o=0;o<r;++o)n<=i&&o>=n&&o<=i&&t[o]===e||i<n&&(o<=i||o>=n)&&t[o]===e?s++:s>0&&(t[o-s]=t[o]);return s>0&&(t.length=r-s),s},t.removeFirstWhere=function(t,e,n,r){var s;void 0===n&&(n=0),void 0===r&&(r=-1);var u=i(t,e,n,r);return-1!==u&&(s=o(t,u)),{index:u,value:s}},t.removeLastWhere=function(t,e,n,i){var s;void 0===n&&(n=-1),void 0===i&&(i=0);var u=r(t,e,n,i);return-1!==u&&(s=o(t,u)),{index:u,value:s}},t.removeAllWhere=function(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var r=t.length;if(0===r)return 0;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1);for(var s=0,o=0;o<r;++o)n<=i&&o>=n&&o<=i&&e(t[o],o)||i<n&&(o<=i||o>=n)&&e(t[o],o)?s++:s>0&&(t[o-s]=t[o]);return s>0&&(t.length=r-s),s}}(i||(i={}));var p=function(){function t(t){this._index=0,this._source=t}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},t}(),m=function(){function t(t,e){void 0===e&&(e=Object.keys(t)),this._index=0,this._source=t,this._keys=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var t=this._keys[this._index++];return t in this._source?t:this.next()}},t}(),v=function(){function t(t,e){void 0===e&&(e=Object.keys(t)),this._index=0,this._source=t,this._keys=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var t=this._keys[this._index++];return t in this._source?this._source[t]:this.next()}},t}(),g=function(){function t(t,e){void 0===e&&(e=Object.keys(t)),this._index=0,this._source=t,this._keys=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var t=this._keys[this._index++];return t in this._source?[t,this._source[t]]:this.next()}},t}(),b=function(){function t(t){this._fn=t}return t.prototype.iter=function(){return this},t.prototype.clone=function(){throw new Error("An `FnIterator` cannot be cloned.")},t.prototype.next=function(){return this._fn.call(void 0)},t}();function w(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new y(r(t.map(r)))}var y=function(){function t(t){this._cloned=!1,this._source=t,this._active=void 0}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone());return e._active=this._active&&this._active.clone(),e._cloned=!0,this._cloned=!0,e},t.prototype.next=function(){if(void 0===this._active){var t=this._source.next();if(void 0===t)return;this._active=this._cloned?t.clone():t}var e=this._active.next();return void 0!==e?e:(this._active=void 0,this.next())},t}();function k(){return new D}var D=function(){function t(){}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t},t.prototype.next=function(){},t}();function j(t,e){return void 0===e&&(e=0),new x(r(t),e)}var x=function(){function t(t,e){this._source=t,this._index=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._index)},t.prototype.next=function(){var t=this._source.next();if(void 0!==t)return[this._index++,t]},t}();function _(t,e){return new M(r(t),e)}var M=function(){function t(t,e){this._index=0,this._source=t,this._fn=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone(),this._fn);return e._index=this._index,e},t.prototype.next=function(){for(var t,e=this._fn,n=this._source;void 0!==(t=n.next());)if(e(t,this._index++))return t},t}();function A(t,e){for(var n,i=0,s=r(t);void 0!==(n=s.next());)if(e(n,i++))return n}function C(t,e){for(var n,i=0,s=r(t);void 0!==(n=s.next());)if(e(n,i++))return i-1;return-1}function E(t,e){var n=r(t),i=n.next();if(void 0!==i){for(var s=i;void 0!==(i=n.next());)e(i,s)<0&&(s=i);return s}}function O(t,e){var n=r(t),i=n.next();if(void 0!==i){for(var s=i;void 0!==(i=n.next());)e(i,s)>0&&(s=i);return s}}function S(t,e){var n=r(t),i=n.next();if(void 0!==i){for(var s=i,o=i;void 0!==(i=n.next());)e(i,s)<0?s=i:e(i,o)>0&&(o=i);return[s,o]}}function T(t,e){return new R(r(t),e)}var R=function(){function t(t,e){this._index=0,this._source=t,this._fn=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone(),this._fn);return e._index=this._index,e},t.prototype.next=function(){var t=this._source.next();if(void 0!==t)return this._fn.call(void 0,t,this._index++)},t}();function F(t,e,n){return void 0===e?new B(0,t,1):new B(t,e,void 0===n?1:n)}var $,B=function(){function t(t,e,n){this._index=0,this._start=t,this._stop=e,this._step=n,this._length=$.rangeLength(t,e,n)}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._start,this._stop,this._step);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._length))return this._start+this._step*this._index++},t}();function q(t,e,n){var i=0,s=r(t),o=s.next();if(void 0===o&&void 0===n)throw new TypeError("Reduce of empty iterable with no initial value.");if(void 0===o)return n;var u,a,h=s.next();if(void 0===h&&void 0===n)return o;if(void 0===h)return e(n,o,i++);for(u=e(void 0===n?o:e(n,o,i++),h,i++);void 0!==(a=s.next());)u=e(u,a,i++);return u}function L(t,e){return new z(t,e)}function I(t){return new z(t,1)}!function(t){t.rangeLength=function(t,e,n){return 0===n?1/0:t>e&&n>0||t<e&&n<0?0:Math.ceil((e-t)/n)}}($||($={}));var z=function(){function t(t,e){this._value=t,this._count=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._value,this._count)},t.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value},t}();function N(t){return"function"==typeof t.retro?t.retro():new P(t)}var P=function(){function t(t){this._source=t,this._index=t.length-1}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index<0||this._index>=this._source.length))return this._source[this._index--]},t}();function U(t){var e=[],n=new Set,i=new Map;return h(t,(function(t){var e=t[0],n=t[1],r=i.get(n);r?r.push(e):i.set(n,[e])})),i.forEach((function(t,e){r(e)})),e;function r(t){if(!n.has(t)){n.add(t);var s=i.get(t);s&&s.forEach(r),e.push(t)}}}function H(t,e){return new J(r(t),e)}var V,J=function(){function t(t,e){this._source=t,this._step=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._step)},t.prototype.next=function(){for(var t=this._source.next(),e=this._step-1;e>0;--e)this._source.next();return t},t}();function G(t,e){return new W(r(t),e)}!function(t){function e(t,e,n){void 0===n&&(n=0);for(var i=new Array(e.length),r=0,s=n,o=e.length;r<o;++r,++s){if(-1===(s=t.indexOf(e[r],s)))return null;i[r]=s}return i}t.findIndices=e,t.matchSumOfSquares=function(t,n,i){void 0===i&&(i=0);var r=e(t,n,i);if(!r)return null;for(var s=0,o=0,u=r.length;o<u;++o){var a=r[o]-i;s+=a*a}return{score:s,indices:r}},t.matchSumOfDeltas=function(t,n,i){void 0===i&&(i=0);var r=e(t,n,i);if(!r)return null;for(var s=0,o=i-1,u=0,a=r.length;u<a;++u){var h=r[u];s+=h-o-1,o=h}return{score:s,indices:r}},t.highlight=function(t,e,n){for(var i=[],r=0,s=0,o=e.length;r<o;){for(var u=e[r],a=e[r];++r<o&&e[r]===a+1;)a++;s<u&&i.push(t.slice(s,u)),u<a+1&&i.push(n(t.slice(u,a+1))),s=a+1}return s<t.length&&i.push(t.slice(s)),i},t.cmp=function(t,e){return t<e?-1:t>e?1:0}}(V||(V={}));var W=function(){function t(t,e){this._source=t,this._count=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._count)},t.prototype.next=function(){if(!(this._count<=0)){var t=this._source.next();if(void 0!==t)return this._count--,t}},t}();function Z(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new K(t.map(r))}var K=function(){function t(t){this._source=t}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.map((function(t){return t.clone()})))},t.prototype.next=function(){for(var t=new Array(this._source.length),e=0,n=this._source.length;e<n;++e){var i=this._source[e].next();if(void 0===i)return;t[e]=i}return t},t}()},6201:(t,e,n)=>{var i;n.r(e),n.d(e,{JSONExt:()=>i,MimeData:()=>s,PromiseDelegate:()=>o,Random:()=>r,Token:()=>a,UUID:()=>u}),function(t){function e(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t}function n(t){return Array.isArray(t)}t.emptyObject=Object.freeze({}),t.emptyArray=Object.freeze([]),t.isPrimitive=e,t.isArray=n,t.isObject=function(t){return!e(t)&&!n(t)},t.deepEqual=function t(i,r){if(i===r)return!0;if(e(i)||e(r))return!1;var s=n(i),o=n(r);return s===o&&(s&&o?function(e,n){if(e===n)return!0;if(e.length!==n.length)return!1;for(var i=0,r=e.length;i<r;++i)if(!t(e[i],n[i]))return!1;return!0}(i,r):function(e,n){if(e===n)return!0;for(var i in e)if(void 0!==e[i]&&!(i in n))return!1;for(var i in n)if(void 0!==n[i]&&!(i in e))return!1;for(var i in e){var r=e[i],s=n[i];if(void 0!==r||void 0!==s){if(void 0===r||void 0===s)return!1;if(!t(r,s))return!1}}return!0}(i,r))},t.deepCopy=function t(i){return e(i)?i:n(i)?function(e){for(var n=new Array(e.length),i=0,r=e.length;i<r;++i)n[i]=t(e[i]);return n}(i):function(e){var n={};for(var i in e){var r=e[i];void 0!==r&&(n[i]=t(r))}return n}(i)}}(i||(i={}));var r,s=function(){function t(){this._types=[],this._values=[]}return t.prototype.types=function(){return this._types.slice()},t.prototype.hasData=function(t){return-1!==this._types.indexOf(t)},t.prototype.getData=function(t){var e=this._types.indexOf(t);return-1!==e?this._values[e]:void 0},t.prototype.setData=function(t,e){this.clearData(t),this._types.push(t),this._values.push(e)},t.prototype.clearData=function(t){var e=this._types.indexOf(t);-1!==e&&(this._types.splice(e,1),this._values.splice(e,1))},t.prototype.clear=function(){this._types.length=0,this._values.length=0},t}(),o=function(){function t(){var t=this;this.promise=new Promise((function(e,n){t._resolve=e,t._reject=n}))}return t.prototype.resolve=function(t){(0,this._resolve)(t)},t.prototype.reject=function(t){(0,this._reject)(t)},t}();!function(t){var e;t.getRandomValues=(e="undefined"!=typeof window&&(window.crypto||window.msCrypto)||n(8173)||null)&&"function"==typeof e.getRandomValues?function(t){return e.getRandomValues(t)}:e&&"function"==typeof e.randomFillSync?function(t){return e.randomFillSync(t)}:e&&"function"==typeof e.randomBytes?function(t){for(var n=e.randomBytes(t.length),i=0,r=n.length;i<r;++i)t[i]=n[i]}:function(t){for(var e=0,n=0,i=t.length;n<i;++n)n%4==0&&(e=4294967295*Math.random()>>>0),t[n]=255&e,e>>>=8}}(r||(r={}));var u,a=function(t){this.name=t,this._tokenStructuralPropertyT=null};!function(t){t.uuid4=function(){for(var t=new Uint8Array(16),e=new Array(256),n=0;n<16;++n)e[n]="0"+n.toString(16);for(n=16;n<256;++n)e[n]=n.toString(16);return function(){return r.getRandomValues(t),t[6]=64|15&t[6],t[8]=128|63&t[8],e[t[0]]+e[t[1]]+e[t[2]]+e[t[3]]+"-"+e[t[4]]+e[t[5]]+"-"+e[t[6]]+e[t[7]]+"-"+e[t[8]]+e[t[9]]+"-"+e[t[10]]+e[t[11]]+e[t[12]]+e[t[13]]+e[t[14]]+e[t[15]]}}()}(u||(u={}))},725:(t,e,n)=>{n.r(e),n.d(e,{DisposableDelegate:()=>u,DisposableSet:()=>h,ObservableDisposableDelegate:()=>a,ObservableDisposableSet:()=>c});var i=n(5259),r=n(4016),s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var u=function(){function t(t){this._fn=t}return Object.defineProperty(t.prototype,"isDisposed",{get:function(){return!this._fn},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){if(this._fn){var t=this._fn;this._fn=null,t()}},t}(),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._disposed=new r.Signal(e),e}return o(e,t),Object.defineProperty(e.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.isDisposed||(t.prototype.dispose.call(this),this._disposed.emit(void 0),r.Signal.clearData(this))},e}(u),h=function(){function t(){this._isDisposed=!1,this._items=new Set}return Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this._items.forEach((function(t){t.dispose()})),this._items.clear())},t.prototype.contains=function(t){return this._items.has(t)},t.prototype.add=function(t){this._items.add(t)},t.prototype.remove=function(t){this._items.delete(t)},t.prototype.clear=function(){this._items.clear()},t}();!function(t){t.from=function(e){var n=new t;return(0,i.each)(e,(function(t){n.add(t)})),n}}(h||(h={}));var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._disposed=new r.Signal(e),e}return o(e,t),Object.defineProperty(e.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.isDisposed||(t.prototype.dispose.call(this),this._disposed.emit(void 0),r.Signal.clearData(this))},e}(h);!function(t){t.from=function(e){var n=new t;return(0,i.each)(e,(function(t){n.add(t)})),n}}(c||(c={}))},3114:(t,e,n)=>{n.r(e),n.d(e,{Debouncer:()=>m,Poll:()=>d,RateLimiter:()=>p,Throttler:()=>v});var i=n(6201),r=n(4016),s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var u=function(){return(u=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function a(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{a(i.next(t))}catch(t){s(t)}}function u(t){try{a(i.throw(t))}catch(t){s(t)}}function a(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(o,u)}a((i=i.apply(t,e||[])).next())}))}function h(t,e){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}var c,l="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate,f="function"==typeof cancelAnimationFrame?cancelAnimationFrame:clearImmediate,d=function(){function t(t){var e=this;this._disposed=new r.Signal(this),this._tick=new i.PromiseDelegate,this._ticked=new r.Signal(this),this._timeout=-1,this._factory=t.factory,this._standby=t.standby||c.DEFAULT_STANDBY,this._state=u(u({},c.DEFAULT_STATE),{timestamp:(new Date).getTime()});var n=t.frequency||{},s=Math.max(n.interval||0,n.max||0,c.DEFAULT_FREQUENCY.max);this.frequency=u(u(u({},c.DEFAULT_FREQUENCY),n),{max:s}),this.name=t.name||c.DEFAULT_NAME,"auto"in t&&!t.auto||l((function(){e.start()}))}return Object.defineProperty(t.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"frequency",{get:function(){return this._frequency},set:function(e){if(!this.isDisposed&&!i.JSONExt.deepEqual(e,this.frequency||{})){var n=e.backoff,r=e.interval,s=e.max;if(r=Math.round(r),s=Math.round(s),"number"==typeof n&&n<1)throw new Error("Poll backoff growth factor must be at least 1");if((r<0||r>s)&&r!==t.NEVER)throw new Error("Poll interval must be between 0 and max");if(s>t.MAX_INTERVAL&&s!==t.NEVER)throw new Error("Max interval must be less than "+t.MAX_INTERVAL);this._frequency={backoff:n,interval:r,max:s}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return"disposed"===this.state.phase},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"standby",{get:function(){return this._standby},set:function(t){this.isDisposed||this.standby===t||(this._standby=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tick",{get:function(){return this._tick.promise},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ticked",{get:function(){return this._ticked},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.isDisposed||(this._state=u(u({},c.DISPOSED_STATE),{timestamp:(new Date).getTime()}),this._tick.promise.catch((function(t){})),this._tick.reject(new Error("Poll ("+this.name+") is disposed.")),this._disposed.emit(void 0),r.Signal.clearData(this))},t.prototype.refresh=function(){return this.schedule({cancel:function(t){return"refreshed"===t.phase},interval:t.IMMEDIATE,phase:"refreshed"})},t.prototype.schedule=function(e){return void 0===e&&(e={}),a(this,void 0,void 0,(function(){var n,r,s,o,a,c=this;return h(this,(function(h){switch(h.label){case 0:return this.isDisposed||e.cancel&&e.cancel(this.state)?[2]:(n=this.state,r=this._tick,s=new i.PromiseDelegate,o=u({interval:this.frequency.interval,payload:null,phase:"standby",timestamp:(new Date).getTime()},e),this._state=o,this._tick=s,n.interval===t.IMMEDIATE?f(this._timeout):clearTimeout(this._timeout),this._ticked.emit(this.state),r.resolve(this),[4,r.promise]);case 1:return h.sent(),a=function(){c.isDisposed||c.tick!==s.promise||c._execute()},this._timeout=o.interval===t.IMMEDIATE?l(a):o.interval===t.NEVER?-1:setTimeout(a,o.interval),[2]}}))}))},t.prototype.start=function(){return this.schedule({cancel:function(t){var e=t.phase;return"constructed"!==e&&"standby"!==e&&"stopped"!==e},interval:t.IMMEDIATE,phase:"started"})},t.prototype.stop=function(){return this.schedule({cancel:function(t){return"stopped"===t.phase},interval:t.NEVER,phase:"stopped"})},t.prototype._execute=function(){var t=this,e="function"==typeof this.standby?this.standby():this.standby;if(e="never"!==e&&("when-hidden"===e?!("undefined"==typeof document||!document||!document.hidden):e))this.schedule();else{var n=this.tick;this._factory(this.state).then((function(e){t.isDisposed||t.tick!==n||t.schedule({payload:e,phase:"rejected"===t.state.phase?"reconnected":"resolved"})})).catch((function(e){t.isDisposed||t.tick!==n||t.schedule({interval:c.sleep(t.frequency,t.state),payload:e,phase:"rejected"})}))}},t}();!function(t){t.IMMEDIATE=0,t.MAX_INTERVAL=2147483647,t.NEVER=1/0}(d||(d={})),function(t){t.DEFAULT_BACKOFF=3,t.DEFAULT_FREQUENCY={backoff:!0,interval:1e3,max:3e4},t.DEFAULT_NAME="unknown",t.DEFAULT_STANDBY="when-hidden",t.DEFAULT_STATE={interval:d.NEVER,payload:null,phase:"constructed",timestamp:new Date(0).getTime()},t.DISPOSED_STATE={interval:d.NEVER,payload:null,phase:"disposed",timestamp:new Date(0).getTime()},t.sleep=function(e,n){var i=e.backoff,r=e.interval,s=e.max;if(r===d.NEVER)return r;var o=!0===i?t.DEFAULT_BACKOFF:!1===i?1:i,u=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}(r,n.interval*o);return Math.min(s,u)}}(c||(c={}));var p=function(){function t(t,e){var n=this;void 0===e&&(e=500),this.payload=null,this.limit=e,this.poll=new d({auto:!1,factory:function(){return a(n,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return[4,t()];case 1:return[2,e.sent()]}}))}))},frequency:{backoff:!1,interval:d.NEVER,max:d.NEVER},standby:"never"}),this.payload=new i.PromiseDelegate,this.poll.ticked.connect((function(t,e){var r=n.payload;return"resolved"===e.phase?(n.payload=new i.PromiseDelegate,void r.resolve(e.payload)):"rejected"===e.phase||"stopped"===e.phase?(n.payload=new i.PromiseDelegate,r.promise.catch((function(t){})),void r.reject(e.payload)):void 0}),this)}return Object.defineProperty(t.prototype,"isDisposed",{get:function(){return null===this.payload},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.isDisposed||(this.payload=null,this.poll.dispose())},t.prototype.stop=function(){return a(this,void 0,void 0,(function(){return h(this,(function(t){return[2,this.poll.stop()]}))}))},t}(),m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.invoke=function(){return this.poll.schedule({interval:this.limit,phase:"invoked"}),this.payload.promise},e}(p),v=function(t){function e(e,n){var i=t.call(this,e,"number"==typeof n?n:n&&n.limit)||this,r="leading";return"number"!=typeof n&&(r="edge"in(n=n||{})?n.edge:r),i._interval="trailing"===r?i.limit:d.IMMEDIATE,i}return o(e,t),e.prototype.invoke=function(){return"invoked"!==this.poll.state.phase&&this.poll.schedule({interval:this._interval,phase:"invoked"}),this.payload.promise},e}(p);v||(v={})},9770:(t,e,n)=>{n.r(e),n.d(e,{AttachedProperty:()=>r});var i,r=function(){function t(t){this._pid=i.nextPID(),this.name=t.name,this._create=t.create,this._coerce=t.coerce||null,this._compare=t.compare||null,this._changed=t.changed||null}return t.prototype.get=function(t){var e=i.ensureMap(t);return this._pid in e?e[this._pid]:e[this._pid]=this._createValue(t)},t.prototype.set=function(t,e){var n,r=i.ensureMap(t);n=this._pid in r?r[this._pid]:r[this._pid]=this._createValue(t);var s=this._coerceValue(t,e);this._maybeNotify(t,n,r[this._pid]=s)},t.prototype.coerce=function(t){var e,n=i.ensureMap(t);e=this._pid in n?n[this._pid]:n[this._pid]=this._createValue(t);var r=this._coerceValue(t,e);this._maybeNotify(t,e,n[this._pid]=r)},t.prototype._createValue=function(t){return(0,this._create)(t)},t.prototype._coerceValue=function(t,e){var n=this._coerce;return n?n(t,e):e},t.prototype._compareValue=function(t,e){var n=this._compare;return n?n(t,e):t===e},t.prototype._maybeNotify=function(t,e,n){var i=this._changed;i&&!this._compareValue(e,n)&&i(t,e,n)},t}();!function(t){t.clearData=function(t){i.ownerData.delete(t)}}(r||(r={})),function(t){var e;t.ownerData=new WeakMap,t.nextPID=(e=0,function(){return"pid-"+(""+Math.random()).slice(2)+"-"+e++}),t.ensureMap=function(e){var n=t.ownerData.get(e);return n||(n=Object.create(null),t.ownerData.set(e,n),n)}}(i||(i={}))},4016:(t,e,n)=>{n.r(e),n.d(e,{Signal:()=>s});var i,r=n(5259),s=function(){function t(t){this.sender=t}return t.prototype.connect=function(t,e){return i.connect(this,t,e)},t.prototype.disconnect=function(t,e){return i.disconnect(this,t,e)},t.prototype.emit=function(t){i.emit(this,t)},t}();!function(t){t.disconnectBetween=function(t,e){i.disconnectBetween(t,e)},t.disconnectSender=function(t){i.disconnectSender(t)},t.disconnectReceiver=function(t){i.disconnectReceiver(t)},t.disconnectAll=function(t){i.disconnectAll(t)},t.clearData=function(t){i.disconnectAll(t)},t.getExceptionHandler=function(){return i.exceptionHandler},t.setExceptionHandler=function(t){var e=i.exceptionHandler;return i.exceptionHandler=t,e}}(s||(s={})),function(t){function e(t){var e=i.get(t);e&&0!==e.length&&((0,r.each)(e,(function(t){if(t.signal){var e=t.thisArg||t.slot;t.signal=null,c(s.get(e))}})),c(e))}function n(t){var e=s.get(t);e&&0!==e.length&&((0,r.each)(e,(function(t){if(t.signal){var e=t.signal.sender;t.signal=null,c(i.get(e))}})),c(e))}t.exceptionHandler=function(t){console.error(t)},t.connect=function(t,e,n){n=n||void 0;var r=i.get(t.sender);if(r||(r=[],i.set(t.sender,r)),a(r,t,e,n))return!1;var o=n||e,u=s.get(o);u||(u=[],s.set(o,u));var h={signal:t,slot:e,thisArg:n};return r.push(h),u.push(h),!0},t.disconnect=function(t,e,n){n=n||void 0;var r=i.get(t.sender);if(!r||0===r.length)return!1;var o=a(r,t,e,n);if(!o)return!1;var u=n||e,h=s.get(u);return o.signal=null,c(r),c(h),!0},t.disconnectBetween=function(t,e){var n=i.get(t);if(n&&0!==n.length){var o=s.get(e);o&&0!==o.length&&((0,r.each)(o,(function(e){e.signal&&e.signal.sender===t&&(e.signal=null)})),c(n),c(o))}},t.disconnectSender=e,t.disconnectReceiver=n,t.disconnectAll=function(t){e(t),n(t)},t.emit=function(t,e){var n=i.get(t.sender);if(n&&0!==n.length)for(var r=0,s=n.length;r<s;++r){var o=n[r];o.signal===t&&h(o,e)}};var i=new WeakMap,s=new WeakMap,o=new Set,u="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate;function a(t,e,n,i){return(0,r.find)(t,(function(t){return t.signal===e&&t.slot===n&&t.thisArg===i}))}function h(e,n){var i=e.signal,r=e.slot,s=e.thisArg;try{r.call(s,i.sender,n)}catch(e){t.exceptionHandler(e)}}function c(t){0===o.size&&u(l),o.add(t)}function l(){o.forEach(f),o.clear()}function f(t){r.ArrayExt.removeAllWhere(t,d)}function d(t){return null===t.signal}}(i||(i={}))},27:(t,e)=>{},3099:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},6077:(t,e,n)=>{var i=n(111);t.exports=function(t){if(!i(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},1223:(t,e,n)=>{var i=n(5112),r=n(30),s=n(3070),o=i("unscopables"),u=Array.prototype;null==u[o]&&s.f(u,o,{configurable:!0,value:r(null)}),t.exports=function(t){u[o][t]=!0}},1530:(t,e,n)=>{var i=n(8710).charAt;t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},5787:t=>{t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},9670:(t,e,n)=>{var i=n(111);t.exports=function(t){if(!i(t))throw TypeError(String(t)+" is not an object");return t}},8533:(t,e,n)=>{var i=n(2092).forEach,r=n(9341)("forEach");t.exports=r?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},8457:(t,e,n)=>{var i=n(9974),r=n(7908),s=n(3411),o=n(7659),u=n(7466),a=n(6135),h=n(1246);t.exports=function(t){var e,n,c,l,f,d,p=r(t),m="function"==typeof this?this:Array,v=arguments.length,g=v>1?arguments[1]:void 0,b=void 0!==g,w=h(p),y=0;if(b&&(g=i(g,v>2?arguments[2]:void 0,2)),null==w||m==Array&&o(w))for(n=new m(e=u(p.length));e>y;y++)d=b?g(p[y],y):p[y],a(n,y,d);else for(f=(l=w.call(p)).next,n=new m;!(c=f.call(l)).done;y++)d=b?s(l,g,[c.value,y],!0):c.value,a(n,y,d);return n.length=y,n}},1318:(t,e,n)=>{var i=n(5656),r=n(7466),s=n(1400),o=function(t){return function(e,n,o){var u,a=i(e),h=r(a.length),c=s(o,h);if(t&&n!=n){for(;h>c;)if((u=a[c++])!=u)return!0}else for(;h>c;c++)if((t||c in a)&&a[c]===n)return t||c||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},2092:(t,e,n)=>{var i=n(9974),r=n(8361),s=n(7908),o=n(7466),u=n(5417),a=[].push,h=function(t){var e=1==t,n=2==t,h=3==t,c=4==t,l=6==t,f=7==t,d=5==t||l;return function(p,m,v,g){for(var b,w,y=s(p),k=r(y),D=i(m,v,3),j=o(k.length),x=0,_=g||u,M=e?_(p,j):n||f?_(p,0):void 0;j>x;x++)if((d||x in k)&&(w=D(b=k[x],x,y),t))if(e)M[x]=w;else if(w)switch(t){case 3:return!0;case 5:return b;case 6:return x;case 2:a.call(M,b)}else switch(t){case 4:return!1;case 7:a.call(M,b)}return l?-1:h||c?c:M}};t.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterReject:h(7)}},1194:(t,e,n)=>{var i=n(7293),r=n(5112),s=n(7392),o=r("species");t.exports=function(t){return s>=51||!i((function(){var e=[];return(e.constructor={})[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},9341:(t,e,n)=>{var i=n(7293);t.exports=function(t,e){var n=[][t];return!!n&&i((function(){n.call(null,e||function(){throw 1},1)}))}},3671:(t,e,n)=>{var i=n(3099),r=n(7908),s=n(8361),o=n(7466),u=function(t){return function(e,n,u,a){i(n);var h=r(e),c=s(h),l=o(h.length),f=t?l-1:0,d=t?-1:1;if(u<2)for(;;){if(f in c){a=c[f],f+=d;break}if(f+=d,t?f<0:l<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?f>=0:l>f;f+=d)f in c&&(a=n(a,c[f],f,h));return a}};t.exports={left:u(!1),right:u(!0)}},7475:(t,e,n)=>{var i=n(111),r=n(3157),s=n(5112)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)?i(e)&&null===(e=e[s])&&(e=void 0):e=void 0),void 0===e?Array:e}},5417:(t,e,n)=>{var i=n(7475);t.exports=function(t,e){return new(i(t))(0===e?0:e)}},3411:(t,e,n)=>{var i=n(9670),r=n(9212);t.exports=function(t,e,n,s){try{return s?e(i(n)[0],n[1]):e(n)}catch(e){throw r(t),e}}},7072:(t,e,n)=>{var i=n(5112)("iterator"),r=!1;try{var s=0,o={next:function(){return{done:!!s++}},return:function(){r=!0}};o[i]=function(){return this},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var s={};s[i]=function(){return{next:function(){return{done:n=!0}}}},t(s)}catch(t){}return n}},4326:t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},648:(t,e,n)=>{var i=n(1694),r=n(4326),s=n(5112)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=i?r:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),s))?n:o?r(e):"Object"==(i=r(e))&&"function"==typeof e.callee?"Arguments":i}},9920:(t,e,n)=>{var i=n(6656),r=n(3887),s=n(1236),o=n(3070);t.exports=function(t,e){for(var n=r(e),u=o.f,a=s.f,h=0;h<n.length;h++){var c=n[h];i(t,c)||u(t,c,a(e,c))}}},8544:(t,e,n)=>{var i=n(7293);t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4994:(t,e,n)=>{var i=n(3383).IteratorPrototype,r=n(30),s=n(9114),o=n(8003),u=n(7497),a=function(){return this};t.exports=function(t,e,n){var h=e+" Iterator";return t.prototype=r(i,{next:s(1,n)}),o(t,h,!1,!0),u[h]=a,t}},8880:(t,e,n)=>{var i=n(9781),r=n(3070),s=n(9114);t.exports=i?function(t,e,n){return r.f(t,e,s(1,n))}:function(t,e,n){return t[e]=n,t}},9114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6135:(t,e,n)=>{var i=n(4948),r=n(3070),s=n(9114);t.exports=function(t,e,n){var o=i(e);o in t?r.f(t,o,s(0,n)):t[o]=n}},654:(t,e,n)=>{var i=n(2109),r=n(4994),s=n(9518),o=n(7674),u=n(8003),a=n(8880),h=n(1320),c=n(5112),l=n(1913),f=n(7497),d=n(3383),p=d.IteratorPrototype,m=d.BUGGY_SAFARI_ITERATORS,v=c("iterator"),g="keys",b="values",w="entries",y=function(){return this};t.exports=function(t,e,n,c,d,k,D){r(n,e,c);var j,x,_,M=function(t){if(t===d&&S)return S;if(!m&&t in E)return E[t];switch(t){case g:case b:case w:return function(){return new n(this,t)}}return function(){return new n(this)}},A=e+" Iterator",C=!1,E=t.prototype,O=E[v]||E["@@iterator"]||d&&E[d],S=!m&&O||M(d),T="Array"==e&&E.entries||O;if(T&&(j=s(T.call(new t)),p!==Object.prototype&&j.next&&(l||s(j)===p||(o?o(j,p):"function"!=typeof j[v]&&a(j,v,y)),u(j,A,!0,!0),l&&(f[A]=y))),d==b&&O&&O.name!==b&&(C=!0,S=function(){return O.call(this)}),l&&!D||E[v]===S||a(E,v,S),f[e]=S,d)if(x={values:M(b),keys:k?S:M(g),entries:M(w)},D)for(_ in x)(m||C||!(_ in E))&&h(E,_,x[_]);else i({target:e,proto:!0,forced:m||C},x);return x}},9781:(t,e,n)=>{var i=n(7293);t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(t,e,n)=>{var i=n(7854),r=n(111),s=i.document,o=r(s)&&r(s.createElement);t.exports=function(t){return o?s.createElement(t):{}}},8324:t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},7871:t=>{t.exports="object"==typeof window},1528:(t,e,n)=>{var i=n(8113),r=n(7854);t.exports=/iphone|ipod|ipad/i.test(i)&&void 0!==r.Pebble},6833:(t,e,n)=>{var i=n(8113);t.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(i)},5268:(t,e,n)=>{var i=n(4326),r=n(7854);t.exports="process"==i(r.process)},1036:(t,e,n)=>{var i=n(8113);t.exports=/web0s(?!.*chrome)/i.test(i)},8113:(t,e,n)=>{var i=n(5005);t.exports=i("navigator","userAgent")||""},7392:(t,e,n)=>{var i,r,s=n(7854),o=n(8113),u=s.process,a=s.Deno,h=u&&u.versions||a&&a.version,c=h&&h.v8;c?r=(i=c.split("."))[0]<4?1:i[0]+i[1]:o&&(!(i=o.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/))&&(r=i[1]),t.exports=r&&+r},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(t,e,n)=>{var i=n(7854),r=n(1236).f,s=n(8880),o=n(1320),u=n(3505),a=n(9920),h=n(4705);t.exports=function(t,e){var n,c,l,f,d,p=t.target,m=t.global,v=t.stat;if(n=m?i:v?i[p]||u(p,{}):(i[p]||{}).prototype)for(c in e){if(f=e[c],l=t.noTargetGet?(d=r(n,c))&&d.value:n[c],!h(m?c:p+(v?".":"#")+c,t.forced)&&void 0!==l){if(typeof f==typeof l)continue;a(f,l)}(t.sham||l&&l.sham)&&s(f,"sham",!0),o(n,c,f,t)}}},7293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},7007:(t,e,n)=>{n(4916);var i=n(1320),r=n(2261),s=n(7293),o=n(5112),u=n(8880),a=o("species"),h=RegExp.prototype;t.exports=function(t,e,n,c){var l=o(t),f=!s((function(){var e={};return e[l]=function(){return 7},7!=""[t](e)})),d=f&&!s((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[a]=function(){return n},n.flags="",n[l]=/./[l]),n.exec=function(){return e=!0,null},n[l](""),!e}));if(!f||!d||n){var p=/./[l],m=e(l,""[t],(function(t,e,n,i,s){var o=e.exec;return o===r||o===h.exec?f&&!s?{done:!0,value:p.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}));i(String.prototype,t,m[0]),i(h,l,m[1])}c&&u(h[l],"sham",!0)}},9974:(t,e,n)=>{var i=n(3099);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},5005:(t,e,n)=>{var i=n(7854),r=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?r(i[t]):i[t]&&i[t][e]}},1246:(t,e,n)=>{var i=n(648),r=n(7497),s=n(5112)("iterator");t.exports=function(t){if(null!=t)return t[s]||t["@@iterator"]||r[i(t)]}},8554:(t,e,n)=>{var i=n(9670),r=n(1246);t.exports=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return i(e.call(t))}},647:(t,e,n)=>{var i=n(7908),r=Math.floor,s="".replace,o=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,a,h,c){var l=n+t.length,f=a.length,d=u;return void 0!==h&&(h=i(h),d=o),s.call(c,d,(function(i,s){var o;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(l);case"<":o=h[s.slice(1,-1)];break;default:var u=+s;if(0===u)return i;if(u>f){var c=r(u/10);return 0===c?i:c<=f?void 0===a[c-1]?s.charAt(1):a[c-1]+s.charAt(1):i}o=a[u-1]}return void 0===o?"":o}))}},7854:(t,e,n)=>{var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},6656:(t,e,n)=>{var i=n(7908),r={}.hasOwnProperty;t.exports=Object.hasOwn||function(t,e){return r.call(i(t),e)}},3501:t=>{t.exports={}},842:(t,e,n)=>{var i=n(7854);t.exports=function(t,e){var n=i.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},490:(t,e,n)=>{var i=n(5005);t.exports=i("document","documentElement")},4664:(t,e,n)=>{var i=n(9781),r=n(7293),s=n(317);t.exports=!i&&!r((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},8361:(t,e,n)=>{var i=n(7293),r=n(4326),s="".split;t.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?s.call(t,""):Object(t)}:Object},2788:(t,e,n)=>{var i=n(5465),r=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(t){return r.call(t)}),t.exports=i.inspectSource},9909:(t,e,n)=>{var i,r,s,o=n(8536),u=n(7854),a=n(111),h=n(8880),c=n(6656),l=n(5465),f=n(6200),d=n(3501),p="Object already initialized",m=u.WeakMap;if(o||l.state){var v=l.state||(l.state=new m),g=v.get,b=v.has,w=v.set;i=function(t,e){if(b.call(v,t))throw new TypeError(p);return e.facade=t,w.call(v,t,e),e},r=function(t){return g.call(v,t)||{}},s=function(t){return b.call(v,t)}}else{var y=f("state");d[y]=!0,i=function(t,e){if(c(t,y))throw new TypeError(p);return e.facade=t,h(t,y,e),e},r=function(t){return c(t,y)?t[y]:{}},s=function(t){return c(t,y)}}t.exports={set:i,get:r,has:s,enforce:function(t){return s(t)?r(t):i(t,{})},getterFor:function(t){return function(e){var n;if(!a(e)||(n=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},7659:(t,e,n)=>{var i=n(5112),r=n(7497),s=i("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[s]===t)}},3157:(t,e,n)=>{var i=n(4326);t.exports=Array.isArray||function(t){return"Array"==i(t)}},4705:(t,e,n)=>{var i=n(7293),r=/#|\.prototype\./,s=function(t,e){var n=u[o(t)];return n==h||n!=a&&("function"==typeof e?i(e):!!e)},o=s.normalize=function(t){return String(t).replace(r,".").toLowerCase()},u=s.data={},a=s.NATIVE="N",h=s.POLYFILL="P";t.exports=s},111:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},1913:t=>{t.exports=!1},7850:(t,e,n)=>{var i=n(111),r=n(4326),s=n(5112)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==r(t))}},2190:(t,e,n)=>{var i=n(5005),r=n(3307);t.exports=r?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return"function"==typeof e&&Object(t)instanceof e}},408:(t,e,n)=>{var i=n(9670),r=n(7659),s=n(7466),o=n(9974),u=n(1246),a=n(9212),h=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,n){var c,l,f,d,p,m,v,g=n&&n.that,b=!(!n||!n.AS_ENTRIES),w=!(!n||!n.IS_ITERATOR),y=!(!n||!n.INTERRUPTED),k=o(e,g,1+b+y),D=function(t){return c&&a(c),new h(!0,t)},j=function(t){return b?(i(t),y?k(t[0],t[1],D):k(t[0],t[1])):y?k(t,D):k(t)};if(w)c=t;else{if("function"!=typeof(l=u(t)))throw TypeError("Target is not iterable");if(r(l)){for(f=0,d=s(t.length);d>f;f++)if((p=j(t[f]))&&p instanceof h)return p;return new h(!1)}c=l.call(t)}for(m=c.next;!(v=m.call(c)).done;){try{p=j(v.value)}catch(t){throw a(c),t}if("object"==typeof p&&p&&p instanceof h)return p}return new h(!1)}},9212:(t,e,n)=>{var i=n(9670);t.exports=function(t){var e=t.return;if(void 0!==e)return i(e.call(t)).value}},3383:(t,e,n)=>{var i,r,s,o=n(7293),u=n(9518),a=n(8880),h=n(6656),c=n(5112),l=n(1913),f=c("iterator"),d=!1;[].keys&&("next"in(s=[].keys())?(r=u(u(s)))!==Object.prototype&&(i=r):d=!0);var p=null==i||o((function(){var t={};return i[f].call(t)!==t}));p&&(i={}),l&&!p||h(i,f)||a(i,f,(function(){return this})),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:d}},7497:t=>{t.exports={}},5948:(t,e,n)=>{var i,r,s,o,u,a,h,c,l=n(7854),f=n(1236).f,d=n(261).set,p=n(6833),m=n(1528),v=n(1036),g=n(5268),b=l.MutationObserver||l.WebKitMutationObserver,w=l.document,y=l.process,k=l.Promise,D=f(l,"queueMicrotask"),j=D&&D.value;j||(i=function(){var t,e;for(g&&(t=y.domain)&&t.exit();r;){e=r.fn,r=r.next;try{e()}catch(t){throw r?o():s=void 0,t}}s=void 0,t&&t.enter()},p||g||v||!b||!w?!m&&k&&k.resolve?((h=k.resolve(void 0)).constructor=k,c=h.then,o=function(){c.call(h,i)}):o=g?function(){y.nextTick(i)}:function(){d.call(l,i)}:(u=!0,a=w.createTextNode(""),new b(i).observe(a,{characterData:!0}),o=function(){a.data=u=!u})),t.exports=j||function(t){var e={fn:t,next:void 0};s&&(s.next=e),r||(r=e,o()),s=e}},3366:(t,e,n)=>{var i=n(7854);t.exports=i.Promise},133:(t,e,n)=>{var i=n(7392),r=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},590:(t,e,n)=>{var i=n(7293),r=n(5112),s=n(1913),o=r("iterator");t.exports=!i((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,i){e.delete("b"),n+=i+t})),s&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},8536:(t,e,n)=>{var i=n(7854),r=n(2788),s=i.WeakMap;t.exports="function"==typeof s&&/native code/.test(r(s))},8523:(t,e,n)=>{var i=n(3099),r=function(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i})),this.resolve=i(e),this.reject=i(n)};t.exports.f=function(t){return new r(t)}},1574:(t,e,n)=>{var i=n(9781),r=n(7293),s=n(1956),o=n(5181),u=n(5296),a=n(7908),h=n(8361),c=Object.assign,l=Object.defineProperty;t.exports=!c||r((function(){if(i&&1!==c({b:1},c(l({},"a",{enumerable:!0,get:function(){l(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=c({},t)[n]||s(c({},e)).join("")!=r}))?function(t,e){for(var n=a(t),r=arguments.length,c=1,l=o.f,f=u.f;r>c;)for(var d,p=h(arguments[c++]),m=l?s(p).concat(l(p)):s(p),v=m.length,g=0;v>g;)d=m[g++],i&&!f.call(p,d)||(n[d]=p[d]);return n}:c},30:(t,e,n)=>{var i,r=n(9670),s=n(6048),o=n(748),u=n(3501),a=n(490),h=n(317),c=n(6200)("IE_PROTO"),l=function(){},f=function(t){return"<script>"+t+"<\/script>"},d=function(t){t.write(f("")),t.close();var e=t.parentWindow.Object;return t=null,e},p=function(){try{i=new ActiveXObject("htmlfile")}catch(t){}p=document.domain&&i?d(i):function(){var t,e=h("iframe");if(e.style)return e.style.display="none",a.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(f("document.F=Object")),t.close(),t.F}()||d(i);for(var t=o.length;t--;)delete p.prototype[o[t]];return p()};u[c]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(l.prototype=r(t),n=new l,l.prototype=null,n[c]=t):n=p(),void 0===e?n:s(n,e)}},6048:(t,e,n)=>{var i=n(9781),r=n(3070),s=n(9670),o=n(1956);t.exports=i?Object.defineProperties:function(t,e){s(t);for(var n,i=o(e),u=i.length,a=0;u>a;)r.f(t,n=i[a++],e[n]);return t}},3070:(t,e,n)=>{var i=n(9781),r=n(4664),s=n(9670),o=n(4948),u=Object.defineProperty;e.f=i?u:function(t,e,n){if(s(t),e=o(e),s(n),r)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:(t,e,n)=>{var i=n(9781),r=n(5296),s=n(9114),o=n(5656),u=n(4948),a=n(6656),h=n(4664),c=Object.getOwnPropertyDescriptor;e.f=i?c:function(t,e){if(t=o(t),e=u(e),h)try{return c(t,e)}catch(t){}if(a(t,e))return s(!r.f.call(t,e),t[e])}},8006:(t,e,n)=>{var i=n(6324),r=n(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},5181:(t,e)=>{e.f=Object.getOwnPropertySymbols},9518:(t,e,n)=>{var i=n(6656),r=n(7908),s=n(6200),o=n(8544),u=s("IE_PROTO"),a=Object.prototype;t.exports=o?Object.getPrototypeOf:function(t){return t=r(t),i(t,u)?t[u]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},6324:(t,e,n)=>{var i=n(6656),r=n(5656),s=n(1318).indexOf,o=n(3501);t.exports=function(t,e){var n,u=r(t),a=0,h=[];for(n in u)!i(o,n)&&i(u,n)&&h.push(n);for(;e.length>a;)i(u,n=e[a++])&&(~s(h,n)||h.push(n));return h}},1956:(t,e,n)=>{var i=n(6324),r=n(748);t.exports=Object.keys||function(t){return i(t,r)}},5296:(t,e)=>{var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);e.f=r?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},7674:(t,e,n)=>{var i=n(9670),r=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,s){return i(n),r(s),e?t.call(n,s):n.__proto__=s,n}}():void 0)},4699:(t,e,n)=>{var i=n(9781),r=n(1956),s=n(5656),o=n(5296).f,u=function(t){return function(e){for(var n,u=s(e),a=r(u),h=a.length,c=0,l=[];h>c;)n=a[c++],i&&!o.call(u,n)||l.push(t?[n,u[n]]:u[n]);return l}};t.exports={entries:u(!0),values:u(!1)}},288:(t,e,n)=>{var i=n(1694),r=n(648);t.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},2140:(t,e,n)=>{var i=n(111);t.exports=function(t,e){var n,r;if("string"===e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if("string"!==e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},3887:(t,e,n)=>{var i=n(5005),r=n(8006),s=n(5181),o=n(9670);t.exports=i("Reflect","ownKeys")||function(t){var e=r.f(o(t)),n=s.f;return n?e.concat(n(t)):e}},2534:t=>{t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},9478:(t,e,n)=>{var i=n(9670),r=n(111),s=n(8523);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=s.f(t);return(0,n.resolve)(e),n.promise}},2248:(t,e,n)=>{var i=n(1320);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},1320:(t,e,n)=>{var i=n(7854),r=n(8880),s=n(6656),o=n(3505),u=n(2788),a=n(9909),h=a.get,c=a.enforce,l=String(String).split("String");(t.exports=function(t,e,n,u){var a,h=!!u&&!!u.unsafe,f=!!u&&!!u.enumerable,d=!!u&&!!u.noTargetGet;"function"==typeof n&&("string"!=typeof e||s(n,"name")||r(n,"name",e),(a=c(n)).source||(a.source=l.join("string"==typeof e?e:""))),t!==i?(h?!d&&t[e]&&(f=!0):delete t[e],f?t[e]=n:r(t,e,n)):f?t[e]=n:o(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&h(this).source||u(this)}))},7651:(t,e,n)=>{var i=n(4326),r=n(2261);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var s=n.call(t,e);if("object"!=typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==i(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},2261:(t,e,n)=>{var i,r,s=n(1340),o=n(7066),u=n(2999),a=n(2309),h=n(30),c=n(9909).get,l=n(9441),f=n(7168),d=RegExp.prototype.exec,p=a("native-string-replace",String.prototype.replace),m=d,v=(i=/a/,r=/b*/g,d.call(i,"a"),d.call(r,"a"),0!==i.lastIndex||0!==r.lastIndex),g=u.UNSUPPORTED_Y||u.BROKEN_CARET,b=void 0!==/()??/.exec("")[1];(v||b||g||l||f)&&(m=function(t){var e,n,i,r,u,a,l,f=this,w=c(f),y=s(t),k=w.raw;if(k)return k.lastIndex=f.lastIndex,e=m.call(k,y),f.lastIndex=k.lastIndex,e;var D=w.groups,j=g&&f.sticky,x=o.call(f),_=f.source,M=0,A=y;if(j&&(-1===(x=x.replace("y","")).indexOf("g")&&(x+="g"),A=y.slice(f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==y.charAt(f.lastIndex-1))&&(_="(?: "+_+")",A=" "+A,M++),n=new RegExp("^(?:"+_+")",x)),b&&(n=new RegExp("^"+_+"$(?!\\s)",x)),v&&(i=f.lastIndex),r=d.call(j?n:f,A),j?r?(r.input=r.input.slice(M),r[0]=r[0].slice(M),r.index=f.lastIndex,f.lastIndex+=r[0].length):f.lastIndex=0:v&&r&&(f.lastIndex=f.global?r.index+r[0].length:i),b&&r&&r.length>1&&p.call(r[0],n,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(r[u]=void 0)})),r&&D)for(r.groups=a=h(null),u=0;u<D.length;u++)a[(l=D[u])[0]]=r[l[1]];return r}),t.exports=m},7066:(t,e,n)=>{var i=n(9670);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},2999:(t,e,n)=>{var i=n(7293),r=function(t,e){return RegExp(t,e)};e.UNSUPPORTED_Y=i((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=i((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},9441:(t,e,n)=>{var i=n(7293);t.exports=i((function(){var t=RegExp(".","string".charAt(0));return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},7168:(t,e,n)=>{var i=n(7293);t.exports=i((function(){var t=RegExp("(?<a>b)","string".charAt(5));return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},4488:t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},3505:(t,e,n)=>{var i=n(7854);t.exports=function(t,e){try{Object.defineProperty(i,t,{value:e,configurable:!0,writable:!0})}catch(n){i[t]=e}return e}},6340:(t,e,n)=>{var i=n(5005),r=n(3070),s=n(5112),o=n(9781),u=s("species");t.exports=function(t){var e=i(t),n=r.f;o&&e&&!e[u]&&n(e,u,{configurable:!0,get:function(){return this}})}},8003:(t,e,n)=>{var i=n(3070).f,r=n(6656),s=n(5112)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,s)&&i(t,s,{configurable:!0,value:e})}},6200:(t,e,n)=>{var i=n(2309),r=n(9711),s=i("keys");t.exports=function(t){return s[t]||(s[t]=r(t))}},5465:(t,e,n)=>{var i=n(7854),r=n(3505),s="__core-js_shared__",o=i[s]||r(s,{});t.exports=o},2309:(t,e,n)=>{var i=n(1913),r=n(5465);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.16.1",mode:i?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},6707:(t,e,n)=>{var i=n(9670),r=n(3099),s=n(5112)("species");t.exports=function(t,e){var n,o=i(t).constructor;return void 0===o||null==(n=i(o)[s])?e:r(n)}},8710:(t,e,n)=>{var i=n(9958),r=n(1340),s=n(4488),o=function(t){return function(e,n){var o,u,a=r(s(e)),h=i(n),c=a.length;return h<0||h>=c?t?"":void 0:(o=a.charCodeAt(h))<55296||o>56319||h+1===c||(u=a.charCodeAt(h+1))<56320||u>57343?t?a.charAt(h):o:t?a.slice(h,h+2):u-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},3197:t=>{var e=2147483647,n=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,r="Overflow: input needs wider integers to process",s=Math.floor,o=String.fromCharCode,u=function(t){return t+22+75*(t<26)},a=function(t,e,n){var i=0;for(t=n?s(t/700):t>>1,t+=s(t/e);t>455;i+=36)t=s(t/35);return s(i+36*t/(t+38))},h=function(t){var n,i,h=[],c=(t=function(t){for(var e=[],n=0,i=t.length;n<i;){var r=t.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var s=t.charCodeAt(n++);56320==(64512&s)?e.push(((1023&r)<<10)+(1023&s)+65536):(e.push(r),n--)}else e.push(r)}return e}(t)).length,l=128,f=0,d=72;for(n=0;n<t.length;n++)(i=t[n])<128&&h.push(o(i));var p=h.length,m=p;for(p&&h.push("-");m<c;){var v=e;for(n=0;n<t.length;n++)(i=t[n])>=l&&i<v&&(v=i);var g=m+1;if(v-l>s((e-f)/g))throw RangeError(r);for(f+=(v-l)*g,l=v,n=0;n<t.length;n++){if((i=t[n])<l&&++f>e)throw RangeError(r);if(i==l){for(var b=f,w=36;;w+=36){var y=w<=d?1:w>=d+26?26:w-d;if(b<y)break;var k=b-y,D=36-y;h.push(o(u(y+k%D))),b=s(k/D)}h.push(o(u(b))),d=a(f,g,m==p),f=0,++m}}++f,++l}return h.join("")};t.exports=function(t){var e,r,s=[],o=t.toLowerCase().replace(i,".").split(".");for(e=0;e<o.length;e++)r=o[e],s.push(n.test(r)?"xn--"+h(r):r);return s.join(".")}},6091:(t,e,n)=>{var i=n(7293),r=n(1361);t.exports=function(t){return i((function(){return!!r[t]()||"​᠎"!="​᠎"[t]()||r[t].name!==t}))}},3111:(t,e,n)=>{var i=n(4488),r=n(1340),s="["+n(1361)+"]",o=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),a=function(t){return function(e){var n=r(i(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(u,"")),n}};t.exports={start:a(1),end:a(2),trim:a(3)}},261:(t,e,n)=>{var i,r,s,o,u=n(7854),a=n(7293),h=n(9974),c=n(490),l=n(317),f=n(6833),d=n(5268),p=u.setImmediate,m=u.clearImmediate,v=u.process,g=u.MessageChannel,b=u.Dispatch,w=0,y={};try{i=u.location}catch(t){}var k=function(t){if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},D=function(t){return function(){k(t)}},j=function(t){k(t.data)},x=function(t){u.postMessage(String(t),i.protocol+"//"+i.host)};p&&m||(p=function(t){for(var e=[],n=arguments.length,i=1;n>i;)e.push(arguments[i++]);return y[++w]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(w),w},m=function(t){delete y[t]},d?r=function(t){v.nextTick(D(t))}:b&&b.now?r=function(t){b.now(D(t))}:g&&!f?(o=(s=new g).port2,s.port1.onmessage=j,r=h(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts&&i&&"file:"!==i.protocol&&!a(x)?(r=x,u.addEventListener("message",j,!1)):r="onreadystatechange"in l("script")?function(t){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),k(t)}}:function(t){setTimeout(D(t),0)}),t.exports={set:p,clear:m}},1400:(t,e,n)=>{var i=n(9958),r=Math.max,s=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):s(n,e)}},5656:(t,e,n)=>{var i=n(8361),r=n(4488);t.exports=function(t){return i(r(t))}},9958:t=>{var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},7466:(t,e,n)=>{var i=n(9958),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},7908:(t,e,n)=>{var i=n(4488);t.exports=function(t){return Object(i(t))}},7593:(t,e,n)=>{var i=n(111),r=n(2190),s=n(2140),o=n(5112)("toPrimitive");t.exports=function(t,e){if(!i(t)||r(t))return t;var n,u=t[o];if(void 0!==u){if(void 0===e&&(e="default"),n=u.call(t,e),!i(n)||r(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},4948:(t,e,n)=>{var i=n(7593),r=n(2190);t.exports=function(t){var e=i(t,"string");return r(e)?e:String(e)}},1694:(t,e,n)=>{var i={};i[n(5112)("toStringTag")]="z",t.exports="[object z]"===String(i)},1340:(t,e,n)=>{var i=n(2190);t.exports=function(t){if(i(t))throw TypeError("Cannot convert a Symbol value to a string");return String(t)}},9711:t=>{var e=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+n).toString(36)}},3307:(t,e,n)=>{var i=n(133);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:(t,e,n)=>{var i=n(7854),r=n(2309),s=n(6656),o=n(9711),u=n(133),a=n(3307),h=r("wks"),c=i.Symbol,l=a?c:c&&c.withoutSetter||o;t.exports=function(t){return s(h,t)&&(u||"string"==typeof h[t])||(u&&s(c,t)?h[t]=c[t]:h[t]=l("Symbol."+t)),h[t]}},1361:t=>{t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},2222:(t,e,n)=>{var i=n(2109),r=n(7293),s=n(3157),o=n(111),u=n(7908),a=n(7466),h=n(6135),c=n(5417),l=n(1194),f=n(5112),d=n(7392),p=f("isConcatSpreadable"),m=9007199254740991,v="Maximum allowed index exceeded",g=d>=51||!r((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),b=l("concat"),w=function(t){if(!o(t))return!1;var e=t[p];return void 0!==e?!!e:s(t)};i({target:"Array",proto:!0,forced:!g||!b},{concat:function(t){var e,n,i,r,s,o=u(this),l=c(o,0),f=0;for(e=-1,i=arguments.length;e<i;e++)if(w(s=-1===e?o:arguments[e])){if(f+(r=a(s.length))>m)throw TypeError(v);for(n=0;n<r;n++,f++)n in s&&h(l,f,s[n])}else{if(f>=m)throw TypeError(v);h(l,f++,s)}return l.length=f,l}})},7327:(t,e,n)=>{var i=n(2109),r=n(2092).filter;i({target:"Array",proto:!0,forced:!n(1194)("filter")},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},6699:(t,e,n)=>{var i=n(2109),r=n(1318).includes,s=n(1223);i({target:"Array",proto:!0},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),s("includes")},6992:(t,e,n)=>{var i=n(5656),r=n(1223),s=n(7497),o=n(9909),u=n(654),a="Array Iterator",h=o.set,c=o.getterFor(a);t.exports=u(Array,"Array",(function(t,e){h(this,{type:a,target:i(t),index:0,kind:e})}),(function(){var t=c(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}}),"values"),s.Arguments=s.Array,r("keys"),r("values"),r("entries")},1249:(t,e,n)=>{var i=n(2109),r=n(2092).map;i({target:"Array",proto:!0,forced:!n(1194)("map")},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},5827:(t,e,n)=>{var i=n(2109),r=n(3671).left,s=n(9341),o=n(7392),u=n(5268);i({target:"Array",proto:!0,forced:!s("reduce")||!u&&o>79&&o<83},{reduce:function(t){return r(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},7042:(t,e,n)=>{var i=n(2109),r=n(111),s=n(3157),o=n(1400),u=n(7466),a=n(5656),h=n(6135),c=n(5112),l=n(1194)("slice"),f=c("species"),d=[].slice,p=Math.max;i({target:"Array",proto:!0,forced:!l},{slice:function(t,e){var n,i,c,l=a(this),m=u(l.length),v=o(t,m),g=o(void 0===e?m:e,m);if(s(l)&&("function"!=typeof(n=l.constructor)||n!==Array&&!s(n.prototype)?r(n)&&null===(n=n[f])&&(n=void 0):n=void 0,n===Array||void 0===n))return d.call(l,v,g);for(i=new(void 0===n?Array:n)(p(g-v,0)),c=0;v<g;v++,c++)v in l&&h(i,c,l[v]);return i.length=c,i}})},9720:(t,e,n)=>{var i=n(2109),r=n(4699).entries;i({target:"Object",stat:!0},{entries:function(t){return r(t)}})},1539:(t,e,n)=>{var i=n(1694),r=n(1320),s=n(288);i||r(Object.prototype,"toString",s,{unsafe:!0})},2479:(t,e,n)=>{var i=n(2109),r=n(4699).values;i({target:"Object",stat:!0},{values:function(t){return r(t)}})},8674:(t,e,n)=>{var i,r,s,o,u=n(2109),a=n(1913),h=n(7854),c=n(5005),l=n(3366),f=n(1320),d=n(2248),p=n(7674),m=n(8003),v=n(6340),g=n(111),b=n(3099),w=n(5787),y=n(2788),k=n(408),D=n(7072),j=n(6707),x=n(261).set,_=n(5948),M=n(9478),A=n(842),C=n(8523),E=n(2534),O=n(9909),S=n(4705),T=n(5112),R=n(7871),F=n(5268),$=n(7392),B=T("species"),q="Promise",L=O.get,I=O.set,z=O.getterFor(q),N=l&&l.prototype,P=l,U=N,H=h.TypeError,V=h.document,J=h.process,G=C.f,W=G,Z=!!(V&&V.createEvent&&h.dispatchEvent),K="function"==typeof PromiseRejectionEvent,X="unhandledrejection",Y=!1,Q=S(q,(function(){var t=y(P),e=t!==String(P);if(!e&&66===$)return!0;if(a&&!U.finally)return!0;if($>=51&&/native code/.test(t))return!1;var n=new P((function(t){t(1)})),i=function(t){t((function(){}),(function(){}))};return(n.constructor={})[B]=i,!(Y=n.then((function(){}))instanceof i)||!e&&R&&!K})),tt=Q||!D((function(t){P.all(t).catch((function(){}))})),et=function(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e},nt=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;_((function(){for(var i=t.value,r=1==t.state,s=0;n.length>s;){var o,u,a,h=n[s++],c=r?h.ok:h.fail,l=h.resolve,f=h.reject,d=h.domain;try{c?(r||(2===t.rejection&&ot(t),t.rejection=1),!0===c?o=i:(d&&d.enter(),o=c(i),d&&(d.exit(),a=!0)),o===h.promise?f(H("Promise-chain cycle")):(u=et(o))?u.call(o,l,f):l(o)):f(i)}catch(t){d&&!a&&d.exit(),f(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&rt(t)}))}},it=function(t,e,n){var i,r;Z?((i=V.createEvent("Event")).promise=e,i.reason=n,i.initEvent(t,!1,!0),h.dispatchEvent(i)):i={promise:e,reason:n},!K&&(r=h["on"+t])?r(i):t===X&&A("Unhandled promise rejection",n)},rt=function(t){x.call(h,(function(){var e,n=t.facade,i=t.value;if(st(t)&&(e=E((function(){F?J.emit("unhandledRejection",i,n):it(X,n,i)})),t.rejection=F||st(t)?2:1,e.error))throw e.value}))},st=function(t){return 1!==t.rejection&&!t.parent},ot=function(t){x.call(h,(function(){var e=t.facade;F?J.emit("rejectionHandled",e):it("rejectionhandled",e,t.value)}))},ut=function(t,e,n){return function(i){t(e,i,n)}},at=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,nt(t,!0))},ht=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw H("Promise can't be resolved itself");var i=et(e);i?_((function(){var n={done:!1};try{i.call(e,ut(ht,n,t),ut(at,n,t))}catch(e){at(n,e,t)}})):(t.value=e,t.state=1,nt(t,!1))}catch(e){at({done:!1},e,t)}}};if(Q&&(U=(P=function(t){w(this,P,q),b(t),i.call(this);var e=L(this);try{t(ut(ht,e),ut(at,e))}catch(t){at(e,t)}}).prototype,(i=function(t){I(this,{type:q,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(U,{then:function(t,e){var n=z(this),i=G(j(this,P));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=F?J.domain:void 0,n.parent=!0,n.reactions.push(i),0!=n.state&&nt(n,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new i,e=L(t);this.promise=t,this.resolve=ut(ht,e),this.reject=ut(at,e)},C.f=G=function(t){return t===P||t===s?new r(t):W(t)},!a&&"function"==typeof l&&N!==Object.prototype)){o=N.then,Y||(f(N,"then",(function(t,e){var n=this;return new P((function(t,e){o.call(n,t,e)})).then(t,e)}),{unsafe:!0}),f(N,"catch",U.catch,{unsafe:!0}));try{delete N.constructor}catch(t){}p&&p(N,U)}u({global:!0,wrap:!0,forced:Q},{Promise:P}),m(P,q,!1,!0),v(q),s=c(q),u({target:q,stat:!0,forced:Q},{reject:function(t){var e=G(this);return e.reject.call(void 0,t),e.promise}}),u({target:q,stat:!0,forced:a||Q},{resolve:function(t){return M(a&&this===s?P:this,t)}}),u({target:q,stat:!0,forced:tt},{all:function(t){var e=this,n=G(e),i=n.resolve,r=n.reject,s=E((function(){var n=b(e.resolve),s=[],o=0,u=1;k(t,(function(t){var a=o++,h=!1;s.push(void 0),u++,n.call(e,t).then((function(t){h||(h=!0,s[a]=t,--u||i(s))}),r)})),--u||i(s)}));return s.error&&r(s.value),n.promise},race:function(t){var e=this,n=G(e),i=n.reject,r=E((function(){var r=b(e.resolve);k(t,(function(t){r.call(e,t).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}})},4916:(t,e,n)=>{var i=n(2109),r=n(2261);i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},9714:(t,e,n)=>{var i=n(1320),r=n(9670),s=n(1340),o=n(7293),u=n(7066),a="toString",h=RegExp.prototype,c=h.toString,l=o((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),f=c.name!=a;(l||f)&&i(RegExp.prototype,a,(function(){var t=r(this),e=s(t.source),n=t.flags;return"/"+e+"/"+s(void 0===n&&t instanceof RegExp&&!("flags"in h)?u.call(t):n)}),{unsafe:!0})},8783:(t,e,n)=>{var i=n(8710).charAt,r=n(1340),s=n(9909),o=n(654),u="String Iterator",a=s.set,h=s.getterFor(u);o(String,"String",(function(t){a(this,{type:u,string:r(t),index:0})}),(function(){var t,e=h(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=i(n,r),e.index+=t.length,{value:t,done:!1})}))},5306:(t,e,n)=>{var i=n(7007),r=n(7293),s=n(9670),o=n(9958),u=n(7466),a=n(1340),h=n(4488),c=n(1530),l=n(647),f=n(7651),d=n(5112)("replace"),p=Math.max,m=Math.min,v="$0"==="a".replace(/./,"$0"),g=!!/./[d]&&""===/./[d]("a","$0");i("replace",(function(t,e,n){var i=g?"$":"$0";return[function(t,n){var i=h(this),r=null==t?void 0:t[d];return void 0!==r?r.call(t,i,n):e.call(a(i),t,n)},function(t,r){var h=s(this),d=a(t);if("string"==typeof r&&-1===r.indexOf(i)&&-1===r.indexOf("$<")){var v=n(e,h,d,r);if(v.done)return v.value}var g="function"==typeof r;g||(r=a(r));var b=h.global;if(b){var w=h.unicode;h.lastIndex=0}for(var y=[];;){var k=f(h,d);if(null===k)break;if(y.push(k),!b)break;""===a(k[0])&&(h.lastIndex=c(d,u(h.lastIndex),w))}for(var D,j="",x=0,_=0;_<y.length;_++){k=y[_];for(var M=a(k[0]),A=p(m(o(k.index),d.length),0),C=[],E=1;E<k.length;E++)C.push(void 0===(D=k[E])?D:String(D));var O=k.groups;if(g){var S=[M].concat(C,A,d);void 0!==O&&S.push(O);var T=a(r.apply(void 0,S))}else T=l(M,d,A,C,O,r);A>=x&&(j+=d.slice(x,A)+T,x=A+M.length)}return j+d.slice(x)}]}),!!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!v||g)},3123:(t,e,n)=>{var i=n(7007),r=n(7850),s=n(9670),o=n(4488),u=n(6707),a=n(1530),h=n(7466),c=n(1340),l=n(7651),f=n(2261),d=n(2999),p=n(7293),m=d.UNSUPPORTED_Y,v=[].push,g=Math.min,b=4294967295;i("split",(function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=c(o(this)),s=void 0===n?b:n>>>0;if(0===s)return[];if(void 0===t)return[i];if(!r(t))return e.call(i,t,s);for(var u,a,h,l=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,m=new RegExp(t.source,d+"g");(u=f.call(m,i))&&!((a=m.lastIndex)>p&&(l.push(i.slice(p,u.index)),u.length>1&&u.index<i.length&&v.apply(l,u.slice(1)),h=u[0].length,p=a,l.length>=s));)m.lastIndex===u.index&&m.lastIndex++;return p===i.length?!h&&m.test("")||l.push(""):l.push(i.slice(p)),l.length>s?l.slice(0,s):l}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var r=o(this),s=null==e?void 0:e[t];return void 0!==s?s.call(e,r,n):i.call(c(r),e,n)},function(t,r){var o=s(this),f=c(t),d=n(i,o,f,r,i!==e);if(d.done)return d.value;var p=u(o,RegExp),v=o.unicode,w=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(m?"g":"y"),y=new p(m?"^(?:"+o.source+")":o,w),k=void 0===r?b:r>>>0;if(0===k)return[];if(0===f.length)return null===l(y,f)?[f]:[];for(var D=0,j=0,x=[];j<f.length;){y.lastIndex=m?0:j;var _,M=l(y,m?f.slice(j):f);if(null===M||(_=g(h(y.lastIndex+(m?j:0)),f.length))===D)j=a(f,j,v);else{if(x.push(f.slice(D,j)),x.length===k)return x;for(var A=1;A<=M.length-1;A++)if(x.push(M[A]),x.length===k)return x;j=D=_}}return x.push(f.slice(D)),x}]}),!!p((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),m)},8702:(t,e,n)=>{var i=n(2109),r=n(3111).end,s=n(6091)("trimEnd"),o=s?function(){return r(this)}:"".trimEnd;i({target:"String",proto:!0,forced:s},{trimEnd:o,trimRight:o})},3210:(t,e,n)=>{var i=n(2109),r=n(3111).trim;i({target:"String",proto:!0,forced:n(6091)("trim")},{trim:function(){return r(this)}})},4747:(t,e,n)=>{var i=n(7854),r=n(8324),s=n(8533),o=n(8880);for(var u in r){var a=i[u],h=a&&a.prototype;if(h&&h.forEach!==s)try{o(h,"forEach",s)}catch(t){h.forEach=s}}},3948:(t,e,n)=>{var i=n(7854),r=n(8324),s=n(6992),o=n(8880),u=n(5112),a=u("iterator"),h=u("toStringTag"),c=s.values;for(var l in r){var f=i[l],d=f&&f.prototype;if(d){if(d[a]!==c)try{o(d,a,c)}catch(t){d[a]=c}if(d[h]||o(d,h,l),r[l])for(var p in s)if(d[p]!==s[p])try{o(d,p,s[p])}catch(t){d[p]=s[p]}}}},1637:(t,e,n)=>{n(6992);var i=n(2109),r=n(5005),s=n(590),o=n(1320),u=n(2248),a=n(8003),h=n(4994),c=n(9909),l=n(5787),f=n(6656),d=n(9974),p=n(648),m=n(9670),v=n(111),g=n(1340),b=n(30),w=n(9114),y=n(8554),k=n(1246),D=n(5112),j=r("fetch"),x=r("Request"),_=x&&x.prototype,M=r("Headers"),A=D("iterator"),C="URLSearchParams",E="URLSearchParamsIterator",O=c.set,S=c.getterFor(C),T=c.getterFor(E),R=/\+/g,F=Array(4),$=function(t){return F[t-1]||(F[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},B=function(t){try{return decodeURIComponent(t)}catch(e){return t}},q=function(t){var e=t.replace(R," "),n=4;try{return decodeURIComponent(e)}catch(t){for(;n;)e=e.replace($(n--),B);return e}},L=/[!'()~]|%20/g,I={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},z=function(t){return I[t]},N=function(t){return encodeURIComponent(t).replace(L,z)},P=function(t,e){if(e)for(var n,i,r=e.split("&"),s=0;s<r.length;)(n=r[s++]).length&&(i=n.split("="),t.push({key:q(i.shift()),value:q(i.join("="))}))},U=function(t){this.entries.length=0,P(this.entries,t)},H=function(t,e){if(t<e)throw TypeError("Not enough arguments")},V=h((function(t,e){O(this,{type:E,iterator:y(S(t).entries),kind:e})}),"Iterator",(function(){var t=T(this),e=t.kind,n=t.iterator.next(),i=n.value;return n.done||(n.value="keys"===e?i.key:"values"===e?i.value:[i.key,i.value]),n})),J=function(){l(this,J,C);var t,e,n,i,r,s,o,u,a,h=arguments.length>0?arguments[0]:void 0,c=this,d=[];if(O(c,{type:C,entries:d,updateURL:function(){},updateSearchParams:U}),void 0!==h)if(v(h))if("function"==typeof(t=k(h)))for(n=(e=t.call(h)).next;!(i=n.call(e)).done;){if((o=(s=(r=y(m(i.value))).next).call(r)).done||(u=s.call(r)).done||!s.call(r).done)throw TypeError("Expected sequence with length 2");d.push({key:g(o.value),value:g(u.value)})}else for(a in h)f(h,a)&&d.push({key:a,value:g(h[a])});else P(d,"string"==typeof h?"?"===h.charAt(0)?h.slice(1):h:g(h))},G=J.prototype;if(u(G,{append:function(t,e){H(arguments.length,2);var n=S(this);n.entries.push({key:g(t),value:g(e)}),n.updateURL()},delete:function(t){H(arguments.length,1);for(var e=S(this),n=e.entries,i=g(t),r=0;r<n.length;)n[r].key===i?n.splice(r,1):r++;e.updateURL()},get:function(t){H(arguments.length,1);for(var e=S(this).entries,n=g(t),i=0;i<e.length;i++)if(e[i].key===n)return e[i].value;return null},getAll:function(t){H(arguments.length,1);for(var e=S(this).entries,n=g(t),i=[],r=0;r<e.length;r++)e[r].key===n&&i.push(e[r].value);return i},has:function(t){H(arguments.length,1);for(var e=S(this).entries,n=g(t),i=0;i<e.length;)if(e[i++].key===n)return!0;return!1},set:function(t,e){H(arguments.length,1);for(var n,i=S(this),r=i.entries,s=!1,o=g(t),u=g(e),a=0;a<r.length;a++)(n=r[a]).key===o&&(s?r.splice(a--,1):(s=!0,n.value=u));s||r.push({key:o,value:u}),i.updateURL()},sort:function(){var t,e,n,i=S(this),r=i.entries,s=r.slice();for(r.length=0,n=0;n<s.length;n++){for(t=s[n],e=0;e<n;e++)if(r[e].key>t.key){r.splice(e,0,t);break}e===n&&r.push(t)}i.updateURL()},forEach:function(t){for(var e,n=S(this).entries,i=d(t,arguments.length>1?arguments[1]:void 0,3),r=0;r<n.length;)i((e=n[r++]).value,e.key,this)},keys:function(){return new V(this,"keys")},values:function(){return new V(this,"values")},entries:function(){return new V(this,"entries")}},{enumerable:!0}),o(G,A,G.entries),o(G,"toString",(function(){for(var t,e=S(this).entries,n=[],i=0;i<e.length;)t=e[i++],n.push(N(t.key)+"="+N(t.value));return n.join("&")}),{enumerable:!0}),a(J,C),i({global:!0,forced:!s},{URLSearchParams:J}),!s&&"function"==typeof M){var W=function(t){if(v(t)){var e,n=t.body;if(p(n)===C)return(e=t.headers?new M(t.headers):new M).has("content-type")||e.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),b(t,{body:w(0,String(n)),headers:w(0,e)})}return t};if("function"==typeof j&&i({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return j(t,arguments.length>1?W(arguments[1]):{})}}),"function"==typeof x){var Z=function(t){return l(this,Z,"Request"),new x(t,arguments.length>1?W(arguments[1]):{})};_.constructor=Z,Z.prototype=_,i({global:!0,forced:!0},{Request:Z})}}t.exports={URLSearchParams:J,getState:S}},285:(t,e,n)=>{n(8783);var i,r=n(2109),s=n(9781),o=n(590),u=n(7854),a=n(6048),h=n(1320),c=n(5787),l=n(6656),f=n(1574),d=n(8457),p=n(8710).codeAt,m=n(3197),v=n(1340),g=n(8003),b=n(1637),w=n(9909),y=u.URL,k=b.URLSearchParams,D=b.getState,j=w.set,x=w.getterFor("URL"),_=Math.floor,M=Math.pow,A="Invalid scheme",C="Invalid host",E="Invalid port",O=/[A-Za-z]/,S=/[\d+-.A-Za-z]/,T=/\d/,R=/^0x/i,F=/^[0-7]+$/,$=/^\d+$/,B=/^[\dA-Fa-f]+$/,q=/[\0\t\n\r #%/:<>?@[\\\]^|]/,L=/[\0\t\n\r #/:<>?@[\\\]^|]/,I=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,z=/[\t\n\r]/g,N=function(t,e){var n,i,r;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return C;if(!(n=U(e.slice(1,-1))))return C;t.host=n}else if(X(t)){if(e=m(e),q.test(e))return C;if(null===(n=P(e)))return C;t.host=n}else{if(L.test(e))return C;for(n="",i=d(e),r=0;r<i.length;r++)n+=Z(i[r],V);t.host=n}},P=function(t){var e,n,i,r,s,o,u,a=t.split(".");if(a.length&&""==a[a.length-1]&&a.pop(),(e=a.length)>4)return t;for(n=[],i=0;i<e;i++){if(""==(r=a[i]))return t;if(s=10,r.length>1&&"0"==r.charAt(0)&&(s=R.test(r)?16:8,r=r.slice(8==s?1:2)),""===r)o=0;else{if(!(10==s?$:8==s?F:B).test(r))return t;o=parseInt(r,s)}n.push(o)}for(i=0;i<e;i++)if(o=n[i],i==e-1){if(o>=M(256,5-e))return null}else if(o>255)return null;for(u=n.pop(),i=0;i<n.length;i++)u+=n[i]*M(256,3-i);return u},U=function(t){var e,n,i,r,s,o,u,a=[0,0,0,0,0,0,0,0],h=0,c=null,l=0,f=function(){return t.charAt(l)};if(":"==f()){if(":"!=t.charAt(1))return;l+=2,c=++h}for(;f();){if(8==h)return;if(":"!=f()){for(e=n=0;n<4&&B.test(f());)e=16*e+parseInt(f(),16),l++,n++;if("."==f()){if(0==n)return;if(l-=n,h>6)return;for(i=0;f();){if(r=null,i>0){if(!("."==f()&&i<4))return;l++}if(!T.test(f()))return;for(;T.test(f());){if(s=parseInt(f(),10),null===r)r=s;else{if(0==r)return;r=10*r+s}if(r>255)return;l++}a[h]=256*a[h]+r,2!=++i&&4!=i||h++}if(4!=i)return;break}if(":"==f()){if(l++,!f())return}else if(f())return;a[h++]=e}else{if(null!==c)return;l++,c=++h}}if(null!==c)for(o=h-c,h=7;0!=h&&o>0;)u=a[h],a[h--]=a[c+o-1],a[c+--o]=u;else if(8!=h)return;return a},H=function(t){var e,n,i,r;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=_(t/256);return e.join(".")}if("object"==typeof t){for(e="",i=function(t){for(var e=null,n=1,i=null,r=0,s=0;s<8;s++)0!==t[s]?(r>n&&(e=i,n=r),i=null,r=0):(null===i&&(i=s),++r);return r>n&&(e=i,n=r),e}(t),n=0;n<8;n++)r&&0===t[n]||(r&&(r=!1),i===n?(e+=n?":":"::",r=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},V={},J=f({},V,{" ":1,'"':1,"<":1,">":1,"`":1}),G=f({},J,{"#":1,"?":1,"{":1,"}":1}),W=f({},G,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Z=function(t,e){var n=p(t,0);return n>32&&n<127&&!l(e,t)?t:encodeURIComponent(t)},K={ftp:21,file:null,http:80,https:443,ws:80,wss:443},X=function(t){return l(K,t.scheme)},Y=function(t){return""!=t.username||""!=t.password},Q=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},tt=function(t,e){var n;return 2==t.length&&O.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},et=function(t){var e;return t.length>1&&tt(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},nt=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&tt(e[0],!0)||e.pop()},it=function(t){return"."===t||"%2e"===t.toLowerCase()},rt={},st={},ot={},ut={},at={},ht={},ct={},lt={},ft={},dt={},pt={},mt={},vt={},gt={},bt={},wt={},yt={},kt={},Dt={},jt={},xt={},_t=function(t,e,n,r){var s,o,u,a,h,c=n||rt,f=0,p="",m=!1,v=!1,g=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(I,"")),e=e.replace(z,""),s=d(e);f<=s.length;){switch(o=s[f],c){case rt:if(!o||!O.test(o)){if(n)return A;c=ot;continue}p+=o.toLowerCase(),c=st;break;case st:if(o&&(S.test(o)||"+"==o||"-"==o||"."==o))p+=o.toLowerCase();else{if(":"!=o){if(n)return A;p="",c=ot,f=0;continue}if(n&&(X(t)!=l(K,p)||"file"==p&&(Y(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=p,n)return void(X(t)&&K[t.scheme]==t.port&&(t.port=null));p="","file"==t.scheme?c=gt:X(t)&&r&&r.scheme==t.scheme?c=ut:X(t)?c=lt:"/"==s[f+1]?(c=at,f++):(t.cannotBeABaseURL=!0,t.path.push(""),c=Dt)}break;case ot:if(!r||r.cannotBeABaseURL&&"#"!=o)return A;if(r.cannotBeABaseURL&&"#"==o){t.scheme=r.scheme,t.path=r.path.slice(),t.query=r.query,t.fragment="",t.cannotBeABaseURL=!0,c=xt;break}c="file"==r.scheme?gt:ht;continue;case ut:if("/"!=o||"/"!=s[f+1]){c=ht;continue}c=ft,f++;break;case at:if("/"==o){c=dt;break}c=kt;continue;case ht:if(t.scheme=r.scheme,o==i)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query;else if("/"==o||"\\"==o&&X(t))c=ct;else if("?"==o)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query="",c=jt;else{if("#"!=o){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.path.pop(),c=kt;continue}t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query,t.fragment="",c=xt}break;case ct:if(!X(t)||"/"!=o&&"\\"!=o){if("/"!=o){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,c=kt;continue}c=dt}else c=ft;break;case lt:if(c=ft,"/"!=o||"/"!=p.charAt(f+1))continue;f++;break;case ft:if("/"!=o&&"\\"!=o){c=dt;continue}break;case dt:if("@"==o){m&&(p="%40"+p),m=!0,u=d(p);for(var b=0;b<u.length;b++){var w=u[b];if(":"!=w||g){var y=Z(w,W);g?t.password+=y:t.username+=y}else g=!0}p=""}else if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&X(t)){if(m&&""==p)return"Invalid authority";f-=d(p).length+1,p="",c=pt}else p+=o;break;case pt:case mt:if(n&&"file"==t.scheme){c=wt;continue}if(":"!=o||v){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&X(t)){if(X(t)&&""==p)return C;if(n&&""==p&&(Y(t)||null!==t.port))return;if(a=N(t,p))return a;if(p="",c=yt,n)return;continue}"["==o?v=!0:"]"==o&&(v=!1),p+=o}else{if(""==p)return C;if(a=N(t,p))return a;if(p="",c=vt,n==mt)return}break;case vt:if(!T.test(o)){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&X(t)||n){if(""!=p){var k=parseInt(p,10);if(k>65535)return E;t.port=X(t)&&k===K[t.scheme]?null:k,p=""}if(n)return;c=yt;continue}return E}p+=o;break;case gt:if(t.scheme="file","/"==o||"\\"==o)c=bt;else{if(!r||"file"!=r.scheme){c=kt;continue}if(o==i)t.host=r.host,t.path=r.path.slice(),t.query=r.query;else if("?"==o)t.host=r.host,t.path=r.path.slice(),t.query="",c=jt;else{if("#"!=o){et(s.slice(f).join(""))||(t.host=r.host,t.path=r.path.slice(),nt(t)),c=kt;continue}t.host=r.host,t.path=r.path.slice(),t.query=r.query,t.fragment="",c=xt}}break;case bt:if("/"==o||"\\"==o){c=wt;break}r&&"file"==r.scheme&&!et(s.slice(f).join(""))&&(tt(r.path[0],!0)?t.path.push(r.path[0]):t.host=r.host),c=kt;continue;case wt:if(o==i||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&tt(p))c=kt;else if(""==p){if(t.host="",n)return;c=yt}else{if(a=N(t,p))return a;if("localhost"==t.host&&(t.host=""),n)return;p="",c=yt}continue}p+=o;break;case yt:if(X(t)){if(c=kt,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=i&&(c=kt,"/"!=o))continue}else t.fragment="",c=xt;else t.query="",c=jt;break;case kt:if(o==i||"/"==o||"\\"==o&&X(t)||!n&&("?"==o||"#"==o)){if(".."===(h=(h=p).toLowerCase())||"%2e."===h||".%2e"===h||"%2e%2e"===h?(nt(t),"/"==o||"\\"==o&&X(t)||t.path.push("")):it(p)?"/"==o||"\\"==o&&X(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&tt(p)&&(t.host&&(t.host=""),p=p.charAt(0)+":"),t.path.push(p)),p="","file"==t.scheme&&(o==i||"?"==o||"#"==o))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==o?(t.query="",c=jt):"#"==o&&(t.fragment="",c=xt)}else p+=Z(o,G);break;case Dt:"?"==o?(t.query="",c=jt):"#"==o?(t.fragment="",c=xt):o!=i&&(t.path[0]+=Z(o,V));break;case jt:n||"#"!=o?o!=i&&("'"==o&&X(t)?t.query+="%27":t.query+="#"==o?"%23":Z(o,V)):(t.fragment="",c=xt);break;case xt:o!=i&&(t.fragment+=Z(o,J))}f++}},Mt=function(t){var e,n,i=c(this,Mt,"URL"),r=arguments.length>1?arguments[1]:void 0,o=v(t),u=j(i,{type:"URL"});if(void 0!==r)if(r instanceof Mt)e=x(r);else if(n=_t(e={},v(r)))throw TypeError(n);if(n=_t(u,o,null,e))throw TypeError(n);var a=u.searchParams=new k,h=D(a);h.updateSearchParams(u.query),h.updateURL=function(){u.query=String(a)||null},s||(i.href=Ct.call(i),i.origin=Et.call(i),i.protocol=Ot.call(i),i.username=St.call(i),i.password=Tt.call(i),i.host=Rt.call(i),i.hostname=Ft.call(i),i.port=$t.call(i),i.pathname=Bt.call(i),i.search=qt.call(i),i.searchParams=Lt.call(i),i.hash=It.call(i))},At=Mt.prototype,Ct=function(){var t=x(this),e=t.scheme,n=t.username,i=t.password,r=t.host,s=t.port,o=t.path,u=t.query,a=t.fragment,h=e+":";return null!==r?(h+="//",Y(t)&&(h+=n+(i?":"+i:"")+"@"),h+=H(r),null!==s&&(h+=":"+s)):"file"==e&&(h+="//"),h+=t.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==u&&(h+="?"+u),null!==a&&(h+="#"+a),h},Et=function(){var t=x(this),e=t.scheme,n=t.port;if("blob"==e)try{return new Mt(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&X(t)?e+"://"+H(t.host)+(null!==n?":"+n:""):"null"},Ot=function(){return x(this).scheme+":"},St=function(){return x(this).username},Tt=function(){return x(this).password},Rt=function(){var t=x(this),e=t.host,n=t.port;return null===e?"":null===n?H(e):H(e)+":"+n},Ft=function(){var t=x(this).host;return null===t?"":H(t)},$t=function(){var t=x(this).port;return null===t?"":String(t)},Bt=function(){var t=x(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},qt=function(){var t=x(this).query;return t?"?"+t:""},Lt=function(){return x(this).searchParams},It=function(){var t=x(this).fragment;return t?"#"+t:""},zt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(s&&a(At,{href:zt(Ct,(function(t){var e=x(this),n=v(t),i=_t(e,n);if(i)throw TypeError(i);D(e.searchParams).updateSearchParams(e.query)})),origin:zt(Et),protocol:zt(Ot,(function(t){var e=x(this);_t(e,v(t)+":",rt)})),username:zt(St,(function(t){var e=x(this),n=d(v(t));if(!Q(e)){e.username="";for(var i=0;i<n.length;i++)e.username+=Z(n[i],W)}})),password:zt(Tt,(function(t){var e=x(this),n=d(v(t));if(!Q(e)){e.password="";for(var i=0;i<n.length;i++)e.password+=Z(n[i],W)}})),host:zt(Rt,(function(t){var e=x(this);e.cannotBeABaseURL||_t(e,v(t),pt)})),hostname:zt(Ft,(function(t){var e=x(this);e.cannotBeABaseURL||_t(e,v(t),mt)})),port:zt($t,(function(t){var e=x(this);Q(e)||(""==(t=v(t))?e.port=null:_t(e,t,vt))})),pathname:zt(Bt,(function(t){var e=x(this);e.cannotBeABaseURL||(e.path=[],_t(e,v(t),yt))})),search:zt(qt,(function(t){var e=x(this);""==(t=v(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",_t(e,t,jt)),D(e.searchParams).updateSearchParams(e.query)})),searchParams:zt(Lt),hash:zt(It,(function(t){var e=x(this);""!=(t=v(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",_t(e,t,xt)):e.fragment=null}))}),h(At,"toJSON",(function(){return Ct.call(this)}),{enumerable:!0}),h(At,"toString",(function(){return Ct.call(this)}),{enumerable:!0}),y){var Nt=y.createObjectURL,Pt=y.revokeObjectURL;Nt&&h(Mt,"createObjectURL",(function(t){return Nt.apply(y,arguments)})),Pt&&h(Mt,"revokeObjectURL",(function(t){return Pt.apply(y,arguments)}))}g(Mt,"URL"),r({global:!0,forced:!o,sham:!s},{URL:Mt})},6518:t=>{t.exports=function(t){var e=void 0;e="string"==typeof t?[t]:t.raw;for(var n="",i=0;i<e.length;i++)n+=e[i].replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`"),i<(arguments.length<=1?0:arguments.length-1)&&(n+=arguments.length<=i+1?void 0:arguments[i+1]);var r=n.split("\n"),s=null;return r.forEach((function(t){var e=t.match(/^(\s+)\S+/);if(e){var n=e[1].length;s=s?Math.min(s,n):n}})),null!==s&&(n=r.map((function(t){return" "===t[0]?t.slice(s):t})).join("\n")),(n=n.trim()).replace(/\\n/g,"\n")}},9996:t=>{var e=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===n}(t)}(t)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(t,e){return!1!==e.clone&&e.isMergeableObject(t)?u((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function r(t,e,n){return t.concat(e).map((function(t){return i(t,n)}))}function s(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function o(t,e){try{return e in t}catch(t){return!1}}function u(t,n,a){(a=a||{}).arrayMerge=a.arrayMerge||r,a.isMergeableObject=a.isMergeableObject||e,a.cloneUnlessOtherwiseSpecified=i;var h=Array.isArray(n);return h===Array.isArray(t)?h?a.arrayMerge(t,n,a):function(t,e,n){var r={};return n.isMergeableObject(t)&&s(t).forEach((function(e){r[e]=i(t[e],n)})),s(e).forEach((function(s){(function(t,e){return o(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,s)||(o(t,s)&&n.isMergeableObject(e[s])?r[s]=function(t,e){if(!e.customMerge)return u;var n=e.customMerge(t);return"function"==typeof n?n:u}(s,n)(t[s],e[s],n):r[s]=i(e[s],n))})),r}(t,n,a):i(n,a)}u.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return u(t,n,e)}),{})};var a=u;t.exports=a},7837:(t,e)=>{Object.defineProperty(e,"t",{value:!0}),e.attributeNames=e.elementNames=void 0,e.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]),e.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])},7220:function(t,e,n){var i=this&&this.I||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.D||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),s=this&&this.R||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.L||function(t){if(t&&t.t)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return s(e,t),e};Object.defineProperty(e,"t",{value:!0});var u=o(n(9960)),a=n(5863),h=n(7837),c=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]),l=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function f(t,e){void 0===e&&(e={});for(var n=("length"in t?t:[t]),i="",r=0;r<n.length;r++)i+=d(n[r],e);return i}function d(t,e){switch(t.type){case u.Root:return f(t.children,e);case u.Directive:case u.Doctype:return"<"+t.data+">";case u.Comment:return"\x3c!--"+t.data+"--\x3e";case u.CDATA:return function(t){return"<![CDATA["+t.children[0].data+"]]>"}(t);case u.Script:case u.Style:case u.Tag:return function(t,e){var n;"foreign"===e.xmlMode&&(t.name=null!==(n=h.elementNames.get(t.name))&&void 0!==n?n:t.name,t.parent&&p.has(t.parent.name)&&(e=i(i({},e),{xmlMode:!1}))),!e.xmlMode&&m.has(t.name)&&(e=i(i({},e),{xmlMode:"foreign"}));var r="<"+t.name,s=function(t,e){if(t)return Object.keys(t).map((function(n){var i,r,s=null!==(i=t[n])&&void 0!==i?i:"";return"foreign"===e.xmlMode&&(n=null!==(r=h.attributeNames.get(n))&&void 0!==r?r:n),e.emptyAttrs||e.xmlMode||""!==s?n+'="'+(!1!==e.decodeEntities?a.encodeXML(s):s.replace(/"/g,"&quot;"))+'"':n})).join(" ")}(t.attribs,e);return s&&(r+=" "+s),0===t.children.length&&(e.xmlMode?!1!==e.selfClosingTags:e.selfClosingTags&&l.has(t.name))?(e.xmlMode||(r+=" "),r+="/>"):(r+=">",t.children.length>0&&(r+=f(t.children,e)),!e.xmlMode&&l.has(t.name)||(r+="</"+t.name+">")),r}(t,e);case u.Text:return function(t,e){var n=t.data||"";return!1===e.decodeEntities||!e.xmlMode&&t.parent&&c.has(t.parent.name)||(n=a.encodeXML(n)),n}(t,e)}}e.default=f;var p=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),m=new Set(["svg","math"])},9960:(t,e)=>{var n;Object.defineProperty(e,"t",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0,function(t){t.Root="root",t.Text="text",t.Directive="directive",t.Comment="comment",t.Script="script",t.Style="style",t.Tag="tag",t.CDATA="cdata",t.Doctype="doctype"}(n=e.ElementType||(e.ElementType={})),e.isTag=function(t){return t.type===n.Tag||t.type===n.Script||t.type===n.Style},e.Root=n.Root,e.Text=n.Text,e.Directive=n.Directive,e.Comment=n.Comment,e.Script=n.Script,e.Style=n.Style,e.Tag=n.Tag,e.CDATA=n.CDATA,e.Doctype=n.Doctype},7915:function(t,e,n){var i=this&&this.D||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.j||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"t",{value:!0}),e.DomHandler=void 0;var s=n(9960),o=n(7790);r(n(7790),e);var u=/\s+/g,a={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1},h=function(){function t(t,e,n){this.dom=[],this.root=new o.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof e&&(n=e,e=a),"object"==typeof t&&(e=t,t=void 0),this.callback=null!=t?t:null,this.options=null!=e?e:a,this.elementCB=null!=n?n:null}return t.prototype.onparserinit=function(t){this.parser=t},t.prototype.onreset=function(){var t;this.dom=[],this.root=new o.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null!==(t=this.parser)&&void 0!==t?t:null},t.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},t.prototype.onerror=function(t){this.handleCallback(t)},t.prototype.onclosetag=function(){this.lastNode=null;var t=this.tagStack.pop();this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(t)},t.prototype.onopentag=function(t,e){var n=this.options.xmlMode?s.ElementType.Tag:void 0,i=new o.Element(t,e,void 0,n);this.addNode(i),this.tagStack.push(i)},t.prototype.ontext=function(t){var e=this.options.normalizeWhitespace,n=this.lastNode;if(n&&n.type===s.ElementType.Text)e?n.data=(n.data+t).replace(u," "):n.data+=t;else{e&&(t=t.replace(u," "));var i=new o.Text(t);this.addNode(i),this.lastNode=i}},t.prototype.oncomment=function(t){if(this.lastNode&&this.lastNode.type===s.ElementType.Comment)this.lastNode.data+=t;else{var e=new o.Comment(t);this.addNode(e),this.lastNode=e}},t.prototype.oncommentend=function(){this.lastNode=null},t.prototype.oncdatastart=function(){var t=new o.Text(""),e=new o.NodeWithChildren(s.ElementType.CDATA,[t]);this.addNode(e),t.parent=e,this.lastNode=t},t.prototype.oncdataend=function(){this.lastNode=null},t.prototype.onprocessinginstruction=function(t,e){var n=new o.ProcessingInstruction(t,e);this.addNode(n)},t.prototype.handleCallback=function(t){if("function"==typeof this.callback)this.callback(t,this.dom);else if(t)throw t},t.prototype.addNode=function(t){var e=this.tagStack[this.tagStack.length-1],n=e.children[e.children.length-1];this.options.withStartIndices&&(t.startIndex=this.parser.startIndex),this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),e.children.push(t),n&&(t.prev=n,n.next=t),t.parent=e,this.lastNode=null},t}();e.DomHandler=h,e.default=h},7790:function(t,e,n){var i,r=this&&this.P||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.I||function(){return(s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"t",{value:!0}),e.cloneNode=e.hasChildren=e.isDocument=e.isDirective=e.isComment=e.isText=e.isCDATA=e.isTag=e.Element=e.Document=e.NodeWithChildren=e.ProcessingInstruction=e.Comment=e.Text=e.DataNode=e.Node=void 0;var o=n(9960),u=new Map([[o.ElementType.Tag,1],[o.ElementType.Script,1],[o.ElementType.Style,1],[o.ElementType.Directive,1],[o.ElementType.Text,3],[o.ElementType.CDATA,4],[o.ElementType.Comment,8],[o.ElementType.Root,9]]),a=function(){function t(t){this.type=t,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(t.prototype,"nodeType",{get:function(){var t;return null!==(t=u.get(this.type))&&void 0!==t?t:1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),t.prototype.cloneNode=function(t){return void 0===t&&(t=!1),D(this,t)},t}();e.Node=a;var h=function(t){function e(e,n){var i=t.call(this,e)||this;return i.data=n,i}return r(e,t),Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.data},set:function(t){this.data=t},enumerable:!1,configurable:!0}),e}(a);e.DataNode=h;var c=function(t){function e(e){return t.call(this,o.ElementType.Text,e)||this}return r(e,t),e}(h);e.Text=c;var l=function(t){function e(e){return t.call(this,o.ElementType.Comment,e)||this}return r(e,t),e}(h);e.Comment=l;var f=function(t){function e(e,n){var i=t.call(this,o.ElementType.Directive,n)||this;return i.name=e,i}return r(e,t),e}(h);e.ProcessingInstruction=f;var d=function(t){function e(e,n){var i=t.call(this,e)||this;return i.children=n,i}return r(e,t),Object.defineProperty(e.prototype,"firstChild",{get:function(){var t;return null!==(t=this.children[0])&&void 0!==t?t:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.children},set:function(t){this.children=t},enumerable:!1,configurable:!0}),e}(a);e.NodeWithChildren=d;var p=function(t){function e(e){return t.call(this,o.ElementType.Root,e)||this}return r(e,t),e}(d);e.Document=p;var m=function(t){function e(e,n,i,r){void 0===i&&(i=[]),void 0===r&&(r="script"===e?o.ElementType.Script:"style"===e?o.ElementType.Style:o.ElementType.Tag);var s=t.call(this,r,i)||this;return s.name=e,s.attribs=n,s}return r(e,t),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name},set:function(t){this.name=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var t=this;return Object.keys(this.attribs).map((function(e){var n,i;return{name:e,value:t.attribs[e],namespace:null===(n=t["x-attribsNamespace"])||void 0===n?void 0:n[e],prefix:null===(i=t["x-attribsPrefix"])||void 0===i?void 0:i[e]}}))},enumerable:!1,configurable:!0}),e}(d);function v(t){return o.isTag(t)}function g(t){return t.type===o.ElementType.CDATA}function b(t){return t.type===o.ElementType.Text}function w(t){return t.type===o.ElementType.Comment}function y(t){return t.type===o.ElementType.Directive}function k(t){return t.type===o.ElementType.Root}function D(t,e){var n;if(void 0===e&&(e=!1),b(t))n=new c(t.data);else if(w(t))n=new l(t.data);else if(v(t)){var i=e?j(t.children):[],r=new m(t.name,s({},t.attribs),i);i.forEach((function(t){return t.parent=r})),t["x-attribsNamespace"]&&(r["x-attribsNamespace"]=s({},t["x-attribsNamespace"])),t["x-attribsPrefix"]&&(r["x-attribsPrefix"]=s({},t["x-attribsPrefix"])),n=r}else if(g(t)){i=e?j(t.children):[];var u=new d(o.ElementType.CDATA,i);i.forEach((function(t){return t.parent=u})),n=u}else if(k(t)){i=e?j(t.children):[];var a=new p(i);i.forEach((function(t){return t.parent=a})),t["x-mode"]&&(a["x-mode"]=t["x-mode"]),n=a}else{if(!y(t))throw new Error("Not implemented yet: "+t.type);var h=new f(t.name,t.data);null!=t["x-name"]&&(h["x-name"]=t["x-name"],h["x-publicId"]=t["x-publicId"],h["x-systemId"]=t["x-systemId"]),n=h}return n.startIndex=t.startIndex,n.endIndex=t.endIndex,n}function j(t){for(var e=t.map((function(t){return D(t,!0)})),n=1;n<e.length;n++)e[n].prev=e[n-1],e[n-1].next=e[n];return e}e.Element=m,e.isTag=v,e.isCDATA=g,e.isText=b,e.isComment=w,e.isDirective=y,e.isDocument=k,e.hasChildren=function(t){return Object.prototype.hasOwnProperty.call(t,"children")},e.cloneNode=D},4975:(t,e,n)=>{Object.defineProperty(e,"t",{value:!0}),e.uniqueSort=e.compareDocumentPosition=e.removeSubsets=void 0;var i=n(7915);function r(t,e){var n=[],r=[];if(t===e)return 0;for(var s=i.hasChildren(t)?t:t.parent;s;)n.unshift(s),s=s.parent;for(s=i.hasChildren(e)?e:e.parent;s;)r.unshift(s),s=s.parent;for(var o=Math.min(n.length,r.length),u=0;u<o&&n[u]===r[u];)u++;if(0===u)return 1;var a=n[u-1],h=a.children,c=n[u],l=r[u];return h.indexOf(c)>h.indexOf(l)?a===e?20:4:a===t?10:2}e.removeSubsets=function(t){for(var e=t.length;--e>=0;){var n=t[e];if(e>0&&t.lastIndexOf(n,e-1)>=0)t.splice(e,1);else for(var i=n.parent;i;i=i.parent)if(t.includes(i)){t.splice(e,1);break}}return t},e.compareDocumentPosition=r,e.uniqueSort=function(t){return(t=t.filter((function(t,e,n){return!n.includes(t,e+1)}))).sort((function(t,e){var n=r(t,e);return 2&n?-1:4&n?1:0})),t}},9432:function(t,e,n){var i=this&&this.D||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.j||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"t",{value:!0}),e.hasChildren=e.isDocument=e.isComment=e.isText=e.isCDATA=e.isTag=void 0,r(n(3346),e),r(n(5010),e),r(n(6765),e),r(n(8043),e),r(n(3905),e),r(n(4975),e);var s=n(7915);Object.defineProperty(e,"isTag",{enumerable:!0,get:function(){return s.isTag}}),Object.defineProperty(e,"isCDATA",{enumerable:!0,get:function(){return s.isCDATA}}),Object.defineProperty(e,"isText",{enumerable:!0,get:function(){return s.isText}}),Object.defineProperty(e,"isComment",{enumerable:!0,get:function(){return s.isComment}}),Object.defineProperty(e,"isDocument",{enumerable:!0,get:function(){return s.isDocument}}),Object.defineProperty(e,"hasChildren",{enumerable:!0,get:function(){return s.hasChildren}})},3905:(t,e,n)=>{Object.defineProperty(e,"t",{value:!0}),e.getElementsByTagType=e.getElementsByTagName=e.getElementById=e.getElements=e.testElement=void 0;var i=n(7915),r=n(8043),s={tag_name:function(t){return"function"==typeof t?function(e){return i.isTag(e)&&t(e.name)}:"*"===t?i.isTag:function(e){return i.isTag(e)&&e.name===t}},tag_type:function(t){return"function"==typeof t?function(e){return t(e.type)}:function(e){return e.type===t}},tag_contains:function(t){return"function"==typeof t?function(e){return i.isText(e)&&t(e.data)}:function(e){return i.isText(e)&&e.data===t}}};function o(t,e){return"function"==typeof e?function(n){return i.isTag(n)&&e(n.attribs[t])}:function(n){return i.isTag(n)&&n.attribs[t]===e}}function u(t,e){return function(n){return t(n)||e(n)}}function a(t){var e=Object.keys(t).map((function(e){var n=t[e];return e in s?s[e](n):o(e,n)}));return 0===e.length?null:e.reduce(u)}e.testElement=function(t,e){var n=a(t);return!n||n(e)},e.getElements=function(t,e,n,i){void 0===i&&(i=1/0);var s=a(t);return s?r.filter(s,e,n,i):[]},e.getElementById=function(t,e,n){return void 0===n&&(n=!0),Array.isArray(e)||(e=[e]),r.findOne(o("id",t),e,n)},e.getElementsByTagName=function(t,e,n,i){return void 0===n&&(n=!0),void 0===i&&(i=1/0),r.filter(s.tag_name(t),e,n,i)},e.getElementsByTagType=function(t,e,n,i){return void 0===n&&(n=!0),void 0===i&&(i=1/0),r.filter(s.tag_type(t),e,n,i)}},6765:(t,e)=>{function n(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){var e=t.parent.children;e.splice(e.lastIndexOf(t),1)}}Object.defineProperty(e,"t",{value:!0}),e.prepend=e.prependChild=e.append=e.appendChild=e.replaceElement=e.removeElement=void 0,e.removeElement=n,e.replaceElement=function(t,e){var n=e.prev=t.prev;n&&(n.next=e);var i=e.next=t.next;i&&(i.prev=e);var r=e.parent=t.parent;if(r){var s=r.children;s[s.lastIndexOf(t)]=e}},e.appendChild=function(t,e){if(n(e),e.next=null,e.parent=t,t.children.push(e)>1){var i=t.children[t.children.length-2];i.next=e,e.prev=i}else e.prev=null},e.append=function(t,e){n(e);var i=t.parent,r=t.next;if(e.next=r,e.prev=t,t.next=e,e.parent=i,r){if(r.prev=e,i){var s=i.children;s.splice(s.lastIndexOf(r),0,e)}}else i&&i.children.push(e)},e.prependChild=function(t,e){if(n(e),e.parent=t,e.prev=null,1!==t.children.unshift(e)){var i=t.children[1];i.prev=e,e.next=i}else e.next=null},e.prepend=function(t,e){n(e);var i=t.parent;if(i){var r=i.children;r.splice(r.indexOf(t),0,e)}t.prev&&(t.prev.next=e),e.parent=i,e.prev=t.prev,e.next=t,t.prev=e}},8043:(t,e,n)=>{Object.defineProperty(e,"t",{value:!0}),e.findAll=e.existsOne=e.findOne=e.findOneChild=e.find=e.filter=void 0;var i=n(7915);function r(t,e,n,s){for(var o=[],u=0,a=e;u<a.length;u++){var h=a[u];if(t(h)&&(o.push(h),--s<=0))break;if(n&&i.hasChildren(h)&&h.children.length>0){var c=r(t,h.children,n,s);if(o.push.apply(o,c),(s-=c.length)<=0)break}}return o}e.filter=function(t,e,n,i){return void 0===n&&(n=!0),void 0===i&&(i=1/0),Array.isArray(e)||(e=[e]),r(t,e,n,i)},e.find=r,e.findOneChild=function(t,e){return e.find(t)},e.findOne=function t(e,n,r){void 0===r&&(r=!0);for(var s=null,o=0;o<n.length&&!s;o++){var u=n[o];i.isTag(u)&&(e(u)?s=u:r&&u.children.length>0&&(s=t(e,u.children)))}return s},e.existsOne=function t(e,n){return n.some((function(n){return i.isTag(n)&&(e(n)||n.children.length>0&&t(e,n.children))}))},e.findAll=function(t,e){for(var n,r,s=[],o=e.filter(i.isTag);r=o.shift();){var u=null===(n=r.children)||void 0===n?void 0:n.filter(i.isTag);u&&u.length>0&&o.unshift.apply(o,u),t(r)&&s.push(r)}return s}},3346:function(t,e,n){var i=this&&this.O||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(e,"t",{value:!0}),e.innerText=e.textContent=e.getText=e.getInnerHTML=e.getOuterHTML=void 0;var r=n(7915),s=i(n(7220)),o=n(9960);function u(t,e){return s.default(t,e)}e.getOuterHTML=u,e.getInnerHTML=function(t,e){return r.hasChildren(t)?t.children.map((function(t){return u(t,e)})).join(""):""},e.getText=function t(e){return Array.isArray(e)?e.map(t).join(""):r.isTag(e)?"br"===e.name?"\n":t(e.children):r.isCDATA(e)?t(e.children):r.isText(e)?e.data:""},e.textContent=function t(e){return Array.isArray(e)?e.map(t).join(""):r.isTag(e)||r.isCDATA(e)?t(e.children):r.isText(e)?e.data:""},e.innerText=function t(e){return Array.isArray(e)?e.map(t).join(""):r.hasChildren(e)&&e.type===o.ElementType.Tag||r.isCDATA(e)?t(e.children):r.isText(e)?e.data:""}},5010:(t,e,n)=>{Object.defineProperty(e,"t",{value:!0}),e.prevElementSibling=e.nextElementSibling=e.getName=e.hasAttrib=e.getAttributeValue=e.getSiblings=e.getParent=e.getChildren=void 0;var i=n(7915),r=[];function s(t){var e;return null!==(e=t.children)&&void 0!==e?e:r}function o(t){return t.parent||null}e.getChildren=s,e.getParent=o,e.getSiblings=function(t){var e=o(t);if(null!=e)return s(e);for(var n=[t],i=t.prev,r=t.next;null!=i;)n.unshift(i),i=i.prev;for(;null!=r;)n.push(r),r=r.next;return n},e.getAttributeValue=function(t,e){var n;return null===(n=t.attribs)||void 0===n?void 0:n[e]},e.hasAttrib=function(t,e){return null!=t.attribs&&Object.prototype.hasOwnProperty.call(t.attribs,e)&&null!=t.attribs[e]},e.getName=function(t){return t.name},e.nextElementSibling=function(t){for(var e=t.next;null!==e&&!i.isTag(e);)e=e.next;return e},e.prevElementSibling=function(t){for(var e=t.prev;null!==e&&!i.isTag(e);)e=e.prev;return e}},4076:function(t,e,n){var i=this&&this.O||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(e,"t",{value:!0}),e.decodeHTML=e.decodeHTMLStrict=e.decodeXML=void 0;var r=i(n(9323)),s=i(n(9591)),o=i(n(2586)),u=i(n(26)),a=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function h(t){var e=l(t);return function(t){return String(t).replace(a,e)}}e.decodeXML=h(o.default),e.decodeHTMLStrict=h(r.default);var c=function(t,e){return t<e?1:-1};function l(t){return function(e){if("#"===e.charAt(1)){var n=e.charAt(2);return"X"===n||"x"===n?u.default(parseInt(e.substr(3),16)):u.default(parseInt(e.substr(2),10))}return t[e.slice(1,-1)]||e}}e.decodeHTML=function(){for(var t=Object.keys(s.default).sort(c),e=Object.keys(r.default).sort(c),n=0,i=0;n<e.length;n++)t[i]===e[n]?(e[n]+=";?",i++):e[n]+=";";var o=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),u=l(r.default);function a(t){return";"!==t.substr(-1)&&(t+=";"),u(t)}return function(t){return String(t).replace(o,a)}}()},26:function(t,e,n){var i=this&&this.O||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(e,"t",{value:!0});var r=i(n(3600)),s=String.fromCodePoint||function(t){var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+String.fromCharCode(t)};e.default=function(t){return t>=55296&&t<=57343||t>1114111?"�":(t in r.default&&(t=r.default[t]),s(t))}},7322:function(t,e,n){var i=this&&this.O||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(e,"t",{value:!0}),e.escapeUTF8=e.escape=e.encodeNonAsciiHTML=e.encodeHTML=e.encodeXML=void 0;var r=c(i(n(2586)).default),s=l(r);e.encodeXML=v(r);var o,u,a=c(i(n(9323)).default),h=l(a);function c(t){return Object.keys(t).sort().reduce((function(e,n){return e[t[n]]="&"+n+";",e}),{})}function l(t){for(var e=[],n=[],i=0,r=Object.keys(t);i<r.length;i++){var s=r[i];1===s.length?e.push("\\"+s):n.push(s)}e.sort();for(var o=0;o<e.length-1;o++){for(var u=o;u<e.length-1&&e[u].charCodeAt(1)+1===e[u+1].charCodeAt(1);)u+=1;var a=1+u-o;a<3||e.splice(o,a,e[o]+"-"+e[u])}return n.unshift("["+e.join("")+"]"),new RegExp(n.join("|"),"g")}e.encodeHTML=(o=a,u=h,function(t){return t.replace(u,(function(t){return o[t]})).replace(f,p)}),e.encodeNonAsciiHTML=v(a);var f=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,d=null!=String.prototype.codePointAt?function(t){return t.codePointAt(0)}:function(t){return 1024*(t.charCodeAt(0)-55296)+t.charCodeAt(1)-56320+65536};function p(t){return"&#x"+(t.length>1?d(t):t.charCodeAt(0)).toString(16).toUpperCase()+";"}var m=new RegExp(s.source+"|"+f.source,"g");function v(t){return function(e){return e.replace(m,(function(e){return t[e]||p(e)}))}}e.escape=function(t){return t.replace(m,p)},e.escapeUTF8=function(t){return t.replace(s,p)}},5863:(t,e,n)=>{Object.defineProperty(e,"t",{value:!0}),e.decodeXMLStrict=e.decodeHTML5Strict=e.decodeHTML4Strict=e.decodeHTML5=e.decodeHTML4=e.decodeHTMLStrict=e.decodeHTML=e.decodeXML=e.encodeHTML5=e.encodeHTML4=e.escapeUTF8=e.escape=e.encodeNonAsciiHTML=e.encodeHTML=e.encodeXML=e.encode=e.decodeStrict=e.decode=void 0;var i=n(4076),r=n(7322);e.decode=function(t,e){return(!e||e<=0?i.decodeXML:i.decodeHTML)(t)},e.decodeStrict=function(t,e){return(!e||e<=0?i.decodeXML:i.decodeHTMLStrict)(t)},e.encode=function(t,e){return(!e||e<=0?r.encodeXML:r.encodeHTML)(t)};var s=n(7322);Object.defineProperty(e,"encodeXML",{enumerable:!0,get:function(){return s.encodeXML}}),Object.defineProperty(e,"encodeHTML",{enumerable:!0,get:function(){return s.encodeHTML}}),Object.defineProperty(e,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return s.encodeNonAsciiHTML}}),Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return s.escape}}),Object.defineProperty(e,"escapeUTF8",{enumerable:!0,get:function(){return s.escapeUTF8}}),Object.defineProperty(e,"encodeHTML4",{enumerable:!0,get:function(){return s.encodeHTML}}),Object.defineProperty(e,"encodeHTML5",{enumerable:!0,get:function(){return s.encodeHTML}});var o=n(4076);Object.defineProperty(e,"decodeXML",{enumerable:!0,get:function(){return o.decodeXML}}),Object.defineProperty(e,"decodeHTML",{enumerable:!0,get:function(){return o.decodeHTML}}),Object.defineProperty(e,"decodeHTMLStrict",{enumerable:!0,get:function(){return o.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML4",{enumerable:!0,get:function(){return o.decodeHTML}}),Object.defineProperty(e,"decodeHTML5",{enumerable:!0,get:function(){return o.decodeHTML}}),Object.defineProperty(e,"decodeHTML4Strict",{enumerable:!0,get:function(){return o.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML5Strict",{enumerable:!0,get:function(){return o.decodeHTMLStrict}}),Object.defineProperty(e,"decodeXMLStrict",{enumerable:!0,get:function(){return o.decodeXML}})},3870:function(t,e,n){var i,r=this&&this.P||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.D||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.R||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),u=this&&this.L||function(t){if(t&&t.t)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&s(e,t,n);return o(e,t),e},a=this&&this.O||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(e,"t",{value:!0}),e.parseFeed=e.FeedHandler=void 0;var h,c,l=a(n(7915)),f=u(n(9432)),d=n(763);!function(t){t[t.image=0]="image",t[t.audio=1]="audio",t[t.video=2]="video",t[t.document=3]="document",t[t.executable=4]="executable"}(h||(h={})),function(t){t[t.sample=0]="sample",t[t.full=1]="full",t[t.nonstop=2]="nonstop"}(c||(c={}));var p=function(t){function e(e,n){return"object"==typeof e&&(n=e=void 0),t.call(this,e,n)||this}return r(e,t),e.prototype.onend=function(){var t,e,n=g(k,this.dom);if(n){var i={};if("feed"===n.name){var r=n.children;i.type="atom",y(i,"id","id",r),y(i,"title","title",r);var s=w("href",g("link",r));s&&(i.link=s),y(i,"description","subtitle",r),(o=b("updated",r))&&(i.updated=new Date(o)),y(i,"author","email",r,!0),i.items=v("entry",r).map((function(t){var e={},n=t.children;y(e,"id","id",n),y(e,"title","title",n);var i=w("href",g("link",n));i&&(e.link=i);var r=b("summary",n)||b("content",n);r&&(e.description=r);var s=b("updated",n);return s&&(e.pubDate=new Date(s)),e.media=m(n),e}))}else{var o;r=null!==(e=null===(t=g("channel",n.children))||void 0===t?void 0:t.children)&&void 0!==e?e:[],i.type=n.name.substr(0,3),i.id="",y(i,"title","title",r),y(i,"link","link",r),y(i,"description","description",r),(o=b("lastBuildDate",r))&&(i.updated=new Date(o)),y(i,"author","managingEditor",r,!0),i.items=v("item",n.children).map((function(t){var e={},n=t.children;y(e,"id","guid",n),y(e,"title","title",n),y(e,"link","link",n),y(e,"description","description",n);var i=b("pubDate",n);return i&&(e.pubDate=new Date(i)),e.media=m(n),e}))}this.feed=i,this.handleCallback(null)}else this.handleCallback(new Error("couldn't find root of feed"))},e}(l.default);function m(t){return v("media:content",t).map((function(t){var e={medium:t.attribs.medium,isDefault:!!t.attribs.isDefault};return t.attribs.url&&(e.url=t.attribs.url),t.attribs.fileSize&&(e.fileSize=parseInt(t.attribs.fileSize,10)),t.attribs.type&&(e.type=t.attribs.type),t.attribs.expression&&(e.expression=t.attribs.expression),t.attribs.bitrate&&(e.bitrate=parseInt(t.attribs.bitrate,10)),t.attribs.framerate&&(e.framerate=parseInt(t.attribs.framerate,10)),t.attribs.samplingrate&&(e.samplingrate=parseInt(t.attribs.samplingrate,10)),t.attribs.channels&&(e.channels=parseInt(t.attribs.channels,10)),t.attribs.duration&&(e.duration=parseInt(t.attribs.duration,10)),t.attribs.height&&(e.height=parseInt(t.attribs.height,10)),t.attribs.width&&(e.width=parseInt(t.attribs.width,10)),t.attribs.lang&&(e.lang=t.attribs.lang),e}))}function v(t,e){return f.getElementsByTagName(t,e,!0)}function g(t,e){return f.getElementsByTagName(t,e,!0,1)[0]}function b(t,e,n){return void 0===n&&(n=!1),f.getText(f.getElementsByTagName(t,e,n,1)).trim()}function w(t,e){return e?e.attribs[t]:null}function y(t,e,n,i,r){void 0===r&&(r=!1);var s=b(n,i,r);s&&(t[e]=s)}function k(t){return"rss"===t||"feed"===t||"rdf:RDF"===t}e.FeedHandler=p,e.parseFeed=function(t,e){void 0===e&&(e={xmlMode:!0});var n=new p(e);return new d.Parser(n,e).end(t),n.feed}},763:function(t,e,n){var i=this&&this.O||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(e,"t",{value:!0}),e.Parser=void 0;var r=i(n(9889)),s=new Set(["input","option","optgroup","select","button","datalist","textarea"]),o=new Set(["p"]),u={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:o,h1:o,h2:o,h3:o,h4:o,h5:o,h6:o,select:s,input:s,output:s,button:s,datalist:s,textarea:s,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:o,article:o,aside:o,blockquote:o,details:o,div:o,dl:o,fieldset:o,figcaption:o,figure:o,footer:o,form:o,header:o,hr:o,main:o,nav:o,ol:o,pre:o,section:o,table:o,ul:o,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},a=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),h=new Set(["math","svg"]),c=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),l=/\s|\//,f=function(){function t(t,e){var n,i,s,o,u;void 0===e&&(e={}),this.startIndex=0,this.endIndex=null,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.options=e,this.cbs=null!=t?t:{},this.lowerCaseTagNames=null!==(n=e.lowerCaseTags)&&void 0!==n?n:!e.xmlMode,this.lowerCaseAttributeNames=null!==(i=e.lowerCaseAttributeNames)&&void 0!==i?i:!e.xmlMode,this.tokenizer=new(null!==(s=e.Tokenizer)&&void 0!==s?s:r.default)(this.options,this),null===(u=(o=this.cbs).onparserinit)||void 0===u||u.call(o,this)}return t.prototype.updatePosition=function(t){null===this.endIndex?this.tokenizer.sectionStart<=t?this.startIndex=0:this.startIndex=this.tokenizer.sectionStart-t:this.startIndex=this.endIndex+1,this.endIndex=this.tokenizer.getAbsoluteIndex()},t.prototype.ontext=function(t){var e,n;this.updatePosition(1),this.endIndex--,null===(n=(e=this.cbs).ontext)||void 0===n||n.call(e,t)},t.prototype.onopentagname=function(t){var e,n;if(this.lowerCaseTagNames&&(t=t.toLowerCase()),this.tagname=t,!this.options.xmlMode&&Object.prototype.hasOwnProperty.call(u,t))for(var i=void 0;this.stack.length>0&&u[t].has(i=this.stack[this.stack.length-1]);)this.onclosetag(i);!this.options.xmlMode&&a.has(t)||(this.stack.push(t),h.has(t)?this.foreignContext.push(!0):c.has(t)&&this.foreignContext.push(!1)),null===(n=(e=this.cbs).onopentagname)||void 0===n||n.call(e,t),this.cbs.onopentag&&(this.attribs={})},t.prototype.onopentagend=function(){var t,e;this.updatePosition(1),this.attribs&&(null===(e=(t=this.cbs).onopentag)||void 0===e||e.call(t,this.tagname,this.attribs),this.attribs=null),!this.options.xmlMode&&this.cbs.onclosetag&&a.has(this.tagname)&&this.cbs.onclosetag(this.tagname),this.tagname=""},t.prototype.onclosetag=function(t){if(this.updatePosition(1),this.lowerCaseTagNames&&(t=t.toLowerCase()),(h.has(t)||c.has(t))&&this.foreignContext.pop(),!this.stack.length||!this.options.xmlMode&&a.has(t))this.options.xmlMode||"br"!==t&&"p"!==t||(this.onopentagname(t),this.closeCurrentTag());else{var e=this.stack.lastIndexOf(t);if(-1!==e)if(this.cbs.onclosetag)for(e=this.stack.length-e;e--;)this.cbs.onclosetag(this.stack.pop());else this.stack.length=e;else"p"!==t||this.options.xmlMode||(this.onopentagname(t),this.closeCurrentTag())}},t.prototype.onselfclosingtag=function(){this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?this.closeCurrentTag():this.onopentagend()},t.prototype.closeCurrentTag=function(){var t,e,n=this.tagname;this.onopentagend(),this.stack[this.stack.length-1]===n&&(null===(e=(t=this.cbs).onclosetag)||void 0===e||e.call(t,n),this.stack.pop())},t.prototype.onattribname=function(t){this.lowerCaseAttributeNames&&(t=t.toLowerCase()),this.attribname=t},t.prototype.onattribdata=function(t){this.attribvalue+=t},t.prototype.onattribend=function(t){var e,n;null===(n=(e=this.cbs).onattribute)||void 0===n||n.call(e,this.attribname,this.attribvalue,t),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribname="",this.attribvalue=""},t.prototype.getInstructionName=function(t){var e=t.search(l),n=e<0?t:t.substr(0,e);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n},t.prototype.ondeclaration=function(t){if(this.cbs.onprocessinginstruction){var e=this.getInstructionName(t);this.cbs.onprocessinginstruction("!"+e,"!"+t)}},t.prototype.onprocessinginstruction=function(t){if(this.cbs.onprocessinginstruction){var e=this.getInstructionName(t);this.cbs.onprocessinginstruction("?"+e,"?"+t)}},t.prototype.oncomment=function(t){var e,n,i,r;this.updatePosition(4),null===(n=(e=this.cbs).oncomment)||void 0===n||n.call(e,t),null===(r=(i=this.cbs).oncommentend)||void 0===r||r.call(i)},t.prototype.oncdata=function(t){var e,n,i,r,s,o;this.updatePosition(1),this.options.xmlMode||this.options.recognizeCDATA?(null===(n=(e=this.cbs).oncdatastart)||void 0===n||n.call(e),null===(r=(i=this.cbs).ontext)||void 0===r||r.call(i,t),null===(o=(s=this.cbs).oncdataend)||void 0===o||o.call(s)):this.oncomment("[CDATA["+t+"]]")},t.prototype.onerror=function(t){var e,n;null===(n=(e=this.cbs).onerror)||void 0===n||n.call(e,t)},t.prototype.onend=function(){var t,e;if(this.cbs.onclosetag)for(var n=this.stack.length;n>0;this.cbs.onclosetag(this.stack[--n]));null===(e=(t=this.cbs).onend)||void 0===e||e.call(t)},t.prototype.reset=function(){var t,e,n,i;null===(e=(t=this.cbs).onreset)||void 0===e||e.call(t),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack=[],null===(i=(n=this.cbs).onparserinit)||void 0===i||i.call(n,this)},t.prototype.parseComplete=function(t){this.reset(),this.end(t)},t.prototype.write=function(t){this.tokenizer.write(t)},t.prototype.end=function(t){this.tokenizer.end(t)},t.prototype.pause=function(){this.tokenizer.pause()},t.prototype.resume=function(){this.tokenizer.resume()},t.prototype.parseChunk=function(t){this.write(t)},t.prototype.done=function(t){this.end(t)},t}();e.Parser=f},9889:function(t,e,n){var i=this&&this.O||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(e,"t",{value:!0});var r=i(n(26)),s=i(n(9323)),o=i(n(9591)),u=i(n(2586));function a(t){return" "===t||"\n"===t||"\t"===t||"\f"===t||"\r"===t}function h(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"}function c(t,e,n){var i=t.toLowerCase();return t===i?function(t,r){r===i?t._state=e:(t._state=n,t._index--)}:function(r,s){s===i||s===t?r._state=e:(r._state=n,r._index--)}}function l(t,e){var n=t.toLowerCase();return function(i,r){r===n||r===t?i._state=e:(i._state=3,i._index--)}}var f=c("C",24,16),d=c("D",25,16),p=c("A",26,16),m=c("T",27,16),v=c("A",28,16),g=l("R",35),b=l("I",36),w=l("P",37),y=l("T",38),k=c("R",40,1),D=c("I",41,1),j=c("P",42,1),x=c("T",43,1),_=l("Y",45),M=l("L",46),A=l("E",47),C=c("Y",49,1),E=c("L",50,1),O=c("E",51,1),S=l("I",54),T=l("T",55),R=l("L",56),F=l("E",57),$=c("I",58,1),B=c("T",59,1),q=c("L",60,1),L=c("E",61,1),I=c("#",63,64),z=c("X",66,65),N=function(){function t(t,e){var n;this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1,this.cbs=e,this.xmlMode=!!(null==t?void 0:t.xmlMode),this.decodeEntities=null===(n=null==t?void 0:t.decodeEntities)||void 0===n||n}return t.prototype.reset=function(){this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1},t.prototype.write=function(t){this.ended&&this.cbs.onerror(Error(".write() after done!")),this.buffer+=t,this.parse()},t.prototype.end=function(t){this.ended&&this.cbs.onerror(Error(".end() after done!")),t&&this.write(t),this.ended=!0,this.running&&this.finish()},t.prototype.pause=function(){this.running=!1},t.prototype.resume=function(){this.running=!0,this._index<this.buffer.length&&this.parse(),this.ended&&this.finish()},t.prototype.getAbsoluteIndex=function(){return this.bufferOffset+this._index},t.prototype.stateText=function(t){"<"===t?(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this._state=2,this.sectionStart=this._index):!this.decodeEntities||"&"!==t||1!==this.special&&4!==this.special||(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this.baseState=1,this._state=62,this.sectionStart=this._index)},t.prototype.isTagStartChar=function(t){return h(t)||this.xmlMode&&!a(t)&&"/"!==t&&">"!==t},t.prototype.stateBeforeTagName=function(t){"/"===t?this._state=5:"<"===t?(this.cbs.ontext(this.getSection()),this.sectionStart=this._index):">"===t||1!==this.special||a(t)?this._state=1:"!"===t?(this._state=15,this.sectionStart=this._index+1):"?"===t?(this._state=17,this.sectionStart=this._index+1):this.isTagStartChar(t)?(this._state=this.xmlMode||"s"!==t&&"S"!==t?this.xmlMode||"t"!==t&&"T"!==t?3:52:32,this.sectionStart=this._index):this._state=1},t.prototype.stateInTagName=function(t){("/"===t||">"===t||a(t))&&(this.emitToken("onopentagname"),this._state=8,this._index--)},t.prototype.stateBeforeClosingTagName=function(t){a(t)||(">"===t?this._state=1:1!==this.special?4===this.special||"s"!==t&&"S"!==t?4!==this.special||"t"!==t&&"T"!==t?(this._state=1,this._index--):this._state=53:this._state=33:this.isTagStartChar(t)?(this._state=6,this.sectionStart=this._index):(this._state=20,this.sectionStart=this._index))},t.prototype.stateInClosingTagName=function(t){(">"===t||a(t))&&(this.emitToken("onclosetag"),this._state=7,this._index--)},t.prototype.stateAfterClosingTagName=function(t){">"===t&&(this._state=1,this.sectionStart=this._index+1)},t.prototype.stateBeforeAttributeName=function(t){">"===t?(this.cbs.onopentagend(),this._state=1,this.sectionStart=this._index+1):"/"===t?this._state=4:a(t)||(this._state=9,this.sectionStart=this._index)},t.prototype.stateInSelfClosingTag=function(t){">"===t?(this.cbs.onselfclosingtag(),this._state=1,this.sectionStart=this._index+1,this.special=1):a(t)||(this._state=8,this._index--)},t.prototype.stateInAttributeName=function(t){("="===t||"/"===t||">"===t||a(t))&&(this.cbs.onattribname(this.getSection()),this.sectionStart=-1,this._state=10,this._index--)},t.prototype.stateAfterAttributeName=function(t){"="===t?this._state=11:"/"===t||">"===t?(this.cbs.onattribend(void 0),this._state=8,this._index--):a(t)||(this.cbs.onattribend(void 0),this._state=9,this.sectionStart=this._index)},t.prototype.stateBeforeAttributeValue=function(t){'"'===t?(this._state=12,this.sectionStart=this._index+1):"'"===t?(this._state=13,this.sectionStart=this._index+1):a(t)||(this._state=14,this.sectionStart=this._index,this._index--)},t.prototype.handleInAttributeValue=function(t,e){t===e?(this.emitToken("onattribdata"),this.cbs.onattribend(e),this._state=8):this.decodeEntities&&"&"===t&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},t.prototype.stateInAttributeValueDoubleQuotes=function(t){this.handleInAttributeValue(t,'"')},t.prototype.stateInAttributeValueSingleQuotes=function(t){this.handleInAttributeValue(t,"'")},t.prototype.stateInAttributeValueNoQuotes=function(t){a(t)||">"===t?(this.emitToken("onattribdata"),this.cbs.onattribend(null),this._state=8,this._index--):this.decodeEntities&&"&"===t&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},t.prototype.stateBeforeDeclaration=function(t){this._state="["===t?23:"-"===t?18:16},t.prototype.stateInDeclaration=function(t){">"===t&&(this.cbs.ondeclaration(this.getSection()),this._state=1,this.sectionStart=this._index+1)},t.prototype.stateInProcessingInstruction=function(t){">"===t&&(this.cbs.onprocessinginstruction(this.getSection()),this._state=1,this.sectionStart=this._index+1)},t.prototype.stateBeforeComment=function(t){"-"===t?(this._state=19,this.sectionStart=this._index+1):this._state=16},t.prototype.stateInComment=function(t){"-"===t&&(this._state=21)},t.prototype.stateInSpecialComment=function(t){">"===t&&(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index)),this._state=1,this.sectionStart=this._index+1)},t.prototype.stateAfterComment1=function(t){this._state="-"===t?22:19},t.prototype.stateAfterComment2=function(t){">"===t?(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):"-"!==t&&(this._state=19)},t.prototype.stateBeforeCdata6=function(t){"["===t?(this._state=29,this.sectionStart=this._index+1):(this._state=16,this._index--)},t.prototype.stateInCdata=function(t){"]"===t&&(this._state=30)},t.prototype.stateAfterCdata1=function(t){this._state="]"===t?31:29},t.prototype.stateAfterCdata2=function(t){">"===t?(this.cbs.oncdata(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):"]"!==t&&(this._state=29)},t.prototype.stateBeforeSpecialS=function(t){"c"===t||"C"===t?this._state=34:"t"===t||"T"===t?this._state=44:(this._state=3,this._index--)},t.prototype.stateBeforeSpecialSEnd=function(t){2!==this.special||"c"!==t&&"C"!==t?3!==this.special||"t"!==t&&"T"!==t?this._state=1:this._state=48:this._state=39},t.prototype.stateBeforeSpecialLast=function(t,e){("/"===t||">"===t||a(t))&&(this.special=e),this._state=3,this._index--},t.prototype.stateAfterSpecialLast=function(t,e){">"===t||a(t)?(this.special=1,this._state=6,this.sectionStart=this._index-e,this._index--):this._state=1},t.prototype.parseFixedEntity=function(t){if(void 0===t&&(t=this.xmlMode?u.default:s.default),this.sectionStart+1<this._index){var e=this.buffer.substring(this.sectionStart+1,this._index);Object.prototype.hasOwnProperty.call(t,e)&&(this.emitPartial(t[e]),this.sectionStart=this._index+1)}},t.prototype.parseLegacyEntity=function(){for(var t=this.sectionStart+1,e=Math.min(this._index-t,6);e>=2;){var n=this.buffer.substr(t,e);if(Object.prototype.hasOwnProperty.call(o.default,n))return this.emitPartial(o.default[n]),void(this.sectionStart+=e+1);e--}},t.prototype.stateInNamedEntity=function(t){";"===t?(this.parseFixedEntity(),1===this.baseState&&this.sectionStart+1<this._index&&!this.xmlMode&&this.parseLegacyEntity(),this._state=this.baseState):(t<"0"||t>"9")&&!h(t)&&(this.xmlMode||this.sectionStart+1===this._index||(1!==this.baseState?"="!==t&&this.parseFixedEntity(o.default):this.parseLegacyEntity()),this._state=this.baseState,this._index--)},t.prototype.decodeNumericEntity=function(t,e,n){var i=this.sectionStart+t;if(i!==this._index){var s=this.buffer.substring(i,this._index),o=parseInt(s,e);this.emitPartial(r.default(o)),this.sectionStart=n?this._index+1:this._index}this._state=this.baseState},t.prototype.stateInNumericEntity=function(t){";"===t?this.decodeNumericEntity(2,10,!0):(t<"0"||t>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(2,10,!1),this._index--)},t.prototype.stateInHexEntity=function(t){";"===t?this.decodeNumericEntity(3,16,!0):(t<"a"||t>"f")&&(t<"A"||t>"F")&&(t<"0"||t>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(3,16,!1),this._index--)},t.prototype.cleanup=function(){this.sectionStart<0?(this.buffer="",this.bufferOffset+=this._index,this._index=0):this.running&&(1===this._state?(this.sectionStart!==this._index&&this.cbs.ontext(this.buffer.substr(this.sectionStart)),this.buffer="",this.bufferOffset+=this._index,this._index=0):this.sectionStart===this._index?(this.buffer="",this.bufferOffset+=this._index,this._index=0):(this.buffer=this.buffer.substr(this.sectionStart),this._index-=this.sectionStart,this.bufferOffset+=this.sectionStart),this.sectionStart=0)},t.prototype.parse=function(){for(;this._index<this.buffer.length&&this.running;){var t=this.buffer.charAt(this._index);1===this._state?this.stateText(t):12===this._state?this.stateInAttributeValueDoubleQuotes(t):9===this._state?this.stateInAttributeName(t):19===this._state?this.stateInComment(t):20===this._state?this.stateInSpecialComment(t):8===this._state?this.stateBeforeAttributeName(t):3===this._state?this.stateInTagName(t):6===this._state?this.stateInClosingTagName(t):2===this._state?this.stateBeforeTagName(t):10===this._state?this.stateAfterAttributeName(t):13===this._state?this.stateInAttributeValueSingleQuotes(t):11===this._state?this.stateBeforeAttributeValue(t):5===this._state?this.stateBeforeClosingTagName(t):7===this._state?this.stateAfterClosingTagName(t):32===this._state?this.stateBeforeSpecialS(t):21===this._state?this.stateAfterComment1(t):14===this._state?this.stateInAttributeValueNoQuotes(t):4===this._state?this.stateInSelfClosingTag(t):16===this._state?this.stateInDeclaration(t):15===this._state?this.stateBeforeDeclaration(t):22===this._state?this.stateAfterComment2(t):18===this._state?this.stateBeforeComment(t):33===this._state?this.stateBeforeSpecialSEnd(t):53===this._state?$(this,t):39===this._state?k(this,t):40===this._state?D(this,t):41===this._state?j(this,t):34===this._state?g(this,t):35===this._state?b(this,t):36===this._state?w(this,t):37===this._state?y(this,t):38===this._state?this.stateBeforeSpecialLast(t,2):42===this._state?x(this,t):43===this._state?this.stateAfterSpecialLast(t,6):44===this._state?_(this,t):29===this._state?this.stateInCdata(t):45===this._state?M(this,t):46===this._state?A(this,t):47===this._state?this.stateBeforeSpecialLast(t,3):48===this._state?C(this,t):49===this._state?E(this,t):50===this._state?O(this,t):51===this._state?this.stateAfterSpecialLast(t,5):52===this._state?S(this,t):54===this._state?T(this,t):55===this._state?R(this,t):56===this._state?F(this,t):57===this._state?this.stateBeforeSpecialLast(t,4):58===this._state?B(this,t):59===this._state?q(this,t):60===this._state?L(this,t):61===this._state?this.stateAfterSpecialLast(t,5):17===this._state?this.stateInProcessingInstruction(t):64===this._state?this.stateInNamedEntity(t):23===this._state?f(this,t):62===this._state?I(this,t):24===this._state?d(this,t):25===this._state?p(this,t):30===this._state?this.stateAfterCdata1(t):31===this._state?this.stateAfterCdata2(t):26===this._state?m(this,t):27===this._state?v(this,t):28===this._state?this.stateBeforeCdata6(t):66===this._state?this.stateInHexEntity(t):65===this._state?this.stateInNumericEntity(t):63===this._state?z(this,t):this.cbs.onerror(Error("unknown _state"),this._state),this._index++}this.cleanup()},t.prototype.finish=function(){this.sectionStart<this._index&&this.handleTrailingData(),this.cbs.onend()},t.prototype.handleTrailingData=function(){var t=this.buffer.substr(this.sectionStart);29===this._state||30===this._state||31===this._state?this.cbs.oncdata(t):19===this._state||21===this._state||22===this._state?this.cbs.oncomment(t):64!==this._state||this.xmlMode?65!==this._state||this.xmlMode?66!==this._state||this.xmlMode?3!==this._state&&8!==this._state&&11!==this._state&&10!==this._state&&9!==this._state&&13!==this._state&&12!==this._state&&14!==this._state&&6!==this._state&&this.cbs.ontext(t):(this.decodeNumericEntity(3,16,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.decodeNumericEntity(2,10,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.parseLegacyEntity(),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData()))},t.prototype.getSection=function(){return this.buffer.substring(this.sectionStart,this._index)},t.prototype.emitToken=function(t){this.cbs[t](this.getSection()),this.sectionStart=-1},t.prototype.emitPartial=function(t){1!==this.baseState?this.cbs.onattribdata(t):this.cbs.ontext(t)},t}();e.default=N},3719:function(t,e,n){var i=this&&this.D||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.R||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.L||function(t){if(t&&t.t)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},o=this&&this.j||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)},u=this&&this.O||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(e,"t",{value:!0}),e.RssHandler=e.DefaultHandler=e.DomUtils=e.ElementType=e.Tokenizer=e.createDomStream=e.parseDOM=e.parseDocument=e.DomHandler=e.Parser=void 0;var a=n(763);Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return a.Parser}});var h=n(7915);function c(t,e){var n=new h.DomHandler(void 0,e);return new a.Parser(n,e).end(t),n.root}Object.defineProperty(e,"DomHandler",{enumerable:!0,get:function(){return h.DomHandler}}),Object.defineProperty(e,"DefaultHandler",{enumerable:!0,get:function(){return h.DomHandler}}),e.parseDocument=c,e.parseDOM=function(t,e){return c(t,e).children},e.createDomStream=function(t,e,n){var i=new h.DomHandler(t,e,n);return new a.Parser(i,e)};var l=n(9889);Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return u(l).default}});var f=s(n(9960));e.ElementType=f,o(n(3870),e),e.DomUtils=s(n(9432));var d=n(3870);Object.defineProperty(e,"RssHandler",{enumerable:!0,get:function(){return d.FeedHandler}})},3059:(t,e)=>{e.klona=function t(e){if("object"!=typeof e)return e;var n,i,r=Object.prototype.toString.call(e);if("[object Object]"===r){if(e.constructor!==Object&&"function"==typeof e.constructor)for(n in i=new e.constructor,e)i.hasOwnProperty(n)&&i[n]!==e[n]&&(i[n]=t(e[n]));else for(n in i={},e)"__proto__"===n?Object.defineProperty(i,n,{value:t(e[n]),configurable:!0,enumerable:!0,writable:!0}):i[n]=t(e[n]);return i}if("[object Array]"===r){for(n=e.length,i=Array(n);n--;)i[n]=t(e[n]);return i}return"[object Set]"===r?(i=new Set,e.forEach((function(e){i.add(t(e))})),i):"[object Map]"===r?(i=new Map,e.forEach((function(e,n){i.set(t(n),t(e))})),i):"[object Date]"===r?new Date(+e):"[object RegExp]"===r?((i=new RegExp(e.source,e.flags)).lastIndex=e.lastIndex,i):"[object DataView]"===r?new e.constructor(t(e.buffer)):"[object ArrayBuffer]"===r?e.slice(0):"Array]"===r.slice(-6)?new e.constructor(e):e}},7093:(t,e,n)=>{const i=n(8300),r=n(8855),s=n(3517);t.exports={getCompliment:function(t,e=1,n=!0){var s=r;function o(t,e){u="";let n=t;for(;0!==t;){if(1==t){let t=s[Math.floor(Math.random()*s.length)],i=s.indexOf(t);-1!==i&&s.splice(i,1),u+=t,e&&1!=n&&(u+=",")}else u=u+s[Math.floor(Math.random()*s.length)]+", ";t--}return u}var u="";e>1&&e<5?u=o(e,n):"random"==e?(rand=Math.floor(5*Math.random())+1,u=o(rand,n)):u=s[Math.floor(Math.random()*s.length)];var a=i[Math.floor(Math.random()*i.length)];return t+", you "+u+" "+a+"."},getOfficialCompliment:function(t){return t+s[Math.floor(Math.random()*s.length)]},getComplimentWithAlliteration:function(t){var e=r,n=i[Math.floor(Math.random()*i.length)],s=n.charAt(0);return matchingAdjectives=e.filter((function(t){return t.charAt(0)==s})),t+", you "+matchingAdjectives[Math.floor(Math.random()*matchingAdjectives.length)]+" "+n+"."}}},8686:(t,e,n)=>{var i,r=/[&<>"'`]/g,s=RegExp(r.source),o="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,a=o||u||Function("return this")(),h=(i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},function(t){return null==i?void 0:i[t]}),c=Object.prototype.toString,l=a.Symbol,f=l?l.prototype:void 0,d=f?f.toString:void 0;t.exports=function(t){var e;return(t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==c.call(t)}(t))return d?d.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e))&&s.test(t)?t.replace(r,h):t}},2043:function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function(){var t=function(){},e="undefined",n=typeof window!==e&&typeof window.navigator!==e&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"];function r(t,e){var n=t[e];if("function"==typeof n.bind)return n.bind(t);try{return Function.prototype.bind.call(n,t)}catch(e){return function(){return Function.prototype.apply.apply(n,[t,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function o(i){return"debug"===i&&(i="log"),typeof console!==e&&("trace"===i&&n?s:void 0!==console[i]?r(console,i):void 0!==console.log?r(console,"log"):t)}function u(e,n){for(var r=0;r<i.length;r++){var s=i[r];this[s]=r<e?t:this.methodFactory(s,e,n)}this.log=this.debug}function a(t,n,i){return function(){typeof console!==e&&(u.call(this,n,i),this[t].apply(this,arguments))}}function h(t,e,n){return o(t)||a.apply(this,arguments)}function c(t,n,r){var s,o=this,a="loglevel";function c(){var t;if(typeof window!==e&&a){try{t=window.localStorage[a]}catch(t){}if(typeof t===e)try{var n=window.document.cookie,i=n.indexOf(encodeURIComponent(a)+"=");-1!==i&&(t=/^([^;]+)/.exec(n.slice(i))[1])}catch(t){}return void 0===o.levels[t]&&(t=void 0),t}}"string"==typeof t?a+=":"+t:"symbol"==typeof t&&(a=void 0),o.name=t,o.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},o.methodFactory=r||h,o.getLevel=function(){return s},o.setLevel=function(n,r){if("string"==typeof n&&void 0!==o.levels[n.toUpperCase()]&&(n=o.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=o.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(s=n,!1!==r&&function(t){var n=(i[t]||"silent").toUpperCase();if(typeof window!==e&&a){try{return void(window.localStorage[a]=n)}catch(t){}try{window.document.cookie=encodeURIComponent(a)+"="+n+";"}catch(t){}}}(n),u.call(o,n,t),typeof console===e&&n<o.levels.SILENT)return"No console available for logging"},o.setDefaultLevel=function(t){c()||o.setLevel(t,!1)},o.enableAll=function(t){o.setLevel(o.levels.TRACE,t)},o.disableAll=function(t){o.setLevel(o.levels.SILENT,t)};var l=c();null==l&&(l=null==n?"WARN":n),o.setLevel(l,!1)}var l=new c,f={};l.getLogger=function(t){if("symbol"!=typeof t&&"string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=f[t];return e||(e=f[t]=new c(t,l.getLevel(),l.methodFactory)),e};var d=typeof window!==e?window.log:void 0;return l.noConflict=function(){return typeof window!==e&&window.log===l&&(window.log=d),l},l.getLoggers=function(){return f},l.default=l,l})?i.call(e,n,e,t):i)||(t.exports=r)},7084:function(t){t.exports=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function n(t,n){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(i)return(i=i.call(t)).next.bind(i);if(Array.isArray(t)||(i=function(t,n){if(t){if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?e(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){i&&(t=i);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i={exports:{}};i.exports={defaults:{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:function(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},changeDefaults:function(t){i.exports.defaults=t}};var r=/[&<>"']/,s=/[&<>"']/g,o=/[<>"']|&(?!#?\w+;)/,u=/[<>"']|&(?!#?\w+;)/g,a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},h=function(t){return a[t]},c=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function l(t){return t.replace(c,(function(t,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""}))}var f=/(^|[^\[])\^/g,d=/[^\w:]/g,p=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,m={},v=/^[^:]+:\/*[^/]*$/,g=/^([^:]+:)[\s\S]*$/,b=/^([^:]+:\/*[^/]*)[\s\S]*$/;function w(t,e,n){var i=t.length;if(0===i)return"";for(var r=0;r<i;){var s=t.charAt(i-r-1);if(s!==e||n){if(s===e||!n)break;r++}else r++}return t.substr(0,i-r)}var y=function(t,e){if(e){if(r.test(t))return t.replace(s,h)}else if(o.test(t))return t.replace(u,h);return t},k=l,D=function(t){for(var e,n,i=1;i<arguments.length;i++)for(n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},j=w,x=i.exports.defaults,_=j,M=function(t,e){var n=t.replace(/\|/g,(function(t,e,n){for(var i=!1,r=e;--r>=0&&"\\"===n[r];)i=!i;return i?"|":" |"})).split(/ \|/),i=0;if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n},A=y,C=function(t,e){if(-1===t.indexOf(e[1]))return-1;for(var n=t.length,i=0,r=0;r<n;r++)if("\\"===t[r])r++;else if(t[r]===e[0])i++;else if(t[r]===e[1]&&--i<0)return r;return-1};function E(t,e,n){var i=e.href,r=e.title?A(e.title):null,s=t[1].replace(/\\([\[\]])/g,"$1");return"!"!==t[0].charAt(0)?{type:"link",raw:n,href:i,title:r,text:s}:{type:"image",raw:n,href:i,title:r,text:A(s)}}var O=function(){function t(t){this.options=t||x}var e=t.prototype;return e.space=function(t){var e=this.rules.block.newline.exec(t);if(e)return e[0].length>1?{type:"space",raw:e[0]}:{raw:"\n"}},e.code=function(t){var e=this.rules.block.code.exec(t);if(e){var n=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?n:_(n,"\n")}}},e.fences=function(t){var e=this.rules.block.fences.exec(t);if(e){var n=e[0],i=function(t,e){var n=t.match(/^(\s+)(?:```)/);if(null===n)return e;var i=n[1];return e.split("\n").map((function(t){var e=t.match(/^\s+/);return null===e?t:e[0].length>=i.length?t.slice(i.length):t})).join("\n")}(n,e[3]||"");return{type:"code",raw:n,lang:e[2]?e[2].trim():e[2],text:i}}},e.heading=function(t){var e=this.rules.block.heading.exec(t);if(e){var n=e[2].trim();if(/#$/.test(n)){var i=_(n,"#");this.options.pedantic?n=i.trim():i&&!/ $/.test(i)||(n=i.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:n}}},e.nptable=function(t){var e=this.rules.block.nptable.exec(t);if(e){var n={type:"table",header:M(e[1].replace(/^ *| *\| *$/g,"")),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3]?e[3].replace(/\n$/,"").split("\n"):[],raw:e[0]};if(n.header.length===n.align.length){var i,r=n.align.length;for(i=0;i<r;i++)/^ *-+: *$/.test(n.align[i])?n.align[i]="right":/^ *:-+: *$/.test(n.align[i])?n.align[i]="center":/^ *:-+ *$/.test(n.align[i])?n.align[i]="left":n.align[i]=null;for(r=n.cells.length,i=0;i<r;i++)n.cells[i]=M(n.cells[i],n.header.length);return n}}},e.hr=function(t){var e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:e[0]}},e.blockquote=function(t){var e=this.rules.block.blockquote.exec(t);if(e){var n=e[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:e[0],text:n}}},e.list=function(t){var e=this.rules.block.list.exec(t);if(e){var n,i,r,s,o,u,a,h,c,l=e[0],f=e[2],d=f.length>1,p={type:"list",raw:l,ordered:d,start:d?+f.slice(0,-1):"",loose:!1,items:[]},m=e[0].match(this.rules.block.item),v=!1,g=m.length;r=this.rules.block.listItemStart.exec(m[0]);for(var b=0;b<g;b++){if(l=n=m[b],this.options.pedantic||(c=n.match(new RegExp("\\n\\s*\\n {0,"+(r[0].length-1)+"}\\S")))&&(o=n.length-c.index+m.slice(b+1).join("\n").length,p.raw=p.raw.substring(0,p.raw.length-o),l=n=n.substring(0,c.index),g=b+1),b!==g-1){if(s=this.rules.block.listItemStart.exec(m[b+1]),this.options.pedantic?s[1].length>r[1].length:s[1].length>=r[0].length||s[1].length>3){m.splice(b,2,m[b]+(!this.options.pedantic&&s[1].length<r[0].length&&!m[b].match(/\n$/)?"":"\n")+m[b+1]),b--,g--;continue}(!this.options.pedantic||this.options.smartLists?s[2][s[2].length-1]!==f[f.length-1]:d===(1===s[2].length))&&(o=m.slice(b+1).join("\n").length,p.raw=p.raw.substring(0,p.raw.length-o),b=g-1),r=s}i=n.length,~(n=n.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(i-=n.length,n=this.options.pedantic?n.replace(/^ {1,4}/gm,""):n.replace(new RegExp("^ {1,"+i+"}","gm"),"")),n=_(n,"\n"),b!==g-1&&(l+="\n"),u=v||/\n\n(?!\s*$)/.test(l),b!==g-1&&(v="\n\n"===l.slice(-2),u||(u=v)),u&&(p.loose=!0),this.options.gfm&&(h=void 0,(a=/^\[[ xX]\] /.test(n))&&(h=" "!==n[1],n=n.replace(/^\[[ xX]\] +/,""))),p.items.push({type:"list_item",raw:l,task:a,checked:h,loose:u,text:n})}return p}},e.html=function(t){var e=this.rules.block.html.exec(t);if(e)return{type:this.options.sanitize?"paragraph":"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):A(e[0]):e[0]}},e.def=function(t){var e=this.rules.block.def.exec(t);if(e)return e[3]&&(e[3]=e[3].substring(1,e[3].length-1)),{type:"def",tag:e[1].toLowerCase().replace(/\s+/g," "),raw:e[0],href:e[2],title:e[3]}},e.table=function(t){var e=this.rules.block.table.exec(t);if(e){var n={type:"table",header:M(e[1].replace(/^ *| *\| *$/g,"")),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3]?e[3].replace(/\n$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=e[0];var i,r=n.align.length;for(i=0;i<r;i++)/^ *-+: *$/.test(n.align[i])?n.align[i]="right":/^ *:-+: *$/.test(n.align[i])?n.align[i]="center":/^ *:-+ *$/.test(n.align[i])?n.align[i]="left":n.align[i]=null;for(r=n.cells.length,i=0;i<r;i++)n.cells[i]=M(n.cells[i].replace(/^ *\| *| *\| *$/g,""),n.header.length);return n}}},e.lheading=function(t){var e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1]}},e.paragraph=function(t){var e=this.rules.block.paragraph.exec(t);if(e)return{type:"paragraph",raw:e[0],text:"\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1]}},e.text=function(t){var e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0]}},e.escape=function(t){var e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:A(e[1])}},e.tag=function(t,e,n){var i=this.rules.inline.tag.exec(t);if(i)return!e&&/^<a /i.test(i[0])?e=!0:e&&/^<\/a>/i.test(i[0])&&(e=!1),!n&&/^<(pre|code|kbd|script)(\s|>)/i.test(i[0])?n=!0:n&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(i[0])&&(n=!1),{type:this.options.sanitize?"text":"html",raw:i[0],inLink:e,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):A(i[0]):i[0]}},e.link=function(t){var e=this.rules.inline.link.exec(t);if(e){var n=e[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;var i=_(n.slice(0,-1),"\\");if((n.length-i.length)%2==0)return}else{var r=C(e[2],"()");if(r>-1){var s=(0===e[0].indexOf("!")?5:4)+e[1].length+r;e[2]=e[2].substring(0,r),e[0]=e[0].substring(0,s).trim(),e[3]=""}}var o=e[2],u="";if(this.options.pedantic){var a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);a&&(o=a[1],u=a[3])}else u=e[3]?e[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(n)?o.slice(1):o.slice(1,-1)),E(e,{href:o?o.replace(this.rules.inline._escapes,"$1"):o,title:u?u.replace(this.rules.inline._escapes,"$1"):u},e[0])}},e.reflink=function(t,e){var n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){var i=(n[2]||n[1]).replace(/\s+/g," ");if(!(i=e[i.toLowerCase()])||!i.href){var r=n[0].charAt(0);return{type:"text",raw:r,text:r}}return E(n,i,n[0])}},e.emStrong=function(t,e,n){void 0===n&&(n="");var i=this.rules.inline.emStrong.lDelim.exec(t);if(i&&(!i[3]||!n.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var r=i[1]||i[2]||"";if(!r||r&&(""===n||this.rules.inline.punctuation.exec(n))){var s,o,u=i[0].length-1,a=u,h=0,c="*"===i[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(c.lastIndex=0,e=e.slice(-1*t.length+u);null!=(i=c.exec(e));)if(s=i[1]||i[2]||i[3]||i[4]||i[5]||i[6])if(o=s.length,i[3]||i[4])a+=o;else if(!((i[5]||i[6])&&u%3)||(u+o)%3){if(!((a-=o)>0))return o=Math.min(o,o+a+h),Math.min(u,o)%2?{type:"em",raw:t.slice(0,u+i.index+o+1),text:t.slice(1,u+i.index+o)}:{type:"strong",raw:t.slice(0,u+i.index+o+1),text:t.slice(2,u+i.index+o-1)}}else h+=o}}},e.codespan=function(t){var e=this.rules.inline.code.exec(t);if(e){var n=e[2].replace(/\n/g," "),i=/[^ ]/.test(n),r=/^ /.test(n)&&/ $/.test(n);return i&&r&&(n=n.substring(1,n.length-1)),n=A(n,!0),{type:"codespan",raw:e[0],text:n}}},e.br=function(t){var e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}},e.del=function(t){var e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2]}},e.autolink=function(t,e){var n,i,r=this.rules.inline.autolink.exec(t);if(r)return i="@"===r[2]?"mailto:"+(n=A(this.options.mangle?e(r[1]):r[1])):n=A(r[1]),{type:"link",raw:r[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}},e.url=function(t,e){var n;if(n=this.rules.inline.url.exec(t)){var i,r;if("@"===n[2])r="mailto:"+(i=A(this.options.mangle?e(n[0]):n[0]));else{var s;do{s=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(s!==n[0]);i=A(n[0]),r="www."===n[1]?"http://"+i:i}return{type:"link",raw:n[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}},e.inlineText=function(t,e,n){var i,r=this.rules.inline.text.exec(t);if(r)return i=e?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):A(r[0]):r[0]:A(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:i}},t}(),S={exec:function(){}},T=function(t,e){t=t.source||t,e=e||"";var n={replace:function(e,i){return i=(i=i.source||i).replace(f,"$1"),t=t.replace(e,i),n},getRegex:function(){return new RegExp(t,e)}};return n},R=D,F={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:S,table:S,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};F.def=T(F.def).replace("label",F._label).replace("title",F._title).getRegex(),F.bullet=/(?:[*+-]|\d{1,9}[.)])/,F.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,F.item=T(F.item,"gm").replace(/bull/g,F.bullet).getRegex(),F.listItemStart=T(/^( *)(bull) */).replace("bull",F.bullet).getRegex(),F.list=T(F.list).replace(/bull/g,F.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+F.def.source+")").getRegex(),F._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",F._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,F.html=T(F.html,"i").replace("comment",F._comment).replace("tag",F._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),F.paragraph=T(F._paragraph).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",F._tag).getRegex(),F.blockquote=T(F.blockquote).replace("paragraph",F.paragraph).getRegex(),F.normal=R({},F),F.gfm=R({},F.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),F.gfm.nptable=T(F.gfm.nptable).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",F._tag).getRegex(),F.gfm.table=T(F.gfm.table).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",F._tag).getRegex(),F.pedantic=R({},F.normal,{html:T("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",F._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:S,paragraph:T(F.normal._paragraph).replace("hr",F.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",F.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var $={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:S,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:S,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};$.punctuation=T($.punctuation).replace(/punctuation/g,$._punctuation).getRegex(),$.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,$.escapedEmSt=/\\\*|\\_/g,$._comment=T(F._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),$.emStrong.lDelim=T($.emStrong.lDelim).replace(/punct/g,$._punctuation).getRegex(),$.emStrong.rDelimAst=T($.emStrong.rDelimAst,"g").replace(/punct/g,$._punctuation).getRegex(),$.emStrong.rDelimUnd=T($.emStrong.rDelimUnd,"g").replace(/punct/g,$._punctuation).getRegex(),$._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,$._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,$._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,$.autolink=T($.autolink).replace("scheme",$._scheme).replace("email",$._email).getRegex(),$._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,$.tag=T($.tag).replace("comment",$._comment).replace("attribute",$._attribute).getRegex(),$._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,$._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,$._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,$.link=T($.link).replace("label",$._label).replace("href",$._href).replace("title",$._title).getRegex(),$.reflink=T($.reflink).replace("label",$._label).getRegex(),$.reflinkSearch=T($.reflinkSearch,"g").replace("reflink",$.reflink).replace("nolink",$.nolink).getRegex(),$.normal=R({},$),$.pedantic=R({},$.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:T(/^!?\[(label)\]\((.*?)\)/).replace("label",$._label).getRegex(),reflink:T(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",$._label).getRegex()}),$.gfm=R({},$.normal,{escape:T($.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),$.gfm.url=T($.gfm.url,"i").replace("email",$.gfm._extended_email).getRegex(),$.breaks=R({},$.gfm,{br:T($.br).replace("{2,}","*").getRegex(),text:T($.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var B={block:F,inline:$},q=O,L=i.exports.defaults,I=B.block,z=B.inline,N=function(t,e){if(e<1)return"";for(var n="";e>1;)1&e&&(n+=t),e>>=1,t+=t;return n+t};function P(t){return t.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function U(t){var e,n,i="",r=t.length;for(e=0;e<r;e++)n=t.charCodeAt(e),Math.random()>.5&&(n="x"+n.toString(16)),i+="&#"+n+";";return i}var H=function(){function e(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||L,this.options.tokenizer=this.options.tokenizer||new q,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var e={block:I.normal,inline:z.normal};this.options.pedantic?(e.block=I.pedantic,e.inline=z.pedantic):this.options.gfm&&(e.block=I.gfm,this.options.breaks?e.inline=z.breaks:e.inline=z.gfm),this.tokenizer.rules=e}e.lex=function(t,n){return new e(n).lex(t)},e.lexInline=function(t,n){return new e(n).inlineTokens(t)};var n,i,r=e.prototype;return r.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(t,this.tokens,!0),this.inline(this.tokens),this.tokens},r.blockTokens=function(t,e,n){var i,r,s,o,u,a,h=this;for(void 0===e&&(e=[]),void 0===n&&(n=!0),this.options.pedantic&&(t=t.replace(/^ +$/gm,""));t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((function(n){return!!(i=n.call(h,t,e))&&(t=t.substring(i.raw.length),e.push(i),!0)}))))if(i=this.tokenizer.space(t))t=t.substring(i.raw.length),i.type&&e.push(i);else if(i=this.tokenizer.code(t))t=t.substring(i.raw.length),(o=e[e.length-1])&&"paragraph"===o.type?(o.raw+="\n"+i.raw,o.text+="\n"+i.text):e.push(i);else if(i=this.tokenizer.fences(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.heading(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.nptable(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.hr(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.blockquote(t))t=t.substring(i.raw.length),i.tokens=this.blockTokens(i.text,[],n),e.push(i);else if(i=this.tokenizer.list(t)){for(t=t.substring(i.raw.length),s=i.items.length,r=0;r<s;r++)i.items[r].tokens=this.blockTokens(i.items[r].text,[],!1);e.push(i)}else if(i=this.tokenizer.html(t))t=t.substring(i.raw.length),e.push(i);else if(n&&(i=this.tokenizer.def(t)))t=t.substring(i.raw.length),this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});else if(i=this.tokenizer.table(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.lheading(t))t=t.substring(i.raw.length),e.push(i);else if(u=t,this.options.extensions&&this.options.extensions.startBlock&&function(){var e=1/0,n=t.slice(1),i=void 0;h.options.extensions.startBlock.forEach((function(t){"number"==typeof(i=t.call(this,n))&&i>=0&&(e=Math.min(e,i))})),e<1/0&&e>=0&&(u=t.substring(0,e+1))}(),n&&(i=this.tokenizer.paragraph(u)))o=e[e.length-1],a&&"paragraph"===o.type?(o.raw+="\n"+i.raw,o.text+="\n"+i.text):e.push(i),a=u.length!==t.length,t=t.substring(i.raw.length);else if(i=this.tokenizer.text(t))t=t.substring(i.raw.length),(o=e[e.length-1])&&"text"===o.type?(o.raw+="\n"+i.raw,o.text+="\n"+i.text):e.push(i);else if(t){var c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}throw new Error(c)}return e},r.inline=function(t){var e,n,i,r,s,o,u=t.length;for(e=0;e<u;e++)switch((o=t[e]).type){case"paragraph":case"text":case"heading":o.tokens=[],this.inlineTokens(o.text,o.tokens);break;case"table":for(o.tokens={header:[],cells:[]},r=o.header.length,n=0;n<r;n++)o.tokens.header[n]=[],this.inlineTokens(o.header[n],o.tokens.header[n]);for(r=o.cells.length,n=0;n<r;n++)for(s=o.cells[n],o.tokens.cells[n]=[],i=0;i<s.length;i++)o.tokens.cells[n][i]=[],this.inlineTokens(s[i],o.tokens.cells[n][i]);break;case"blockquote":this.inline(o.tokens);break;case"list":for(r=o.items.length,n=0;n<r;n++)this.inline(o.items[n].tokens)}return t},r.inlineTokens=function(t,e,n,i){var r,s,o,u=this;void 0===e&&(e=[]),void 0===n&&(n=!1),void 0===i&&(i=!1);var a,h,c,l=t;if(this.tokens.links){var f=Object.keys(this.tokens.links);if(f.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(l));)f.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,a.index)+"["+N("a",a[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,a.index)+"["+N("a",a[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(l));)l=l.slice(0,a.index)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;t;)if(h||(c=""),h=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((function(n){return!!(r=n.call(u,t,e))&&(t=t.substring(r.raw.length),e.push(r),!0)}))))if(r=this.tokenizer.escape(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.tag(t,n,i))t=t.substring(r.raw.length),n=r.inLink,i=r.inRawBlock,(s=e[e.length-1])&&"text"===r.type&&"text"===s.type?(s.raw+=r.raw,s.text+=r.text):e.push(r);else if(r=this.tokenizer.link(t))t=t.substring(r.raw.length),"link"===r.type&&(r.tokens=this.inlineTokens(r.text,[],!0,i)),e.push(r);else if(r=this.tokenizer.reflink(t,this.tokens.links))t=t.substring(r.raw.length),s=e[e.length-1],"link"===r.type?(r.tokens=this.inlineTokens(r.text,[],!0,i),e.push(r)):s&&"text"===r.type&&"text"===s.type?(s.raw+=r.raw,s.text+=r.text):e.push(r);else if(r=this.tokenizer.emStrong(t,l,c))t=t.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],n,i),e.push(r);else if(r=this.tokenizer.codespan(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.br(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.del(t))t=t.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],n,i),e.push(r);else if(r=this.tokenizer.autolink(t,U))t=t.substring(r.raw.length),e.push(r);else if(n||!(r=this.tokenizer.url(t,U))){if(o=t,this.options.extensions&&this.options.extensions.startInline&&function(){var e=1/0,n=t.slice(1),i=void 0;u.options.extensions.startInline.forEach((function(t){"number"==typeof(i=t.call(this,n))&&i>=0&&(e=Math.min(e,i))})),e<1/0&&e>=0&&(o=t.substring(0,e+1))}(),r=this.tokenizer.inlineText(o,i,P))t=t.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(c=r.raw.slice(-1)),h=!0,(s=e[e.length-1])&&"text"===s.type?(s.raw+=r.raw,s.text+=r.text):e.push(r);else if(t){var d="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(d);break}throw new Error(d)}}else t=t.substring(r.raw.length),e.push(r);return e},n=e,i=[{key:"rules",get:function(){return{block:I,inline:z}}}],null&&t(n.prototype,null),i&&t(n,i),e}(),V=i.exports.defaults,J=function(t,e,n){if(t){var i;try{i=decodeURIComponent(l(n)).replace(d,"").toLowerCase()}catch(t){return null}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:")||0===i.indexOf("data:"))return null}e&&!p.test(n)&&(n=function(t,e){m[" "+t]||(v.test(t)?m[" "+t]=t+"/":m[" "+t]=w(t,"/",!0));var n=-1===(t=m[" "+t]).indexOf(":");return"//"===e.substring(0,2)?n?e:t.replace(g,"$1")+e:"/"===e.charAt(0)?n?e:t.replace(b,"$1")+e:t+e}(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(t){return null}return n},G=y,W=function(){function t(t){this.options=t||V}var e=t.prototype;return e.code=function(t,e,n){var i=(e||"").match(/\S*/)[0];if(this.options.highlight){var r=this.options.highlight(t,i);null!=r&&r!==t&&(n=!0,t=r)}return t=t.replace(/\n$/,"")+"\n",i?'<pre><code class="'+this.options.langPrefix+G(i,!0)+'">'+(n?t:G(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:G(t,!0))+"</code></pre>\n"},e.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},e.html=function(t){return t},e.heading=function(t,e,n,i){return this.options.headerIds?"<h"+e+' id="'+this.options.headerPrefix+i.slug(n)+'">'+t+"</h"+e+">\n":"<h"+e+">"+t+"</h"+e+">\n"},e.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},e.list=function(t,e,n){var i=e?"ol":"ul";return"<"+i+(e&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+i+">\n"},e.listitem=function(t){return"<li>"+t+"</li>\n"},e.checkbox=function(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},e.paragraph=function(t){return"<p>"+t+"</p>\n"},e.table=function(t,e){return e&&(e="<tbody>"+e+"</tbody>"),"<table>\n<thead>\n"+t+"</thead>\n"+e+"</table>\n"},e.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},e.tablecell=function(t,e){var n=e.header?"th":"td";return(e.align?"<"+n+' align="'+e.align+'">':"<"+n+">")+t+"</"+n+">\n"},e.strong=function(t){return"<strong>"+t+"</strong>"},e.em=function(t){return"<em>"+t+"</em>"},e.codespan=function(t){return"<code>"+t+"</code>"},e.br=function(){return this.options.xhtml?"<br/>":"<br>"},e.del=function(t){return"<del>"+t+"</del>"},e.link=function(t,e,n){if(null===(t=J(this.options.sanitize,this.options.baseUrl,t)))return n;var i='<a href="'+G(t)+'"';return e&&(i+=' title="'+e+'"'),i+">"+n+"</a>"},e.image=function(t,e,n){if(null===(t=J(this.options.sanitize,this.options.baseUrl,t)))return n;var i='<img src="'+t+'" alt="'+n+'"';return e&&(i+=' title="'+e+'"'),i+(this.options.xhtml?"/>":">")},e.text=function(t){return t},t}(),Z=function(){function t(){}var e=t.prototype;return e.strong=function(t){return t},e.em=function(t){return t},e.codespan=function(t){return t},e.del=function(t){return t},e.html=function(t){return t},e.text=function(t){return t},e.link=function(t,e,n){return""+n},e.image=function(t,e,n){return""+n},e.br=function(){return""},t}(),K=function(){function t(){this.seen={}}var e=t.prototype;return e.serialize=function(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},e.getNextSafeSlug=function(t,e){var n=t,i=0;if(this.seen.hasOwnProperty(n)){i=this.seen[t];do{n=t+"-"+ ++i}while(this.seen.hasOwnProperty(n))}return e||(this.seen[t]=i,this.seen[n]=0),n},e.slug=function(t,e){void 0===e&&(e={});var n=this.serialize(t);return this.getNextSafeSlug(n,e.dryrun)},t}(),X=W,Y=Z,Q=K,tt=i.exports.defaults,et=k,nt=H,it=function(){function t(t){this.options=t||tt,this.options.renderer=this.options.renderer||new X,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Y,this.slugger=new Q}t.parse=function(e,n){return new t(n).parse(e)},t.parseInline=function(e,n){return new t(n).parseInline(e)};var e=t.prototype;return e.parse=function(t,e){void 0===e&&(e=!0);var n,i,r,s,o,u,a,h,c,l,f,d,p,m,v,g,b,w,y,k="",D=t.length;for(n=0;n<D;n++)if(l=t[n],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[l.type])||!1===(y=this.options.extensions.renderers[l.type].call(this,l))&&["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(l.type))switch(l.type){case"space":continue;case"hr":k+=this.renderer.hr();continue;case"heading":k+=this.renderer.heading(this.parseInline(l.tokens),l.depth,et(this.parseInline(l.tokens,this.textRenderer)),this.slugger);continue;case"code":k+=this.renderer.code(l.text,l.lang,l.escaped);continue;case"table":for(h="",a="",s=l.header.length,i=0;i<s;i++)a+=this.renderer.tablecell(this.parseInline(l.tokens.header[i]),{header:!0,align:l.align[i]});for(h+=this.renderer.tablerow(a),c="",s=l.cells.length,i=0;i<s;i++){for(a="",o=(u=l.tokens.cells[i]).length,r=0;r<o;r++)a+=this.renderer.tablecell(this.parseInline(u[r]),{header:!1,align:l.align[r]});c+=this.renderer.tablerow(a)}k+=this.renderer.table(h,c);continue;case"blockquote":c=this.parse(l.tokens),k+=this.renderer.blockquote(c);continue;case"list":for(f=l.ordered,d=l.start,p=l.loose,s=l.items.length,c="",i=0;i<s;i++)g=(v=l.items[i]).checked,b=v.task,m="",v.task&&(w=this.renderer.checkbox(g),p?v.tokens.length>0&&"text"===v.tokens[0].type?(v.tokens[0].text=w+" "+v.tokens[0].text,v.tokens[0].tokens&&v.tokens[0].tokens.length>0&&"text"===v.tokens[0].tokens[0].type&&(v.tokens[0].tokens[0].text=w+" "+v.tokens[0].tokens[0].text)):v.tokens.unshift({type:"text",text:w}):m+=w),m+=this.parse(v.tokens,p),c+=this.renderer.listitem(m,b,g);k+=this.renderer.list(c,f,d);continue;case"html":k+=this.renderer.html(l.text);continue;case"paragraph":k+=this.renderer.paragraph(this.parseInline(l.tokens));continue;case"text":for(c=l.tokens?this.parseInline(l.tokens):l.text;n+1<D&&"text"===t[n+1].type;)c+="\n"+((l=t[++n]).tokens?this.parseInline(l.tokens):l.text);k+=e?this.renderer.paragraph(c):c;continue;default:var j='Token with "'+l.type+'" type was not found.';if(this.options.silent)return void console.error(j);throw new Error(j)}else k+=y||"";return k},e.parseInline=function(t,e){e=e||this.renderer;var n,i,r,s="",o=t.length;for(n=0;n<o;n++)if(i=t[n],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type])||!1===(r=this.options.extensions.renderers[i.type].call(this,i))&&["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type))switch(i.type){case"escape":case"text":s+=e.text(i.text);break;case"html":s+=e.html(i.text);break;case"link":s+=e.link(i.href,i.title,this.parseInline(i.tokens,e));break;case"image":s+=e.image(i.href,i.title,i.text);break;case"strong":s+=e.strong(this.parseInline(i.tokens,e));break;case"em":s+=e.em(this.parseInline(i.tokens,e));break;case"codespan":s+=e.codespan(i.text);break;case"br":s+=e.br();break;case"del":s+=e.del(this.parseInline(i.tokens,e));break;default:var u='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(u);throw new Error(u)}else s+=r||"";return s},t}(),rt=O,st=W,ot=Z,ut=K,at=D,ht=function(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},ct=y,lt=i.exports.getDefaults,ft=i.exports.changeDefaults,dt=i.exports.defaults;function pt(t,e,n){if(null==t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if("function"==typeof e&&(n=e,e=null),e=at({},pt.defaults,e||{}),ht(e),n){var i,r=e.highlight;try{i=nt.lex(t,e)}catch(t){return n(t)}var s=function(t){var s;if(!t)try{e.walkTokens&&pt.walkTokens(i,e.walkTokens),s=it.parse(i,e)}catch(e){t=e}return e.highlight=r,t?n(t):n(null,s)};if(!r||r.length<3)return s();if(delete e.highlight,!i.length)return s();var o=0;return pt.walkTokens(i,(function(t){"code"===t.type&&(o++,setTimeout((function(){r(t.text,t.lang,(function(e,n){if(e)return s(e);null!=n&&n!==t.text&&(t.text=n,t.escaped=!0),0==--o&&s()}))}),0))})),void(0===o&&s())}try{var u=nt.lex(t,e);return e.walkTokens&&pt.walkTokens(u,e.walkTokens),it.parse(u,e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+ct(t.message+"",!0)+"</pre>";throw t}}return pt.options=pt.setOptions=function(t){return at(pt.defaults,t),ft(pt.defaults),pt},pt.getDefaults=lt,pt.defaults=dt,pt.use=function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r,s=at.apply(void 0,[{}].concat(n)),o=pt.defaults.extensions||{renderers:{},childTokens:{}};n.forEach((function(e){if(e.extensions&&(r=!0,e.extensions.forEach((function(t){if(!t.name)throw new Error("extension name required");if(t.renderer){var e=o.renderers?o.renderers[t.name]:null;o.renderers[t.name]=e?function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var s=t.renderer.apply(this,i);return!1===s&&(s=e.apply(this,i)),s}:t.renderer}if(t.tokenizer){if(!t.level||"block"!==t.level&&"inline"!==t.level)throw new Error("extension level must be 'block' or 'inline'");o[t.level]?o[t.level].unshift(t.tokenizer):o[t.level]=[t.tokenizer],t.start&&("block"===t.level?o.startBlock?o.startBlock.push(t.start):o.startBlock=[t.start]:"inline"===t.level&&(o.startInline?o.startInline.push(t.start):o.startInline=[t.start]))}t.childTokens&&(o.childTokens[t.name]=t.childTokens)}))),e.renderer&&function(){var t=pt.defaults.renderer||new st,n=function(n){var i=t[n];t[n]=function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var u=e.renderer[n].apply(t,s);return!1===u&&(u=i.apply(t,s)),u}};for(var i in e.renderer)n(i);s.renderer=t}(),e.tokenizer&&function(){var t=pt.defaults.tokenizer||new rt,n=function(n){var i=t[n];t[n]=function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var u=e.tokenizer[n].apply(t,s);return!1===u&&(u=i.apply(t,s)),u}};for(var i in e.tokenizer)n(i);s.tokenizer=t}(),e.walkTokens){var n=pt.defaults.walkTokens;s.walkTokens=function(i){e.walkTokens.call(t,i),n&&n(i)}}r&&(s.extensions=o),pt.setOptions(s)}))},pt.walkTokens=function(t,e){for(var i,r=function(){var t=i.value;switch(e(t),t.type){case"table":for(var r,s=n(t.tokens.header);!(r=s()).done;){var o=r.value;pt.walkTokens(o,e)}for(var u,a=n(t.tokens.cells);!(u=a()).done;)for(var h,c=n(u.value);!(h=c()).done;){var l=h.value;pt.walkTokens(l,e)}break;case"list":pt.walkTokens(t.items,e);break;default:pt.defaults.extensions&&pt.defaults.extensions.childTokens&&pt.defaults.extensions.childTokens[t.type]?pt.defaults.extensions.childTokens[t.type].forEach((function(n){pt.walkTokens(t[n],e)})):t.tokens&&pt.walkTokens(t.tokens,e)}},s=n(t);!(i=s()).done;)r()},pt.parseInline=function(t,e){if(null==t)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");e=at({},pt.defaults,e||{}),ht(e);try{var n=nt.lexInline(t,e);return e.walkTokens&&pt.walkTokens(n,e.walkTokens),it.parseInline(n,e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+ct(t.message+"",!0)+"</pre>";throw t}},pt.Parser=it,pt.parser=it.parse,pt.Renderer=st,pt.TextRenderer=ot,pt.Lexer=nt,pt.lexer=nt.lex,pt.Tokenizer=rt,pt.Slugger=ut,pt.parse=pt,pt}()},6562:t=>{function e(t){return"number"==typeof t||!!/^0x[0-9a-f]+$/i.test(t)||/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)}t.exports=function(t,n){n||(n={});var i={bools:{},strings:{},unknownFn:null};"function"==typeof n.unknown&&(i.unknownFn=n.unknown),"boolean"==typeof n.boolean&&n.boolean?i.allBools=!0:[].concat(n.boolean).filter(Boolean).forEach((function(t){i.bools[t]=!0}));var r={};Object.keys(n.alias||{}).forEach((function(t){r[t]=[].concat(n.alias[t]),r[t].forEach((function(e){r[e]=[t].concat(r[t].filter((function(t){return e!==t})))}))})),[].concat(n.string).filter(Boolean).forEach((function(t){i.strings[t]=!0,r[t]&&(i.strings[r[t]]=!0)}));var s=n.default||{},o={_:[]};Object.keys(i.bools).forEach((function(t){a(t,void 0!==s[t]&&s[t])}));var u=[];function a(t,n,s){if(!s||!i.unknownFn||function(t,e){return i.allBools&&/^--[^=]+$/.test(e)||i.strings[t]||i.bools[t]||r[t]}(t,s)||!1!==i.unknownFn(s)){var u=!i.strings[t]&&e(n)?Number(n):n;h(o,t.split("."),u),(r[t]||[]).forEach((function(t){h(o,t.split("."),u)}))}}function h(t,e,n){for(var r=t,s=0;s<e.length-1;s++){if("__proto__"===(o=e[s]))return;void 0===r[o]&&(r[o]={}),r[o]!==Object.prototype&&r[o]!==Number.prototype&&r[o]!==String.prototype||(r[o]={}),r[o]===Array.prototype&&(r[o]=[]),r=r[o]}var o;"__proto__"!==(o=e[e.length-1])&&(r!==Object.prototype&&r!==Number.prototype&&r!==String.prototype||(r={}),r===Array.prototype&&(r=[]),void 0===r[o]||i.bools[o]||"boolean"==typeof r[o]?r[o]=n:Array.isArray(r[o])?r[o].push(n):r[o]=[r[o],n])}function c(t){return r[t].some((function(t){return i.bools[t]}))}-1!==t.indexOf("--")&&(u=t.slice(t.indexOf("--")+1),t=t.slice(0,t.indexOf("--")));for(var l=0;l<t.length;l++){var f=t[l];if(/^--.+=/.test(f)){var d=f.match(/^--([^=]+)=([\s\S]*)$/),p=d[1],m=d[2];i.bools[p]&&(m="false"!==m),a(p,m,f)}else if(/^--no-.+/.test(f))a(p=f.match(/^--no-(.+)/)[1],!1,f);else if(/^--.+/.test(f))p=f.match(/^--(.+)/)[1],void 0===(w=t[l+1])||/^-/.test(w)||i.bools[p]||i.allBools||r[p]&&c(p)?/^(true|false)$/.test(w)?(a(p,"true"===w,f),l++):a(p,!i.strings[p]||"",f):(a(p,w,f),l++);else if(/^-[^-]+/.test(f)){for(var v=f.slice(1,-1).split(""),g=!1,b=0;b<v.length;b++){var w;if("-"!==(w=f.slice(b+2))){if(/[A-Za-z]/.test(v[b])&&/=/.test(w)){a(v[b],w.split("=")[1],f),g=!0;break}if(/[A-Za-z]/.test(v[b])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(w)){a(v[b],w,f),g=!0;break}if(v[b+1]&&v[b+1].match(/\W/)){a(v[b],f.slice(b+2),f),g=!0;break}a(v[b],!i.strings[v[b]]||"",f)}else a(v[b],w,f)}p=f.slice(-1)[0],g||"-"===p||(!t[l+1]||/^(-|--)[^-]/.test(t[l+1])||i.bools[p]||r[p]&&c(p)?t[l+1]&&/^(true|false)$/.test(t[l+1])?(a(p,"true"===t[l+1],f),l++):a(p,!i.strings[p]||"",f):(a(p,t[l+1],f),l++))}else if(i.unknownFn&&!1===i.unknownFn(f)||o._.push(i.strings._||!e(f)?f:Number(f)),n.stopEarly){o._.push.apply(o._,t.slice(l+1));break}}return Object.keys(s).forEach((function(t){var e,n,i;e=o,n=t.split("."),i=e,n.slice(0,-1).forEach((function(t){i=i[t]||{}})),n[n.length-1]in i||(h(o,t.split("."),s[t]),(r[t]||[]).forEach((function(e){h(o,e.split("."),s[t])})))})),n["--"]?(o["--"]=new Array,u.forEach((function(t){o["--"].push(t)}))):u.forEach((function(t){o._.push(t)})),o}},9430:function(t,e){var n,i;void 0===(i="function"==typeof(n=function(){return function(t){function e(t){return" "===t||"\t"===t||"\n"===t||"\f"===t||"\r"===t}function n(e){var n,i=e.exec(t.substring(m));if(i)return n=i[0],m+=n.length,n}for(var i,r,s,o,u,a=t.length,h=/^[ \t\n\r\u000c]+/,c=/^[, \t\n\r\u000c]+/,l=/^[^ \t\n\r\u000c]+/,f=/[,]+$/,d=/^\d+$/,p=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,m=0,v=[];;){if(n(c),m>=a)return v;i=n(l),r=[],","===i.slice(-1)?(i=i.replace(f,""),b()):g()}function g(){for(n(h),s="",o="in descriptor";;){if(u=t.charAt(m),"in descriptor"===o)if(e(u))s&&(r.push(s),s="",o="after descriptor");else{if(","===u)return m+=1,s&&r.push(s),void b();if("("===u)s+=u,o="in parens";else{if(""===u)return s&&r.push(s),void b();s+=u}}else if("in parens"===o)if(")"===u)s+=u,o="in descriptor";else{if(""===u)return r.push(s),void b();s+=u}else if("after descriptor"===o)if(e(u));else{if(""===u)return void b();o="in descriptor",m-=1}m+=1}}function b(){var e,n,s,o,u,a,h,c,l,f=!1,m={};for(o=0;o<r.length;o++)a=(u=r[o])[u.length-1],h=u.substring(0,u.length-1),c=parseInt(h,10),l=parseFloat(h),d.test(h)&&"w"===a?((e||n)&&(f=!0),0===c?f=!0:e=c):p.test(h)&&"x"===a?((e||n||s)&&(f=!0),l<0?f=!0:n=l):d.test(h)&&"h"===a?((s||n)&&(f=!0),0===c?f=!0:s=c):f=!0;f?console&&console.log&&console.log("Invalid srcset descriptor found in '"+t+"' at '"+u+"'."):(m.url=i,e&&(m.w=e),n&&(m.d=n),s&&(m.h=s),v.push(m))}}})?n.apply(e,[]):n)||(t.exports=i)},6470:t=>{function e(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function n(t,e){for(var n,i="",r=0,s=-1,o=0,u=0;u<=t.length;++u){if(u<t.length)n=t.charCodeAt(u);else{if(47===n)break;n=47}if(47===n){if(s===u-1||1===o);else if(s!==u-1&&2===o){if(i.length<2||2!==r||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(i.length>2){var a=i.lastIndexOf("/");if(a!==i.length-1){-1===a?(i="",r=0):r=(i=i.slice(0,a)).length-1-i.lastIndexOf("/"),s=u,o=0;continue}}else if(2===i.length||1===i.length){i="",r=0,s=u,o=0;continue}e&&(i.length>0?i+="/..":i="..",r=2)}else i.length>0?i+="/"+t.slice(s+1,u):i=t.slice(s+1,u),r=u-s-1;s=u,o=0}else 46===n&&-1!==o?++o:o=-1}return i}var i={resolve:function(){for(var t,i="",r=!1,s=arguments.length-1;s>=-1&&!r;s--){var o;s>=0?o=arguments[s]:(void 0===t&&(t=process.cwd()),o=t),e(o),0!==o.length&&(i=o+"/"+i,r=47===o.charCodeAt(0))}return i=n(i,!r),r?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(t){if(e(t),0===t.length)return".";var i=47===t.charCodeAt(0),r=47===t.charCodeAt(t.length-1);return 0!==(t=n(t,!i)).length||i||(t="."),t.length>0&&r&&(t+="/"),i?"/"+t:t},isAbsolute:function(t){return e(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,n=0;n<arguments.length;++n){var r=arguments[n];e(r),r.length>0&&(void 0===t?t=r:t+="/"+r)}return void 0===t?".":i.normalize(t)},relative:function(t,n){if(e(t),e(n),t===n)return"";if((t=i.resolve(t))===(n=i.resolve(n)))return"";for(var r=1;r<t.length&&47===t.charCodeAt(r);++r);for(var s=t.length,o=s-r,u=1;u<n.length&&47===n.charCodeAt(u);++u);for(var a=n.length-u,h=o<a?o:a,c=-1,l=0;l<=h;++l){if(l===h){if(a>h){if(47===n.charCodeAt(u+l))return n.slice(u+l+1);if(0===l)return n.slice(u+l)}else o>h&&(47===t.charCodeAt(r+l)?c=l:0===l&&(c=0));break}var f=t.charCodeAt(r+l);if(f!==n.charCodeAt(u+l))break;47===f&&(c=l)}var d="";for(l=r+c+1;l<=s;++l)l!==s&&47!==t.charCodeAt(l)||(0===d.length?d+="..":d+="/..");return d.length>0?d+n.slice(u+c):(u+=c,47===n.charCodeAt(u)&&++u,n.slice(u))},_makeLong:function(t){return t},dirname:function(t){if(e(t),0===t.length)return".";for(var n=t.charCodeAt(0),i=47===n,r=-1,s=!0,o=t.length-1;o>=1;--o)if(47===(n=t.charCodeAt(o))){if(!s){r=o;break}}else s=!1;return-1===r?i?"/":".":i&&1===r?"//":t.slice(0,r)},basename:function(t,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');e(t);var i,r=0,s=-1,o=!0;if(void 0!==n&&n.length>0&&n.length<=t.length){if(n.length===t.length&&n===t)return"";var u=n.length-1,a=-1;for(i=t.length-1;i>=0;--i){var h=t.charCodeAt(i);if(47===h){if(!o){r=i+1;break}}else-1===a&&(o=!1,a=i+1),u>=0&&(h===n.charCodeAt(u)?-1==--u&&(s=i):(u=-1,s=a))}return r===s?s=a:-1===s&&(s=t.length),t.slice(r,s)}for(i=t.length-1;i>=0;--i)if(47===t.charCodeAt(i)){if(!o){r=i+1;break}}else-1===s&&(o=!1,s=i+1);return-1===s?"":t.slice(r,s)},extname:function(t){e(t);for(var n=-1,i=0,r=-1,s=!0,o=0,u=t.length-1;u>=0;--u){var a=t.charCodeAt(u);if(47!==a)-1===r&&(s=!1,r=u+1),46===a?-1===n?n=u:1!==o&&(o=1):-1!==n&&(o=-1);else if(!s){i=u+1;break}}return-1===n||-1===r||0===o||1===o&&n===r-1&&n===i+1?"":t.slice(n,r)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return function(t,e){var n=e.dir||e.root,i=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+i:n+"/"+i:i}(0,t)},parse:function(t){e(t);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return n;var i,r=t.charCodeAt(0),s=47===r;s?(n.root="/",i=1):i=0;for(var o=-1,u=0,a=-1,h=!0,c=t.length-1,l=0;c>=i;--c)if(47!==(r=t.charCodeAt(c)))-1===a&&(h=!1,a=c+1),46===r?-1===o?o=c:1!==l&&(l=1):-1!==o&&(l=-1);else if(!h){u=c+1;break}return-1===o||-1===a||0===l||1===l&&o===a-1&&o===u+1?-1!==a&&(n.base=n.name=0===u&&s?t.slice(1,a):t.slice(u,a)):(0===u&&s?(n.name=t.slice(1,o),n.base=t.slice(1,a)):(n.name=t.slice(u,o),n.base=t.slice(u,a)),n.ext=t.slice(o,a)),u>0?n.dir=t.slice(0,u-1):s&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};i.posix=i,t.exports=i},7129:(t,e)=>{var n=Object.prototype.hasOwnProperty;function i(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}function r(t){try{return encodeURIComponent(t)}catch(t){return null}}e.stringify=function(t,e){e=e||"";var i,s,o=[];for(s in"string"!=typeof e&&(e="?"),t)if(n.call(t,s)){if((i=t[s])||null!=i&&!isNaN(i)||(i=""),s=r(s),i=r(i),null===s||null===i)continue;o.push(s+"="+i)}return o.length?e+o.join("&"):""},e.parse=function(t){for(var e,n=/([^=?#&]+)=?([^&]*)/g,r={};e=n.exec(t);){var s=i(e[1]),o=i(e[2]);null===s||null===o||s in r||(r[s]=o)}return r}},5666:t=>{var e=function(t){var e,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",u=r.toStringTag||"@@toStringTag";function a(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,n){return t[e]=n}}function h(t,e,n,i){var r=e&&e.prototype instanceof v?e:v,s=Object.create(r.prototype),o=new C(i||[]);return s._invoke=function(t,e,n){var i=l;return function(r,s){if(i===d)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw s;return O()}for(n.method=r,n.arg=s;;){var o=n.delegate;if(o){var u=_(o,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===l)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var a=c(t,e,n);if("normal"===a.type){if(i=n.done?p:f,a.arg===m)continue;return{value:a.arg,done:n.done}}"throw"===a.type&&(i=p,n.method="throw",n.arg=a.arg)}}}(t,n,o),s}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var l="suspendedStart",f="suspendedYield",d="executing",p="completed",m={};function v(){}function g(){}function b(){}var w={};a(w,s,(function(){return this}));var y=Object.getPrototypeOf,k=y&&y(y(E([])));k&&k!==n&&i.call(k,s)&&(w=k);var D=b.prototype=v.prototype=Object.create(w);function j(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function n(r,s,o,u){var a=c(t[r],t,s);if("throw"!==a.type){var h=a.arg,l=h.value;return l&&"object"==typeof l&&i.call(l,"__await")?e.resolve(l.U).then((function(t){n("next",t,o,u)}),(function(t){n("throw",t,o,u)})):e.resolve(l).then((function(t){h.value=t,o(h)}),(function(t){return n("throw",t,o,u)}))}u(a.arg)}var r;this._invoke=function(t,i){function s(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(s,s):s()}}function _(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=c(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,m;var s=r.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function E(t){if(t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:O}}function O(){return{value:e,done:!0}}return g.prototype=b,a(D,"constructor",b),a(b,"constructor",g),g.displayName=a(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,a(t,u,"GeneratorFunction")),t.prototype=Object.create(D),t},t.awrap=function(t){return{U:t}},j(x.prototype),a(x.prototype,o,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,i,r,s){void 0===s&&(s=Promise);var o=new x(h(e,n,i,r),s);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},j(D),a(D,u,"Generator"),a(D,s,(function(){return this})),a(D,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=E,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return u.type="throw",u.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],u=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=i.call(o,"catchLoc"),h=i.call(o,"finallyLoc");if(a&&h){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=t,o.arg=e,s?(this.method="next",this.next=s.finallyLoc,m):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:E(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},7418:t=>{t.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},8007:(t,e,n)=>{const i=n(3719),r=n(2997),{klona:s}=n(3059),{isPlainObject:o}=n(977),u=n(9996),a=n(9430),{parse:h}=n(27),c=["img","audio","video","picture","svg","object","map","iframe","embed"],l=["script","style"];function f(t,e){t&&Object.keys(t).forEach((function(n){e(t[n],n)}))}function d(t,e){return{}.hasOwnProperty.call(t,e)}function p(t,e){const n=[];return f(t,(function(t){e(t)&&n.push(t)})),n}t.exports=v;const m=/^[^\0\t\n\f\r /<=>]+$/;function v(t,e,n){let b="",w="";function y(t,e){const n=this;this.tag=t,this.attribs=e||{},this.tagPosition=b.length,this.text="",this.mediaChildren=[],this.updateParentNodeText=function(){C.length&&(C[C.length-1].text+=n.text)},this.updateParentNodeMediaChildren=function(){C.length&&c.includes(this.tag)&&C[C.length-1].mediaChildren.push(this.tag)}}(e=Object.assign({},v.defaults,e)).parser=Object.assign({},g,e.parser),l.forEach((function(t){e.allowedTags&&e.allowedTags.indexOf(t)>-1&&!e.allowVulnerableTags&&console.warn(`\n\n⚠️ Your \`allowedTags\` option includes, \`${t}\`, which is inherently\nvulnerable to XSS attacks. Please remove it from \`allowedTags\`.\nOr, to disable this warning, add the \`allowVulnerableTags\` option\nand ensure you are accounting for this risk.\n\n`)}));const k=e.nonTextTags||["script","style","textarea","option"];let D,j;e.allowedAttributes&&(D={},j={},f(e.allowedAttributes,(function(t,e){D[e]=[];const n=[];t.forEach((function(t){"string"==typeof t&&t.indexOf("*")>=0?n.push(r(t).replace(/\\\*/g,".*")):D[e].push(t)})),j[e]=new RegExp("^("+n.join("|")+")$")})));const x={};f(e.allowedClasses,(function(t,e){D&&(d(D,e)||(D[e]=[]),D[e].push("class")),x[e]=t}));const _={};let M,A,C,E,O,S,T;f(e.transformTags,(function(t,e){let n;"function"==typeof t?n=t:"string"==typeof t&&(n=v.simpleTransform(t)),"*"===e?M=n:_[e]=n}));let R=!1;$();const F=new i.Parser({onopentag:function(t,n){if(e.enforceHtmlBoundary&&"html"===t&&$(),S)return void T++;const i=new y(t,n);C.push(i);let r=!1;const c=!!i.text;let l;if(d(_,t)&&(l=_[t](t,n),i.attribs=n=l.attribs,void 0!==l.text&&(i.innerText=l.text),t!==l.tagName&&(i.name=t=l.tagName,O[A]=l.tagName)),M&&(l=M(t,n),i.attribs=n=l.attribs,t!==l.tagName&&(i.name=t=l.tagName,O[A]=l.tagName)),(e.allowedTags&&-1===e.allowedTags.indexOf(t)||"recursiveEscape"===e.disallowedTagsMode&&!function(t){for(const e in t)if(d(t,e))return!1;return!0}(E)||null!=e.nestingLimit&&A>=e.nestingLimit)&&(r=!0,E[A]=!0,"discard"===e.disallowedTagsMode&&-1!==k.indexOf(t)&&(S=!0,T=1),E[A]=!0),A++,r){if("discard"===e.disallowedTagsMode)return;w=b,b=""}b+="<"+t,(!D||d(D,t)||D["*"])&&f(n,(function(n,r){if(!m.test(r))return void delete i.attribs[r];let c,l=!1;if(!D||d(D,t)&&-1!==D[t].indexOf(r)||D["*"]&&-1!==D["*"].indexOf(r)||d(j,t)&&j[t].test(r)||j["*"]&&j["*"].test(r))l=!0;else if(D&&D[t])for(const e of D[t])if(o(e)&&e.name&&e.name===r){l=!0;let t="";if(!0===e.multiple){const i=n.split(" ");for(const n of i)-1!==e.values.indexOf(n)&&(""===t?t=n:t+=" "+n)}else e.values.indexOf(n)>=0&&(t=n);n=t}if(l){if(-1!==e.allowedSchemesAppliedToAttributes.indexOf(r)&&q(t,n))return void delete i.attribs[r];if("iframe"===t&&"src"===r){let t=!0;try{if((n=n.replace(/^(\w+:)?\s*[\\/]\s*[\\/]/,"$1//")).startsWith("relative:"))throw new Error("relative: exploit attempt");let i="relative://relative-site";for(let t=0;t<100;t++)i+=`/${t}`;const r=new URL(n,i);if(r&&"relative-site"===r.hostname&&"relative:"===r.protocol)t=d(e,"allowIframeRelativeUrls")?e.allowIframeRelativeUrls:!e.allowedIframeHostnames&&!e.allowedIframeDomains;else if(e.allowedIframeHostnames||e.allowedIframeDomains){const n=(e.allowedIframeHostnames||[]).find((function(t){return t===r.hostname})),i=(e.allowedIframeDomains||[]).find((function(t){return r.hostname===t||r.hostname.endsWith(`.${t}`)}));t=n||i}}catch(e){t=!1}if(!t)return void delete i.attribs[r]}if("srcset"===r)try{if(c=a(n),c.forEach((function(t){q("srcset",t.url)&&(t.evil=!0)})),c=p(c,(function(t){return!t.evil})),!c.length)return void delete i.attribs[r];n=p(c,(function(t){return!t.evil})).map((function(t){if(!t.url)throw new Error("URL missing");return t.url+(t.w?` ${t.w}w`:"")+(t.h?` ${t.h}h`:"")+(t.d?` ${t.d}x`:"")})).join(", "),i.attribs[r]=n}catch(t){return void delete i.attribs[r]}if("class"===r){const e=x[t],s=x["*"];if(!(v=n,g=e&&s?u(e,s):e||s,n=g?(v=v.split(/\s+/)).filter((function(t){return-1!==g.indexOf(t)})).join(" "):v).length)return void delete i.attribs[r]}if("style"===r)try{if(0===(f=function(t,e){if(!e)return t;const n=s(t),i=t.nodes[0];let r;return r=e[i.selector]&&e["*"]?u(e[i.selector],e["*"]):e[i.selector]||e["*"],r&&(n.nodes[0].nodes=i.nodes.reduce(function(t){return function(e,n){return d(t,n.prop)&&t[n.prop].some((function(t){return t.test(n.value)}))&&e.push(n),e}}(r),[])),n}(h(t+" {"+n+"}"),e.allowedStyles),n=f.nodes[0].nodes.reduce((function(t,e){return t.push(e.prop+":"+e.value),t}),[]).join(";")).length)return void delete i.attribs[r]}catch(t){return void delete i.attribs[r]}b+=" "+r,n&&n.length&&(b+='="'+B(n,!0)+'"')}else delete i.attribs[r];var f,v,g})),-1!==e.selfClosing.indexOf(t)?b+=" />":(b+=">",!i.innerText||c||e.textFilter||(b+=B(i.innerText),R=!0)),r&&(b=w+B(b),w="")},ontext:function(t){if(S)return;const n=C[C.length-1];let i;if(n&&(i=n.tag,t=void 0!==n.innerText?n.innerText:t),"discard"!==e.disallowedTagsMode||"script"!==i&&"style"!==i){const n=B(t,!1);e.textFilter&&!R?b+=e.textFilter(n,i):R||(b+=n)}else b+=t;C.length&&(C[C.length-1].text+=t)},onclosetag:function(t){if(S){if(T--,T)return;S=!1}const n=C.pop();if(!n)return;S=!!e.enforceHtmlBoundary&&"html"===t,A--;const i=E[A];if(i){if(delete E[A],"discard"===e.disallowedTagsMode)return void n.updateParentNodeText();w=b,b=""}O[A]&&(t=O[A],delete O[A]),e.exclusiveFilter&&e.exclusiveFilter(n)?b=b.substr(0,n.tagPosition):(n.updateParentNodeMediaChildren(),n.updateParentNodeText(),-1===e.selfClosing.indexOf(t)?(b+="</"+t+">",i&&(b=w+B(b),w="")):i&&(b=w,w=""))}},e.parser);return F.write(t),F.end(),b;function $(){b="",A=0,C=[],E={},O={},S=!1,T=0}function B(t,n){return"string"!=typeof t&&(t+=""),e.parser.decodeEntities&&(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n&&(t=t.replace(/"/g,"&quot;"))),t=t.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n&&(t=t.replace(/"/g,"&quot;")),t}function q(t,n){const i=(n=(n=n.replace(/[\x00-\x20]+/g,"")).replace(/<!--.*?-->/g,"")).match(/^([a-zA-Z][a-zA-Z0-9.\-+]*):/);if(!i)return!!n.match(/^[/\\]{2}/)&&!e.allowProtocolRelative;const r=i[1].toLowerCase();return d(e.allowedSchemesByTag,t)?-1===e.allowedSchemesByTag[t].indexOf(r):!e.allowedSchemes||-1===e.allowedSchemes.indexOf(r)}}const g={decodeEntities:!0};v.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1},v.simpleTransform=function(t,e,n){return n=void 0===n||n,e=e||{},function(i,r){let s;if(n)for(s in e)r[s]=e[s];else r=e;return{tagName:t,attribs:r}}}},2997:t=>{t.exports=t=>{if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},977:(t,e)=>{function n(t){return"[object Object]"===Object.prototype.toString.call(t)}Object.defineProperty(e,"t",{value:!0}),e.isPlainObject=function(t){var e,i;return!1!==n(t)&&(void 0===(e=t.constructor)||!1!==n(i=e.prototype)&&!1!==i.hasOwnProperty("isPrototypeOf"))}},4564:(t,e,n)=>{var i=n(7418),r=n(7129),s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,o=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,u=/^[a-zA-Z]:/,a=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function h(t){return(t||"").toString().replace(a,"")}var c=[["#","hash"],["?","query"],function(t,e){return d(e.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function f(t){var e,i=("undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{}).location||{},r={},o=typeof(t=t||i);if("blob:"===t.protocol)r=new m(unescape(t.pathname),{});else if("string"===o)for(e in r=new m(t,{}),l)delete r[e];else if("object"===o){for(e in t)e in l||(r[e]=t[e]);void 0===r.slashes&&(r.slashes=s.test(t.href))}return r}function d(t){return"file:"===t||"ftp:"===t||"http:"===t||"https:"===t||"ws:"===t||"wss:"===t}function p(t,e){t=h(t),e=e||{};var n,i=o.exec(t),r=i[1]?i[1].toLowerCase():"",s=!!i[2],u=!!i[3],a=0;return s?u?(n=i[2]+i[3]+i[4],a=i[2].length+i[3].length):(n=i[2]+i[4],a=i[2].length):u?(n=i[3]+i[4],a=i[3].length):n=i[4],"file:"===r?a>=2&&(n=n.slice(2)):d(r)?n=i[4]:r?s&&(n=n.slice(2)):a>=2&&d(e.protocol)&&(n=i[4]),{protocol:r,slashes:s||d(r),slashesCount:a,rest:n}}function m(t,e,n){if(t=h(t),!(this instanceof m))return new m(t,e,n);var s,o,a,l,v,g,b=c.slice(),w=typeof e,y=this,k=0;for("object"!==w&&"string"!==w&&(n=e,e=null),n&&"function"!=typeof n&&(n=r.parse),s=!(o=p(t||"",e=f(e))).protocol&&!o.slashes,y.slashes=o.slashes||s&&e.slashes,y.protocol=o.protocol||e.protocol||"",t=o.rest,("file:"===o.protocol&&(2!==o.slashesCount||u.test(t))||!o.slashes&&(o.protocol||o.slashesCount<2||!d(y.protocol)))&&(b[3]=[/(.*)/,"pathname"]);k<b.length;k++)"function"!=typeof(l=b[k])?(a=l[0],g=l[1],a!=a?y[g]=t:"string"==typeof a?~(v=t.indexOf(a))&&("number"==typeof l[2]?(y[g]=t.slice(0,v),t=t.slice(v+l[2])):(y[g]=t.slice(v),t=t.slice(0,v))):(v=a.exec(t))&&(y[g]=v[1],t=t.slice(0,v.index)),y[g]=y[g]||s&&l[3]&&e[g]||"",l[4]&&(y[g]=y[g].toLowerCase())):t=l(t,y);n&&(y.query=n(y.query)),s&&e.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==e.pathname)&&(y.pathname=function(t,e){if(""===t)return e;for(var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),i=n.length,r=n[i-1],s=!1,o=0;i--;)"."===n[i]?n.splice(i,1):".."===n[i]?(n.splice(i,1),o++):o&&(0===i&&(s=!0),n.splice(i,1),o--);return s&&n.unshift(""),"."!==r&&".."!==r||n.push(""),n.join("/")}(y.pathname,e.pathname)),"/"!==y.pathname.charAt(0)&&d(y.protocol)&&(y.pathname="/"+y.pathname),i(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(l=y.auth.split(":"),y.username=l[0]||"",y.password=l[1]||""),y.origin="file:"!==y.protocol&&d(y.protocol)&&y.host?y.protocol+"//"+y.host:"null",y.href=y.toString()}m.prototype={set:function(t,e,n){var s=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(n||r.parse)(e)),s[t]=e;break;case"port":s[t]=e,i(e,s.protocol)?e&&(s.host=s.hostname+":"+e):(s.host=s.hostname,s[t]="");break;case"hostname":s[t]=e,s.port&&(e+=":"+s.port),s.host=e;break;case"host":s[t]=e,/:\d+$/.test(e)?(e=e.split(":"),s.port=e.pop(),s.hostname=e.join(":")):(s.hostname=e,s.port="");break;case"protocol":s.protocol=e.toLowerCase(),s.slashes=!n;break;case"pathname":case"hash":if(e){var o="pathname"===t?"/":"#";s[t]=e.charAt(0)!==o?o+e:e}else s[t]=e;break;default:s[t]=e}for(var u=0;u<c.length;u++){var a=c[u];a[4]&&(s[a[1]]=s[a[1]].toLowerCase())}return s.origin="file:"!==s.protocol&&d(s.protocol)&&s.host?s.protocol+"//"+s.host:"null",s.href=s.toString(),s},toString:function(t){t&&"function"==typeof t||(t=r.stringify);var e,n=this,i=n.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var s=i+(n.slashes||d(n.protocol)?"//":"");return n.username&&(s+=n.username,n.password&&(s+=":"+n.password),s+="@"),s+=n.host+n.pathname,(e="object"==typeof n.query?t(n.query):n.query)&&(s+="?"!==e.charAt(0)?"?"+e:e),n.hash&&(s+=n.hash),s}},m.extractProtocol=p,m.location=f,m.trimLeft=h,m.qs=r,t.exports=m},2052:t=>{t.exports="/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n/*-----------------------------------------------------------------------------\n| RenderedText\n|----------------------------------------------------------------------------*/\n\n:root {\n  /* This is the padding value to fill the gaps between lines containing spans with background color. */\n  --jp-private-code-span-padding: calc(\n    (var(--jp-code-line-height) - 1) * var(--jp-code-font-size) / 2\n  );\n}\n\n.jp-RenderedText {\n  text-align: left;\n  padding-left: var(--jp-code-padding);\n  line-height: var(--jp-code-line-height);\n  font-family: var(--jp-code-font-family);\n}\n\n.jp-RenderedText pre,\n.jp-RenderedJavaScript pre,\n.jp-RenderedHTMLCommon pre {\n  color: var(--jp-content-font-color1);\n  font-size: var(--jp-code-font-size);\n  border: none;\n  margin: 0px;\n  padding: 0px;\n}\n\n.jp-RenderedText pre a:link {\n  text-decoration: none;\n  color: var(--jp-content-link-color);\n}\n.jp-RenderedText pre a:hover {\n  text-decoration: underline;\n  color: var(--jp-content-link-color);\n}\n.jp-RenderedText pre a:visited {\n  text-decoration: none;\n  color: var(--jp-content-link-color);\n}\n\n/* console foregrounds and backgrounds */\n.jp-RenderedText pre .ansi-black-fg {\n  color: #3e424d;\n}\n.jp-RenderedText pre .ansi-red-fg {\n  color: #e75c58;\n}\n.jp-RenderedText pre .ansi-green-fg {\n  color: #00a250;\n}\n.jp-RenderedText pre .ansi-yellow-fg {\n  color: #ddb62b;\n}\n.jp-RenderedText pre .ansi-blue-fg {\n  color: #208ffb;\n}\n.jp-RenderedText pre .ansi-magenta-fg {\n  color: #d160c4;\n}\n.jp-RenderedText pre .ansi-cyan-fg {\n  color: #60c6c8;\n}\n.jp-RenderedText pre .ansi-white-fg {\n  color: #c5c1b4;\n}\n\n.jp-RenderedText pre .ansi-black-bg {\n  background-color: #3e424d;\n  padding: var(--jp-private-code-span-padding) 0;\n}\n.jp-RenderedText pre .ansi-red-bg {\n  background-color: #e75c58;\n  padding: var(--jp-private-code-span-padding) 0;\n}\n.jp-RenderedText pre .ansi-green-bg {\n  background-color: #00a250;\n  padding: var(--jp-private-code-span-padding) 0;\n}\n.jp-RenderedText pre .ansi-yellow-bg {\n  background-color: #ddb62b;\n  padding: var(--jp-private-code-span-padding) 0;\n}\n.jp-RenderedText pre .ansi-blue-bg {\n  background-color: #208ffb;\n  padding: var(--jp-private-code-span-padding) 0;\n}\n.jp-RenderedText pre .ansi-magenta-bg {\n  background-color: #d160c4;\n  padding: var(--jp-private-code-span-padding) 0;\n}\n.jp-RenderedText pre .ansi-cyan-bg {\n  background-color: #60c6c8;\n  padding: var(--jp-private-code-span-padding) 0;\n}\n.jp-RenderedText pre .ansi-white-bg {\n  background-color: #c5c1b4;\n  padding: var(--jp-private-code-span-padding) 0;\n}\n\n.jp-RenderedText pre .ansi-black-intense-fg {\n  color: #282c36;\n}\n.jp-RenderedText pre .ansi-red-intense-fg {\n  color: #b22b31;\n}\n.jp-RenderedText pre .ansi-green-intense-fg {\n  color: #007427;\n}\n.jp-RenderedText pre .ansi-yellow-intense-fg {\n  color: #b27d12;\n}\n.jp-RenderedText pre .ansi-blue-intense-fg {\n  color: #0065ca;\n}\n.jp-RenderedText pre .ansi-magenta-intense-fg {\n  color: #a03196;\n}\n.jp-RenderedText pre .ansi-cyan-intense-fg {\n  color: #258f8f;\n}\n.jp-RenderedText pre .ansi-white-intense-fg {\n  color: #a1a6b2;\n}\n\n.jp-RenderedText pre .ansi-black-intense-bg {\n  background-color: #282c36;\n  padding: var(--jp-private-code-span-padding) 0;\n}\n.jp-RenderedText pre .ansi-red-intense-bg {\n  background-color: #b22b31;\n  padding: var(--jp-private-code-span-padding) 0;\n}\n.jp-RenderedText pre .ansi-green-intense-bg {\n  background-color: #007427;\n  padding: var(--jp-private-code-span-padding) 0;\n}\n.jp-RenderedText pre .ansi-yellow-intense-bg {\n  background-color: #b27d12;\n  padding: var(--jp-private-code-span-padding) 0;\n}\n.jp-RenderedText pre .ansi-blue-intense-bg {\n  background-color: #0065ca;\n  padding: var(--jp-private-code-span-padding) 0;\n}\n.jp-RenderedText pre .ansi-magenta-intense-bg {\n  background-color: #a03196;\n  padding: var(--jp-private-code-span-padding) 0;\n}\n.jp-RenderedText pre .ansi-cyan-intense-bg {\n  background-color: #258f8f;\n  padding: var(--jp-private-code-span-padding) 0;\n}\n.jp-RenderedText pre .ansi-white-intense-bg {\n  background-color: #a1a6b2;\n  padding: var(--jp-private-code-span-padding) 0;\n}\n\n.jp-RenderedText pre .ansi-default-inverse-fg {\n  color: var(--jp-ui-inverse-font-color0);\n}\n.jp-RenderedText pre .ansi-default-inverse-bg {\n  background-color: var(--jp-inverse-layout-color0);\n  padding: var(--jp-private-code-span-padding) 0;\n}\n\n.jp-RenderedText pre .ansi-bold {\n  font-weight: bold;\n}\n.jp-RenderedText pre .ansi-underline {\n  text-decoration: underline;\n}\n\n.jp-RenderedText[data-mime-type='application/vnd.jupyter.stderr'] {\n  background: var(--jp-rendermime-error-background);\n  padding-top: var(--jp-code-padding);\n}\n\n/*-----------------------------------------------------------------------------\n| RenderedLatex\n|----------------------------------------------------------------------------*/\n\n.jp-RenderedLatex {\n  color: var(--jp-content-font-color1);\n  font-size: var(--jp-content-font-size1);\n  line-height: var(--jp-content-line-height);\n}\n\n/* Left-justify outputs.*/\n.jp-OutputArea-output.jp-RenderedLatex {\n  padding: var(--jp-code-padding);\n  text-align: left;\n}\n\n/*-----------------------------------------------------------------------------\n| RenderedHTML\n|----------------------------------------------------------------------------*/\n\n.jp-RenderedHTMLCommon {\n  color: var(--jp-content-font-color1);\n  font-family: var(--jp-content-font-family);\n  font-size: var(--jp-content-font-size1);\n  line-height: var(--jp-content-line-height);\n  /* Give a bit more R padding on Markdown text to keep line lengths reasonable */\n  padding-right: 20px;\n}\n\n.jp-RenderedHTMLCommon em {\n  font-style: italic;\n}\n\n.jp-RenderedHTMLCommon strong {\n  font-weight: bold;\n}\n\n.jp-RenderedHTMLCommon u {\n  text-decoration: underline;\n}\n\n.jp-RenderedHTMLCommon a:link {\n  text-decoration: none;\n  color: var(--jp-content-link-color);\n}\n\n.jp-RenderedHTMLCommon a:hover {\n  text-decoration: underline;\n  color: var(--jp-content-link-color);\n}\n\n.jp-RenderedHTMLCommon a:visited {\n  text-decoration: none;\n  color: var(--jp-content-link-color);\n}\n\n/* Headings */\n\n.jp-RenderedHTMLCommon h1,\n.jp-RenderedHTMLCommon h2,\n.jp-RenderedHTMLCommon h3,\n.jp-RenderedHTMLCommon h4,\n.jp-RenderedHTMLCommon h5,\n.jp-RenderedHTMLCommon h6 {\n  line-height: var(--jp-content-heading-line-height);\n  font-weight: var(--jp-content-heading-font-weight);\n  font-style: normal;\n  margin: var(--jp-content-heading-margin-top) 0\n    var(--jp-content-heading-margin-bottom) 0;\n}\n\n.jp-RenderedHTMLCommon h1:first-child,\n.jp-RenderedHTMLCommon h2:first-child,\n.jp-RenderedHTMLCommon h3:first-child,\n.jp-RenderedHTMLCommon h4:first-child,\n.jp-RenderedHTMLCommon h5:first-child,\n.jp-RenderedHTMLCommon h6:first-child {\n  margin-top: calc(0.5 * var(--jp-content-heading-margin-top));\n}\n\n.jp-RenderedHTMLCommon h1:last-child,\n.jp-RenderedHTMLCommon h2:last-child,\n.jp-RenderedHTMLCommon h3:last-child,\n.jp-RenderedHTMLCommon h4:last-child,\n.jp-RenderedHTMLCommon h5:last-child,\n.jp-RenderedHTMLCommon h6:last-child {\n  margin-bottom: calc(0.5 * var(--jp-content-heading-margin-bottom));\n}\n\n.jp-RenderedHTMLCommon h1 {\n  font-size: var(--jp-content-font-size5);\n}\n\n.jp-RenderedHTMLCommon h2 {\n  font-size: var(--jp-content-font-size4);\n}\n\n.jp-RenderedHTMLCommon h3 {\n  font-size: var(--jp-content-font-size3);\n}\n\n.jp-RenderedHTMLCommon h4 {\n  font-size: var(--jp-content-font-size2);\n}\n\n.jp-RenderedHTMLCommon h5 {\n  font-size: var(--jp-content-font-size1);\n}\n\n.jp-RenderedHTMLCommon h6 {\n  font-size: var(--jp-content-font-size0);\n}\n\n/* Lists */\n\n.jp-RenderedHTMLCommon ul:not(.list-inline),\n.jp-RenderedHTMLCommon ol:not(.list-inline) {\n  padding-left: 2em;\n}\n\n.jp-RenderedHTMLCommon ul {\n  list-style: disc;\n}\n\n.jp-RenderedHTMLCommon ul ul {\n  list-style: square;\n}\n\n.jp-RenderedHTMLCommon ul ul ul {\n  list-style: circle;\n}\n\n.jp-RenderedHTMLCommon ol {\n  list-style: decimal;\n}\n\n.jp-RenderedHTMLCommon ol ol {\n  list-style: upper-alpha;\n}\n\n.jp-RenderedHTMLCommon ol ol ol {\n  list-style: lower-alpha;\n}\n\n.jp-RenderedHTMLCommon ol ol ol ol {\n  list-style: lower-roman;\n}\n\n.jp-RenderedHTMLCommon ol ol ol ol ol {\n  list-style: decimal;\n}\n\n.jp-RenderedHTMLCommon ol,\n.jp-RenderedHTMLCommon ul {\n  margin-bottom: 1em;\n}\n\n.jp-RenderedHTMLCommon ul ul,\n.jp-RenderedHTMLCommon ul ol,\n.jp-RenderedHTMLCommon ol ul,\n.jp-RenderedHTMLCommon ol ol {\n  margin-bottom: 0em;\n}\n\n.jp-RenderedHTMLCommon hr {\n  color: var(--jp-border-color2);\n  background-color: var(--jp-border-color1);\n  margin-top: 1em;\n  margin-bottom: 1em;\n}\n\n.jp-RenderedHTMLCommon > pre {\n  margin: 1.5em 2em;\n}\n\n.jp-RenderedHTMLCommon pre,\n.jp-RenderedHTMLCommon code {\n  border: 0;\n  background-color: var(--jp-layout-color0);\n  color: var(--jp-content-font-color1);\n  font-family: var(--jp-code-font-family);\n  font-size: inherit;\n  line-height: var(--jp-code-line-height);\n  padding: 0;\n  white-space: pre-wrap;\n}\n\n.jp-RenderedHTMLCommon :not(pre) > code {\n  background-color: var(--jp-layout-color2);\n  padding: 1px 5px;\n}\n\n/* Tables */\n\n.jp-RenderedHTMLCommon table {\n  border-collapse: collapse;\n  border-spacing: 0;\n  border: none;\n  color: var(--jp-ui-font-color1);\n  font-size: 12px;\n  table-layout: fixed;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.jp-RenderedHTMLCommon thead {\n  border-bottom: var(--jp-border-width) solid var(--jp-border-color1);\n  vertical-align: bottom;\n}\n\n.jp-RenderedHTMLCommon td,\n.jp-RenderedHTMLCommon th,\n.jp-RenderedHTMLCommon tr {\n  vertical-align: middle;\n  padding: 0.5em 0.5em;\n  line-height: normal;\n  white-space: normal;\n  max-width: none;\n  border: none;\n}\n\n.jp-RenderedMarkdown.jp-RenderedHTMLCommon td,\n.jp-RenderedMarkdown.jp-RenderedHTMLCommon th {\n  max-width: none;\n}\n\n:not(.jp-RenderedMarkdown).jp-RenderedHTMLCommon td,\n:not(.jp-RenderedMarkdown).jp-RenderedHTMLCommon th,\n:not(.jp-RenderedMarkdown).jp-RenderedHTMLCommon tr {\n  text-align: right;\n}\n\n.jp-RenderedHTMLCommon th {\n  font-weight: bold;\n}\n\n.jp-RenderedHTMLCommon tbody tr:nth-child(odd) {\n  background: var(--jp-layout-color0);\n}\n\n.jp-RenderedHTMLCommon tbody tr:nth-child(even) {\n  background: var(--jp-rendermime-table-row-background);\n}\n\n.jp-RenderedHTMLCommon tbody tr:hover {\n  background: var(--jp-rendermime-table-row-hover-background);\n}\n\n.jp-RenderedHTMLCommon table {\n  margin-bottom: 1em;\n}\n\n.jp-RenderedHTMLCommon p {\n  text-align: left;\n  margin: 0px;\n}\n\n.jp-RenderedHTMLCommon p {\n  margin-bottom: 1em;\n}\n\n.jp-RenderedHTMLCommon img {\n  -moz-force-broken-image-icon: 1;\n}\n\n/* Restrict to direct children as other images could be nested in other content. */\n.jp-RenderedHTMLCommon > img {\n  display: block;\n  margin-left: 0;\n  margin-right: 0;\n  margin-bottom: 1em;\n}\n\n/* Change color behind transparent images if they need it... */\n[data-jp-theme-light='false'] .jp-RenderedImage img.jp-needs-light-background {\n  background-color: var(--jp-inverse-layout-color1);\n}\n[data-jp-theme-light='true'] .jp-RenderedImage img.jp-needs-dark-background {\n  background-color: var(--jp-inverse-layout-color1);\n}\n/* ...or leave it untouched if they don't */\n[data-jp-theme-light='false'] .jp-RenderedImage img.jp-needs-dark-background {\n}\n[data-jp-theme-light='true'] .jp-RenderedImage img.jp-needs-light-background {\n}\n\n.jp-RenderedHTMLCommon img,\n.jp-RenderedImage img,\n.jp-RenderedHTMLCommon svg,\n.jp-RenderedSVG svg {\n  max-width: 100%;\n  height: auto;\n}\n\n.jp-RenderedHTMLCommon img.jp-mod-unconfined,\n.jp-RenderedImage img.jp-mod-unconfined,\n.jp-RenderedHTMLCommon svg.jp-mod-unconfined,\n.jp-RenderedSVG svg.jp-mod-unconfined {\n  max-width: none;\n}\n\n.jp-RenderedHTMLCommon .alert {\n  padding: var(--jp-notebook-padding);\n  border: var(--jp-border-width) solid transparent;\n  border-radius: var(--jp-border-radius);\n  margin-bottom: 1em;\n}\n\n.jp-RenderedHTMLCommon .alert-info {\n  color: var(--jp-info-color0);\n  background-color: var(--jp-info-color3);\n  border-color: var(--jp-info-color2);\n}\n.jp-RenderedHTMLCommon .alert-info hr {\n  border-color: var(--jp-info-color3);\n}\n.jp-RenderedHTMLCommon .alert-info > p:last-child,\n.jp-RenderedHTMLCommon .alert-info > ul:last-child {\n  margin-bottom: 0;\n}\n\n.jp-RenderedHTMLCommon .alert-warning {\n  color: var(--jp-warn-color0);\n  background-color: var(--jp-warn-color3);\n  border-color: var(--jp-warn-color2);\n}\n.jp-RenderedHTMLCommon .alert-warning hr {\n  border-color: var(--jp-warn-color3);\n}\n.jp-RenderedHTMLCommon .alert-warning > p:last-child,\n.jp-RenderedHTMLCommon .alert-warning > ul:last-child {\n  margin-bottom: 0;\n}\n\n.jp-RenderedHTMLCommon .alert-success {\n  color: var(--jp-success-color0);\n  background-color: var(--jp-success-color3);\n  border-color: var(--jp-success-color2);\n}\n.jp-RenderedHTMLCommon .alert-success hr {\n  border-color: var(--jp-success-color3);\n}\n.jp-RenderedHTMLCommon .alert-success > p:last-child,\n.jp-RenderedHTMLCommon .alert-success > ul:last-child {\n  margin-bottom: 0;\n}\n\n.jp-RenderedHTMLCommon .alert-danger {\n  color: var(--jp-error-color0);\n  background-color: var(--jp-error-color3);\n  border-color: var(--jp-error-color2);\n}\n.jp-RenderedHTMLCommon .alert-danger hr {\n  border-color: var(--jp-error-color3);\n}\n.jp-RenderedHTMLCommon .alert-danger > p:last-child,\n.jp-RenderedHTMLCommon .alert-danger > ul:last-child {\n  margin-bottom: 0;\n}\n\n.jp-RenderedHTMLCommon blockquote {\n  margin: 1em 2em;\n  padding: 0 1em;\n  border-left: 5px solid var(--jp-border-color2);\n}\n\na.jp-InternalAnchorLink {\n  visibility: hidden;\n  margin-left: 8px;\n  color: var(--md-blue-800);\n}\n\nh1:hover .jp-InternalAnchorLink,\nh2:hover .jp-InternalAnchorLink,\nh3:hover .jp-InternalAnchorLink,\nh4:hover .jp-InternalAnchorLink,\nh5:hover .jp-InternalAnchorLink,\nh6:hover .jp-InternalAnchorLink {\n  visibility: visible;\n}\n\n.jp-RenderedHTMLCommon kbd {\n  background-color: var(--jp-rendermime-table-row-background);\n  border: 1px solid var(--jp-border-color0);\n  border-bottom-color: var(--jp-border-color2);\n  border-radius: 3px;\n  box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.25);\n  display: inline-block;\n  font-size: 0.8em;\n  line-height: 1em;\n  padding: 0.2em 0.5em;\n}\n\n/* Most direct children of .jp-RenderedHTMLCommon have a margin-bottom of 1.0.\n * At the bottom of cells this is a bit too much as there is also spacing\n * between cells. Going all the way to 0 gets too tight between markdown and\n * code cells.\n */\n.jp-RenderedHTMLCommon > *:last-child {\n  margin-bottom: 0.5em;\n}\n"},3747:t=>{t.exports="/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n/*\nThe following CSS variables define the main, public API for styling JupyterLab.\nThese variables should be used by all plugins wherever possible. In other\nwords, plugins should not define custom colors, sizes, etc unless absolutely\nnecessary. This enables users to change the visual theme of JupyterLab\nby changing these variables.\n\nMany variables appear in an ordered sequence (0,1,2,3). These sequences\nare designed to work well together, so for example, `--jp-border-color1` should\nbe used with `--jp-layout-color1`. The numbers have the following meanings:\n\n* 0: super-primary, reserved for special emphasis\n* 1: primary, most important under normal situations\n* 2: secondary, next most important under normal situations\n* 3: tertiary, next most important under normal situations\n\nThroughout JupyterLab, we are mostly following principles from Google's\nMaterial Design when selecting colors. We are not, however, following\nall of MD as it is not optimized for dense, information rich UIs.\n*/\n\n:root {\n  /* Elevation\n   *\n   * We style box-shadows using Material Design's idea of elevation. These particular numbers are taken from here:\n   *\n   * https://github.com/material-components/material-components-web\n   * https://material-components-web.appspot.com/elevation.html\n   */\n\n  --jp-shadow-base-lightness: 0;\n  --jp-shadow-umbra-color: rgba(\n    var(--jp-shadow-base-lightness),\n    var(--jp-shadow-base-lightness),\n    var(--jp-shadow-base-lightness),\n    0.2\n  );\n  --jp-shadow-penumbra-color: rgba(\n    var(--jp-shadow-base-lightness),\n    var(--jp-shadow-base-lightness),\n    var(--jp-shadow-base-lightness),\n    0.14\n  );\n  --jp-shadow-ambient-color: rgba(\n    var(--jp-shadow-base-lightness),\n    var(--jp-shadow-base-lightness),\n    var(--jp-shadow-base-lightness),\n    0.12\n  );\n  --jp-elevation-z0: none;\n  --jp-elevation-z1: 0px 2px 1px -1px var(--jp-shadow-umbra-color),\n    0px 1px 1px 0px var(--jp-shadow-penumbra-color),\n    0px 1px 3px 0px var(--jp-shadow-ambient-color);\n  --jp-elevation-z2: 0px 3px 1px -2px var(--jp-shadow-umbra-color),\n    0px 2px 2px 0px var(--jp-shadow-penumbra-color),\n    0px 1px 5px 0px var(--jp-shadow-ambient-color);\n  --jp-elevation-z4: 0px 2px 4px -1px var(--jp-shadow-umbra-color),\n    0px 4px 5px 0px var(--jp-shadow-penumbra-color),\n    0px 1px 10px 0px var(--jp-shadow-ambient-color);\n  --jp-elevation-z6: 0px 3px 5px -1px var(--jp-shadow-umbra-color),\n    0px 6px 10px 0px var(--jp-shadow-penumbra-color),\n    0px 1px 18px 0px var(--jp-shadow-ambient-color);\n  --jp-elevation-z8: 0px 5px 5px -3px var(--jp-shadow-umbra-color),\n    0px 8px 10px 1px var(--jp-shadow-penumbra-color),\n    0px 3px 14px 2px var(--jp-shadow-ambient-color);\n  --jp-elevation-z12: 0px 7px 8px -4px var(--jp-shadow-umbra-color),\n    0px 12px 17px 2px var(--jp-shadow-penumbra-color),\n    0px 5px 22px 4px var(--jp-shadow-ambient-color);\n  --jp-elevation-z16: 0px 8px 10px -5px var(--jp-shadow-umbra-color),\n    0px 16px 24px 2px var(--jp-shadow-penumbra-color),\n    0px 6px 30px 5px var(--jp-shadow-ambient-color);\n  --jp-elevation-z20: 0px 10px 13px -6px var(--jp-shadow-umbra-color),\n    0px 20px 31px 3px var(--jp-shadow-penumbra-color),\n    0px 8px 38px 7px var(--jp-shadow-ambient-color);\n  --jp-elevation-z24: 0px 11px 15px -7px var(--jp-shadow-umbra-color),\n    0px 24px 38px 3px var(--jp-shadow-penumbra-color),\n    0px 9px 46px 8px var(--jp-shadow-ambient-color);\n\n  /* Borders\n   *\n   * The following variables, specify the visual styling of borders in JupyterLab.\n   */\n\n  --jp-border-width: 1px;\n  --jp-border-color0: var(--md-grey-400);\n  --jp-border-color1: var(--md-grey-400);\n  --jp-border-color2: var(--md-grey-300);\n  --jp-border-color3: var(--md-grey-200);\n  --jp-border-radius: 2px;\n\n  /* UI Fonts\n   *\n   * The UI font CSS variables are used for the typography all of the JupyterLab\n   * user interface elements that are not directly user generated content.\n   *\n   * The font sizing here is done assuming that the body font size of --jp-ui-font-size1\n   * is applied to a parent element. When children elements, such as headings, are sized\n   * in em all things will be computed relative to that body size.\n   */\n\n  --jp-ui-font-scale-factor: 1.2;\n  --jp-ui-font-size0: 0.83333em;\n  --jp-ui-font-size1: 13px; /* Base font size */\n  --jp-ui-font-size2: 1.2em;\n  --jp-ui-font-size3: 1.44em;\n\n  --jp-ui-font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica,\n    Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';\n\n  /*\n   * Use these font colors against the corresponding main layout colors.\n   * In a light theme, these go from dark to light.\n   */\n\n  /* Defaults use Material Design specification */\n  --jp-ui-font-color0: rgba(0, 0, 0, 1);\n  --jp-ui-font-color1: rgba(0, 0, 0, 0.87);\n  --jp-ui-font-color2: rgba(0, 0, 0, 0.54);\n  --jp-ui-font-color3: rgba(0, 0, 0, 0.38);\n\n  /*\n   * Use these against the brand/accent/warn/error colors.\n   * These will typically go from light to darker, in both a dark and light theme.\n   */\n\n  --jp-ui-inverse-font-color0: rgba(255, 255, 255, 1);\n  --jp-ui-inverse-font-color1: rgba(255, 255, 255, 1);\n  --jp-ui-inverse-font-color2: rgba(255, 255, 255, 0.7);\n  --jp-ui-inverse-font-color3: rgba(255, 255, 255, 0.5);\n\n  /* Content Fonts\n   *\n   * Content font variables are used for typography of user generated content.\n   *\n   * The font sizing here is done assuming that the body font size of --jp-content-font-size1\n   * is applied to a parent element. When children elements, such as headings, are sized\n   * in em all things will be computed relative to that body size.\n   */\n\n  --jp-content-line-height: 1.6;\n  --jp-content-font-scale-factor: 1.2;\n  --jp-content-font-size0: 0.83333em;\n  --jp-content-font-size1: 14px; /* Base font size */\n  --jp-content-font-size2: 1.2em;\n  --jp-content-font-size3: 1.44em;\n  --jp-content-font-size4: 1.728em;\n  --jp-content-font-size5: 2.0736em;\n\n  /* This gives a magnification of about 125% in presentation mode over normal. */\n  --jp-content-presentation-font-size1: 17px;\n\n  --jp-content-heading-line-height: 1;\n  --jp-content-heading-margin-top: 1.2em;\n  --jp-content-heading-margin-bottom: 0.8em;\n  --jp-content-heading-font-weight: 500;\n\n  /* Defaults use Material Design specification */\n  --jp-content-font-color0: rgba(0, 0, 0, 1);\n  --jp-content-font-color1: rgba(0, 0, 0, 0.87);\n  --jp-content-font-color2: rgba(0, 0, 0, 0.54);\n  --jp-content-font-color3: rgba(0, 0, 0, 0.38);\n\n  --jp-content-link-color: var(--md-blue-700);\n\n  --jp-content-font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI',\n    Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',\n    'Segoe UI Symbol';\n\n  /*\n   * Code Fonts\n   *\n   * Code font variables are used for typography of code and other monospaces content.\n   */\n\n  --jp-code-font-size: 13px;\n  --jp-code-line-height: 1.3077; /* 17px for 13px base */\n  --jp-code-padding: 5px; /* 5px for 13px base, codemirror highlighting needs integer px value */\n  --jp-code-font-family-default: Menlo, Consolas, 'DejaVu Sans Mono', monospace;\n  --jp-code-font-family: var(--jp-code-font-family-default);\n\n  /* This gives a magnification of about 125% in presentation mode over normal. */\n  --jp-code-presentation-font-size: 16px;\n\n  /* may need to tweak cursor width if you change font size */\n  --jp-code-cursor-width0: 1.4px;\n  --jp-code-cursor-width1: 2px;\n  --jp-code-cursor-width2: 4px;\n\n  /* Layout\n   *\n   * The following are the main layout colors use in JupyterLab. In a light\n   * theme these would go from light to dark.\n   */\n\n  --jp-layout-color0: white;\n  --jp-layout-color1: white;\n  --jp-layout-color2: var(--md-grey-200);\n  --jp-layout-color3: var(--md-grey-400);\n  --jp-layout-color4: var(--md-grey-600);\n\n  /* Inverse Layout\n   *\n   * The following are the inverse layout colors use in JupyterLab. In a light\n   * theme these would go from dark to light.\n   */\n\n  --jp-inverse-layout-color0: #111111;\n  --jp-inverse-layout-color1: var(--md-grey-900);\n  --jp-inverse-layout-color2: var(--md-grey-800);\n  --jp-inverse-layout-color3: var(--md-grey-700);\n  --jp-inverse-layout-color4: var(--md-grey-600);\n\n  /* Brand/accent */\n\n  --jp-brand-color0: var(--md-blue-900);\n  --jp-brand-color1: var(--md-blue-700);\n  --jp-brand-color2: var(--md-blue-300);\n  --jp-brand-color3: var(--md-blue-100);\n  --jp-brand-color4: var(--md-blue-50);\n\n  --jp-accent-color0: var(--md-green-900);\n  --jp-accent-color1: var(--md-green-700);\n  --jp-accent-color2: var(--md-green-300);\n  --jp-accent-color3: var(--md-green-100);\n\n  /* State colors (warn, error, success, info) */\n\n  --jp-warn-color0: var(--md-orange-900);\n  --jp-warn-color1: var(--md-orange-700);\n  --jp-warn-color2: var(--md-orange-300);\n  --jp-warn-color3: var(--md-orange-100);\n\n  --jp-error-color0: var(--md-red-900);\n  --jp-error-color1: var(--md-red-700);\n  --jp-error-color2: var(--md-red-300);\n  --jp-error-color3: var(--md-red-100);\n\n  --jp-success-color0: var(--md-green-900);\n  --jp-success-color1: var(--md-green-700);\n  --jp-success-color2: var(--md-green-300);\n  --jp-success-color3: var(--md-green-100);\n\n  --jp-info-color0: var(--md-cyan-900);\n  --jp-info-color1: var(--md-cyan-700);\n  --jp-info-color2: var(--md-cyan-300);\n  --jp-info-color3: var(--md-cyan-100);\n\n  /* Cell specific styles */\n\n  --jp-cell-padding: 5px;\n\n  --jp-cell-collapser-width: 8px;\n  --jp-cell-collapser-min-height: 20px;\n  --jp-cell-collapser-not-active-hover-opacity: 0.6;\n\n  --jp-cell-editor-background: var(--md-grey-100);\n  --jp-cell-editor-border-color: var(--md-grey-300);\n  --jp-cell-editor-box-shadow: inset 0 0 2px var(--md-blue-300);\n  --jp-cell-editor-active-background: var(--jp-layout-color0);\n  --jp-cell-editor-active-border-color: var(--jp-brand-color1);\n\n  --jp-cell-prompt-width: 64px;\n  --jp-cell-prompt-font-family: var(--jp-code-font-family-default);\n  --jp-cell-prompt-letter-spacing: 0px;\n  --jp-cell-prompt-opacity: 1;\n  --jp-cell-prompt-not-active-opacity: 0.5;\n  --jp-cell-prompt-not-active-font-color: var(--md-grey-700);\n  /* A custom blend of MD grey and blue 600\n   * See https://meyerweb.com/eric/tools/color-blend/#546E7A:1E88E5:5:hex */\n  --jp-cell-inprompt-font-color: #307fc1;\n  /* A custom blend of MD grey and orange 600\n   * https://meyerweb.com/eric/tools/color-blend/#546E7A:F4511E:5:hex */\n  --jp-cell-outprompt-font-color: #bf5b3d;\n\n  /* Notebook specific styles */\n\n  --jp-notebook-padding: 10px;\n  --jp-notebook-select-background: var(--jp-layout-color1);\n  --jp-notebook-multiselected-color: var(--md-blue-50);\n\n  /* The scroll padding is calculated to fill enough space at the bottom of the\n  notebook to show one single-line cell (with appropriate padding) at the top\n  when the notebook is scrolled all the way to the bottom. We also subtract one\n  pixel so that no scrollbar appears if we have just one single-line cell in the\n  notebook. This padding is to enable a 'scroll past end' feature in a notebook.\n  */\n  --jp-notebook-scroll-padding: calc(\n    100% - var(--jp-code-font-size) * var(--jp-code-line-height) -\n      var(--jp-code-padding) - var(--jp-cell-padding) - 1px\n  );\n\n  /* Rendermime styles */\n\n  --jp-rendermime-error-background: #fdd;\n  --jp-rendermime-table-row-background: var(--md-grey-100);\n  --jp-rendermime-table-row-hover-background: var(--md-light-blue-50);\n\n  /* Dialog specific styles */\n\n  --jp-dialog-background: rgba(0, 0, 0, 0.25);\n\n  /* Console specific styles */\n\n  --jp-console-padding: 10px;\n\n  /* Toolbar specific styles */\n\n  --jp-toolbar-border-color: var(--jp-border-color1);\n  --jp-toolbar-micro-height: 8px;\n  --jp-toolbar-background: var(--jp-layout-color1);\n  --jp-toolbar-box-shadow: 0px 0px 2px 0px rgba(0, 0, 0, 0.24);\n  --jp-toolbar-header-margin: 4px 4px 0px 4px;\n  --jp-toolbar-active-background: var(--md-grey-300);\n\n  /* Statusbar specific styles */\n\n  --jp-statusbar-height: 24px;\n\n  /* Input field styles */\n\n  --jp-input-box-shadow: inset 0 0 2px var(--md-blue-300);\n  --jp-input-active-background: var(--jp-layout-color1);\n  --jp-input-hover-background: var(--jp-layout-color1);\n  --jp-input-background: var(--md-grey-100);\n  --jp-input-border-color: var(--jp-border-color1);\n  --jp-input-active-border-color: var(--jp-brand-color1);\n  --jp-input-active-box-shadow-color: rgba(19, 124, 189, 0.3);\n\n  /* General editor styles */\n\n  --jp-editor-selected-background: #d9d9d9;\n  --jp-editor-selected-focused-background: #d7d4f0;\n  --jp-editor-cursor-color: var(--jp-ui-font-color0);\n\n  /* Code mirror specific styles */\n\n  --jp-mirror-editor-keyword-color: #008000;\n  --jp-mirror-editor-atom-color: #88f;\n  --jp-mirror-editor-number-color: #080;\n  --jp-mirror-editor-def-color: #00f;\n  --jp-mirror-editor-variable-color: var(--md-grey-900);\n  --jp-mirror-editor-variable-2-color: #05a;\n  --jp-mirror-editor-variable-3-color: #085;\n  --jp-mirror-editor-punctuation-color: #05a;\n  --jp-mirror-editor-property-color: #05a;\n  --jp-mirror-editor-operator-color: #aa22ff;\n  --jp-mirror-editor-comment-color: #408080;\n  --jp-mirror-editor-string-color: #ba2121;\n  --jp-mirror-editor-string-2-color: #708;\n  --jp-mirror-editor-meta-color: #aa22ff;\n  --jp-mirror-editor-qualifier-color: #555;\n  --jp-mirror-editor-builtin-color: #008000;\n  --jp-mirror-editor-bracket-color: #997;\n  --jp-mirror-editor-tag-color: #170;\n  --jp-mirror-editor-attribute-color: #00c;\n  --jp-mirror-editor-header-color: blue;\n  --jp-mirror-editor-quote-color: #090;\n  --jp-mirror-editor-link-color: #00c;\n  --jp-mirror-editor-error-color: #f00;\n  --jp-mirror-editor-hr-color: #999;\n\n  /* Vega extension styles */\n\n  --jp-vega-background: white;\n\n  /* Sidebar-related styles */\n\n  --jp-sidebar-min-width: 250px;\n\n  /* Search-related styles */\n\n  --jp-search-toggle-off-opacity: 0.5;\n  --jp-search-toggle-hover-opacity: 0.8;\n  --jp-search-toggle-on-opacity: 1;\n  --jp-search-selected-match-background-color: rgb(245, 200, 0);\n  --jp-search-selected-match-color: black;\n  --jp-search-unselected-match-background-color: var(\n    --jp-inverse-layout-color0\n  );\n  --jp-search-unselected-match-color: var(--jp-ui-inverse-font-color0);\n\n  /* Icon colors that work well with light or dark backgrounds */\n  --jp-icon-contrast-color0: var(--md-purple-600);\n  --jp-icon-contrast-color1: var(--md-green-600);\n  --jp-icon-contrast-color2: var(--md-pink-600);\n  --jp-icon-contrast-color3: var(--md-blue-600);\n}\n"},1763:()=>{},8173:()=>{},3600:t=>{t.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},9323:t=>{t.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Abreve":"Ă","abreve":"ă","ac":"∾","acd":"∿","acE":"∾̳","Acirc":"Â","acirc":"â","acute":"´","Acy":"А","acy":"а","AElig":"Æ","aelig":"æ","af":"⁡","Afr":"𝔄","afr":"𝔞","Agrave":"À","agrave":"à","alefsym":"ℵ","aleph":"ℵ","Alpha":"Α","alpha":"α","Amacr":"Ā","amacr":"ā","amalg":"⨿","amp":"&","AMP":"&","andand":"⩕","And":"⩓","and":"∧","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angmsd":"∡","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","Aogon":"Ą","aogon":"ą","Aopf":"𝔸","aopf":"𝕒","apacir":"⩯","ap":"≈","apE":"⩰","ape":"≊","apid":"≋","apos":"\'","ApplyFunction":"⁡","approx":"≈","approxeq":"≊","Aring":"Å","aring":"å","Ascr":"𝒜","ascr":"𝒶","Assign":"≔","ast":"*","asymp":"≈","asympeq":"≍","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","awconint":"∳","awint":"⨑","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","Backslash":"∖","Barv":"⫧","barvee":"⊽","barwed":"⌅","Barwed":"⌆","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","Bcy":"Б","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","Because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","Bernoullis":"ℬ","Beta":"Β","beta":"β","beth":"ℶ","between":"≬","Bfr":"𝔅","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bNot":"⫭","bnot":"⌐","Bopf":"𝔹","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxbox":"⧉","boxdl":"┐","boxdL":"╕","boxDl":"╖","boxDL":"╗","boxdr":"┌","boxdR":"╒","boxDr":"╓","boxDR":"╔","boxh":"─","boxH":"═","boxhd":"┬","boxHd":"╤","boxhD":"╥","boxHD":"╦","boxhu":"┴","boxHu":"╧","boxhU":"╨","boxHU":"╩","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxul":"┘","boxuL":"╛","boxUl":"╜","boxUL":"╝","boxur":"└","boxuR":"╘","boxUr":"╙","boxUR":"╚","boxv":"│","boxV":"║","boxvh":"┼","boxvH":"╪","boxVh":"╫","boxVH":"╬","boxvl":"┤","boxvL":"╡","boxVl":"╢","boxVL":"╣","boxvr":"├","boxvR":"╞","boxVr":"╟","boxVR":"╠","bprime":"‵","breve":"˘","Breve":"˘","brvbar":"¦","bscr":"𝒷","Bscr":"ℬ","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsolb":"⧅","bsol":"\\\\","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","Bumpeq":"≎","bumpeq":"≏","Cacute":"Ć","cacute":"ć","capand":"⩄","capbrcup":"⩉","capcap":"⩋","cap":"∩","Cap":"⋒","capcup":"⩇","capdot":"⩀","CapitalDifferentialD":"ⅅ","caps":"∩︀","caret":"⁁","caron":"ˇ","Cayleys":"ℭ","ccaps":"⩍","Ccaron":"Č","ccaron":"č","Ccedil":"Ç","ccedil":"ç","Ccirc":"Ĉ","ccirc":"ĉ","Cconint":"∰","ccups":"⩌","ccupssm":"⩐","Cdot":"Ċ","cdot":"ċ","cedil":"¸","Cedilla":"¸","cemptyv":"⦲","cent":"¢","centerdot":"·","CenterDot":"·","cfr":"𝔠","Cfr":"ℭ","CHcy":"Ч","chcy":"ч","check":"✓","checkmark":"✓","Chi":"Χ","chi":"χ","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","CircleDot":"⊙","circledR":"®","circledS":"Ⓢ","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","cir":"○","cirE":"⧃","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","clubs":"♣","clubsuit":"♣","colon":":","Colon":"∷","Colone":"⩴","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","Congruent":"≡","conint":"∮","Conint":"∯","ContourIntegral":"∮","copf":"𝕔","Copf":"ℂ","coprod":"∐","Coproduct":"∐","copy":"©","COPY":"©","copysr":"℗","CounterClockwiseContourIntegral":"∳","crarr":"↵","cross":"✗","Cross":"⨯","Cscr":"𝒞","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cupbrcap":"⩈","cupcap":"⩆","CupCap":"≍","cup":"∪","Cup":"⋓","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dagger":"†","Dagger":"‡","daleth":"ℸ","darr":"↓","Darr":"↡","dArr":"⇓","dash":"‐","Dashv":"⫤","dashv":"⊣","dbkarow":"⤏","dblac":"˝","Dcaron":"Ď","dcaron":"ď","Dcy":"Д","dcy":"д","ddagger":"‡","ddarr":"⇊","DD":"ⅅ","dd":"ⅆ","DDotrahd":"⤑","ddotseq":"⩷","deg":"°","Del":"∇","Delta":"Δ","delta":"δ","demptyv":"⦱","dfisht":"⥿","Dfr":"𝔇","dfr":"𝔡","dHar":"⥥","dharl":"⇃","dharr":"⇂","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","diam":"⋄","diamond":"⋄","Diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","DifferentialD":"ⅆ","digamma":"ϝ","disin":"⋲","div":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","DJcy":"Ђ","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","Dopf":"𝔻","dopf":"𝕕","Dot":"¨","dot":"˙","DotDot":"⃜","doteq":"≐","doteqdot":"≑","DotEqual":"≐","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrowBar":"⤓","downarrow":"↓","DownArrow":"↓","Downarrow":"⇓","DownArrowUpArrow":"⇵","DownBreve":"̑","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVectorBar":"⥖","DownLeftVector":"↽","DownRightTeeVector":"⥟","DownRightVectorBar":"⥗","DownRightVector":"⇁","DownTeeArrow":"↧","DownTee":"⊤","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","Dscr":"𝒟","dscr":"𝒹","DScy":"Ѕ","dscy":"ѕ","dsol":"⧶","Dstrok":"Đ","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","DZcy":"Џ","dzcy":"џ","dzigrarr":"⟿","Eacute":"É","eacute":"é","easter":"⩮","Ecaron":"Ě","ecaron":"ě","Ecirc":"Ê","ecirc":"ê","ecir":"≖","ecolon":"≕","Ecy":"Э","ecy":"э","eDDot":"⩷","Edot":"Ė","edot":"ė","eDot":"≑","ee":"ⅇ","efDot":"≒","Efr":"𝔈","efr":"𝔢","eg":"⪚","Egrave":"È","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","Element":"∈","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","Emacr":"Ē","emacr":"ē","empty":"∅","emptyset":"∅","EmptySmallSquare":"◻","emptyv":"∅","EmptyVerySmallSquare":"▫","emsp13":" ","emsp14":" ","emsp":" ","ENG":"Ŋ","eng":"ŋ","ensp":" ","Eogon":"Ę","eogon":"ę","Eopf":"𝔼","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","Epsilon":"Ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","Equal":"⩵","equals":"=","EqualTilde":"≂","equest":"≟","Equilibrium":"⇌","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erarr":"⥱","erDot":"≓","escr":"ℯ","Escr":"ℰ","esdot":"≐","Esim":"⩳","esim":"≂","Eta":"Η","eta":"η","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","euro":"€","excl":"!","exist":"∃","Exists":"∃","expectation":"ℰ","exponentiale":"ⅇ","ExponentialE":"ⅇ","fallingdotseq":"≒","Fcy":"Ф","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","Ffr":"𝔉","ffr":"𝔣","filig":"ﬁ","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","Fopf":"𝔽","fopf":"𝕗","forall":"∀","ForAll":"∀","fork":"⋔","forkv":"⫙","Fouriertrf":"ℱ","fpartint":"⨍","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","Fscr":"ℱ","gacute":"ǵ","Gamma":"Γ","gamma":"γ","Gammad":"Ϝ","gammad":"ϝ","gap":"⪆","Gbreve":"Ğ","gbreve":"ğ","Gcedil":"Ģ","Gcirc":"Ĝ","gcirc":"ĝ","Gcy":"Г","gcy":"г","Gdot":"Ġ","gdot":"ġ","ge":"≥","gE":"≧","gEl":"⪌","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","gescc":"⪩","ges":"⩾","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","Gfr":"𝔊","gfr":"𝔤","gg":"≫","Gg":"⋙","ggg":"⋙","gimel":"ℷ","GJcy":"Ѓ","gjcy":"ѓ","gla":"⪥","gl":"≷","glE":"⪒","glj":"⪤","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gnE":"≩","gneq":"⪈","gneqq":"≩","gnsim":"⋧","Gopf":"𝔾","gopf":"𝕘","grave":"`","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","gtcc":"⪧","gtcir":"⩺","gt":">","GT":">","Gt":"≫","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","Hacek":"ˇ","hairsp":" ","half":"½","hamilt":"ℋ","HARDcy":"Ъ","hardcy":"ъ","harrcir":"⥈","harr":"↔","hArr":"⇔","harrw":"↭","Hat":"^","hbar":"ℏ","Hcirc":"Ĥ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","Hfr":"ℌ","HilbertSpace":"ℋ","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","Hopf":"ℍ","horbar":"―","HorizontalLine":"─","hscr":"𝒽","Hscr":"ℋ","hslash":"ℏ","Hstrok":"Ħ","hstrok":"ħ","HumpDownHump":"≎","HumpEqual":"≏","hybull":"⁃","hyphen":"‐","Iacute":"Í","iacute":"í","ic":"⁣","Icirc":"Î","icirc":"î","Icy":"И","icy":"и","Idot":"İ","IEcy":"Е","iecy":"е","iexcl":"¡","iff":"⇔","ifr":"𝔦","Ifr":"ℑ","Igrave":"Ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","IJlig":"Ĳ","ijlig":"ĳ","Imacr":"Ī","imacr":"ī","image":"ℑ","ImaginaryI":"ⅈ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","Im":"ℑ","imof":"⊷","imped":"Ƶ","Implies":"⇒","incare":"℅","in":"∈","infin":"∞","infintie":"⧝","inodot":"ı","intcal":"⊺","int":"∫","Int":"∬","integers":"ℤ","Integral":"∫","intercal":"⊺","Intersection":"⋂","intlarhk":"⨗","intprod":"⨼","InvisibleComma":"⁣","InvisibleTimes":"⁢","IOcy":"Ё","iocy":"ё","Iogon":"Į","iogon":"į","Iopf":"𝕀","iopf":"𝕚","Iota":"Ι","iota":"ι","iprod":"⨼","iquest":"¿","iscr":"𝒾","Iscr":"ℐ","isin":"∈","isindot":"⋵","isinE":"⋹","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","Itilde":"Ĩ","itilde":"ĩ","Iukcy":"І","iukcy":"і","Iuml":"Ï","iuml":"ï","Jcirc":"Ĵ","jcirc":"ĵ","Jcy":"Й","jcy":"й","Jfr":"𝔍","jfr":"𝔧","jmath":"ȷ","Jopf":"𝕁","jopf":"𝕛","Jscr":"𝒥","jscr":"𝒿","Jsercy":"Ј","jsercy":"ј","Jukcy":"Є","jukcy":"є","Kappa":"Κ","kappa":"κ","kappav":"ϰ","Kcedil":"Ķ","kcedil":"ķ","Kcy":"К","kcy":"к","Kfr":"𝔎","kfr":"𝔨","kgreen":"ĸ","KHcy":"Х","khcy":"х","KJcy":"Ќ","kjcy":"ќ","Kopf":"𝕂","kopf":"𝕜","Kscr":"𝒦","kscr":"𝓀","lAarr":"⇚","Lacute":"Ĺ","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","Lambda":"Λ","lambda":"λ","lang":"⟨","Lang":"⟪","langd":"⦑","langle":"⟨","lap":"⪅","Laplacetrf":"ℒ","laquo":"«","larrb":"⇤","larrbfs":"⤟","larr":"←","Larr":"↞","lArr":"⇐","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","latail":"⤙","lAtail":"⤛","lat":"⪫","late":"⪭","lates":"⪭︀","lbarr":"⤌","lBarr":"⤎","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","Lcaron":"Ľ","lcaron":"ľ","Lcedil":"Ļ","lcedil":"ļ","lceil":"⌈","lcub":"{","Lcy":"Л","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","lE":"≦","LeftAngleBracket":"⟨","LeftArrowBar":"⇤","leftarrow":"←","LeftArrow":"←","Leftarrow":"⇐","LeftArrowRightArrow":"⇆","leftarrowtail":"↢","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVectorBar":"⥙","LeftDownVector":"⇃","LeftFloor":"⌊","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","LeftRightArrow":"↔","Leftrightarrow":"⇔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","LeftRightVector":"⥎","LeftTeeArrow":"↤","LeftTee":"⊣","LeftTeeVector":"⥚","leftthreetimes":"⋋","LeftTriangleBar":"⧏","LeftTriangle":"⊲","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVectorBar":"⥘","LeftUpVector":"↿","LeftVectorBar":"⥒","LeftVector":"↼","lEg":"⪋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","lescc":"⪨","les":"⩽","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","lessgtr":"≶","LessLess":"⪡","lesssim":"≲","LessSlantEqual":"⩽","LessTilde":"≲","lfisht":"⥼","lfloor":"⌊","Lfr":"𝔏","lfr":"𝔩","lg":"≶","lgE":"⪑","lHar":"⥢","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","LJcy":"Љ","ljcy":"љ","llarr":"⇇","ll":"≪","Ll":"⋘","llcorner":"⌞","Lleftarrow":"⇚","llhard":"⥫","lltri":"◺","Lmidot":"Ŀ","lmidot":"ŀ","lmoustache":"⎰","lmoust":"⎰","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lnE":"≨","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","LongLeftArrow":"⟵","Longleftarrow":"⟸","longleftrightarrow":"⟷","LongLeftRightArrow":"⟷","Longleftrightarrow":"⟺","longmapsto":"⟼","longrightarrow":"⟶","LongRightArrow":"⟶","Longrightarrow":"⟹","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","Lopf":"𝕃","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","LowerLeftArrow":"↙","LowerRightArrow":"↘","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","Lscr":"ℒ","lsh":"↰","Lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","Lstrok":"Ł","lstrok":"ł","ltcc":"⪦","ltcir":"⩹","lt":"<","LT":"<","Lt":"≪","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltri":"◃","ltrie":"⊴","ltrif":"◂","ltrPar":"⦖","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","macr":"¯","male":"♂","malt":"✠","maltese":"✠","Map":"⤅","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","Mcy":"М","mcy":"м","mdash":"—","mDDot":"∺","measuredangle":"∡","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","mfr":"𝔪","mho":"℧","micro":"µ","midast":"*","midcir":"⫰","mid":"∣","middot":"·","minusb":"⊟","minus":"−","minusd":"∸","minusdu":"⨪","MinusPlus":"∓","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","Mopf":"𝕄","mopf":"𝕞","mp":"∓","mscr":"𝓂","Mscr":"ℳ","mstpos":"∾","Mu":"Μ","mu":"μ","multimap":"⊸","mumap":"⊸","nabla":"∇","Nacute":"Ń","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natural":"♮","naturals":"ℕ","natur":"♮","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","Ncaron":"Ň","ncaron":"ň","Ncedil":"Ņ","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","Ncy":"Н","ncy":"н","ndash":"–","nearhk":"⤤","nearr":"↗","neArr":"⇗","nearrow":"↗","ne":"≠","nedot":"≐̸","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","nequiv":"≢","nesear":"⤨","nesim":"≂̸","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","nexist":"∄","nexists":"∄","Nfr":"𝔑","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","nGg":"⋙̸","ngsim":"≵","nGt":"≫⃒","ngt":"≯","ngtr":"≯","nGtv":"≫̸","nharr":"↮","nhArr":"⇎","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","NJcy":"Њ","njcy":"њ","nlarr":"↚","nlArr":"⇍","nldr":"‥","nlE":"≦̸","nle":"≰","nleftarrow":"↚","nLeftarrow":"⇍","nleftrightarrow":"↮","nLeftrightarrow":"⇎","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nLl":"⋘̸","nlsim":"≴","nLt":"≪⃒","nlt":"≮","nltri":"⋪","nltrie":"⋬","nLtv":"≪̸","nmid":"∤","NoBreak":"⁠","NonBreakingSpace":" ","nopf":"𝕟","Nopf":"ℕ","Not":"⫬","not":"¬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","notin":"∉","notindot":"⋵̸","notinE":"⋹̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","NotLeftTriangleBar":"⧏̸","NotLeftTriangle":"⋪","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangleBar":"⧐̸","NotRightTriangle":"⋫","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","nparallel":"∦","npar":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","nprec":"⊀","npreceq":"⪯̸","npre":"⪯̸","nrarrc":"⤳̸","nrarr":"↛","nrArr":"⇏","nrarrw":"↝̸","nrightarrow":"↛","nRightarrow":"⇏","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","Nscr":"𝒩","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","Ntilde":"Ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","Nu":"Ν","nu":"ν","num":"#","numero":"№","numsp":" ","nvap":"≍⃒","nvdash":"⊬","nvDash":"⊭","nVdash":"⊮","nVDash":"⊯","nvge":"≥⃒","nvgt":">⃒","nvHarr":"⤄","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwarhk":"⤣","nwarr":"↖","nwArr":"⇖","nwarrow":"↖","nwnear":"⤧","Oacute":"Ó","oacute":"ó","oast":"⊛","Ocirc":"Ô","ocirc":"ô","ocir":"⊚","Ocy":"О","ocy":"о","odash":"⊝","Odblac":"Ő","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","OElig":"Œ","oelig":"œ","ofcir":"⦿","Ofr":"𝔒","ofr":"𝔬","ogon":"˛","Ograve":"Ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","Omacr":"Ō","omacr":"ō","Omega":"Ω","omega":"ω","Omicron":"Ο","omicron":"ο","omid":"⦶","ominus":"⊖","Oopf":"𝕆","oopf":"𝕠","opar":"⦷","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","operp":"⦹","oplus":"⊕","orarr":"↻","Or":"⩔","or":"∨","ord":"⩝","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oS":"Ⓢ","Oscr":"𝒪","oscr":"ℴ","Oslash":"Ø","oslash":"ø","osol":"⊘","Otilde":"Õ","otilde":"õ","otimesas":"⨶","Otimes":"⨷","otimes":"⊗","Ouml":"Ö","ouml":"ö","ovbar":"⌽","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","para":"¶","parallel":"∥","par":"∥","parsim":"⫳","parsl":"⫽","part":"∂","PartialD":"∂","Pcy":"П","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","Pfr":"𝔓","pfr":"𝔭","Phi":"Φ","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","Pi":"Π","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plus":"+","plusdo":"∔","plusdu":"⨥","pluse":"⩲","PlusMinus":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","Poincareplane":"ℌ","pointint":"⨕","popf":"𝕡","Popf":"ℙ","pound":"£","prap":"⪷","Pr":"⪻","pr":"≺","prcue":"≼","precapprox":"⪷","prec":"≺","preccurlyeq":"≼","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","pre":"⪯","prE":"⪳","precsim":"≾","prime":"′","Prime":"″","primes":"ℙ","prnap":"⪹","prnE":"⪵","prnsim":"⋨","prod":"∏","Product":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","Proportional":"∝","Proportion":"∷","propto":"∝","prsim":"≾","prurel":"⊰","Pscr":"𝒫","pscr":"𝓅","Psi":"Ψ","psi":"ψ","puncsp":" ","Qfr":"𝔔","qfr":"𝔮","qint":"⨌","qopf":"𝕢","Qopf":"ℚ","qprime":"⁗","Qscr":"𝒬","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quot":"\\"","QUOT":"\\"","rAarr":"⇛","race":"∽̱","Racute":"Ŕ","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","Rang":"⟫","rangd":"⦒","range":"⦥","rangle":"⟩","raquo":"»","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarr":"→","Rarr":"↠","rArr":"⇒","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","Rarrtl":"⤖","rarrtl":"↣","rarrw":"↝","ratail":"⤚","rAtail":"⤜","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rBarr":"⤏","RBarr":"⤐","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","Rcaron":"Ř","rcaron":"ř","Rcedil":"Ŗ","rcedil":"ŗ","rceil":"⌉","rcub":"}","Rcy":"Р","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","Re":"ℜ","rect":"▭","reg":"®","REG":"®","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","Rfr":"ℜ","rHar":"⥤","rhard":"⇁","rharu":"⇀","rharul":"⥬","Rho":"Ρ","rho":"ρ","rhov":"ϱ","RightAngleBracket":"⟩","RightArrowBar":"⇥","rightarrow":"→","RightArrow":"→","Rightarrow":"⇒","RightArrowLeftArrow":"⇄","rightarrowtail":"↣","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVectorBar":"⥕","RightDownVector":"⇂","RightFloor":"⌋","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","RightTeeArrow":"↦","RightTee":"⊢","RightTeeVector":"⥛","rightthreetimes":"⋌","RightTriangleBar":"⧐","RightTriangle":"⊳","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVectorBar":"⥔","RightUpVector":"↾","RightVectorBar":"⥓","RightVector":"⇀","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoustache":"⎱","rmoust":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","Ropf":"ℝ","roplus":"⨮","rotimes":"⨵","RoundImplies":"⥰","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","Rrightarrow":"⇛","rsaquo":"›","rscr":"𝓇","Rscr":"ℛ","rsh":"↱","Rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","RuleDelayed":"⧴","ruluhar":"⥨","rx":"℞","Sacute":"Ś","sacute":"ś","sbquo":"‚","scap":"⪸","Scaron":"Š","scaron":"š","Sc":"⪼","sc":"≻","sccue":"≽","sce":"⪰","scE":"⪴","Scedil":"Ş","scedil":"ş","Scirc":"Ŝ","scirc":"ŝ","scnap":"⪺","scnE":"⪶","scnsim":"⋩","scpolint":"⨓","scsim":"≿","Scy":"С","scy":"с","sdotb":"⊡","sdot":"⋅","sdote":"⩦","searhk":"⤥","searr":"↘","seArr":"⇘","searrow":"↘","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","Sfr":"𝔖","sfr":"𝔰","sfrown":"⌢","sharp":"♯","SHCHcy":"Щ","shchcy":"щ","SHcy":"Ш","shcy":"ш","ShortDownArrow":"↓","ShortLeftArrow":"←","shortmid":"∣","shortparallel":"∥","ShortRightArrow":"→","ShortUpArrow":"↑","shy":"­","Sigma":"Σ","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","SmallCircle":"∘","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","SOFTcy":"Ь","softcy":"ь","solbar":"⌿","solb":"⧄","sol":"/","Sopf":"𝕊","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","Sqrt":"√","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","square":"□","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","squarf":"▪","squ":"□","squf":"▪","srarr":"→","Sscr":"𝒮","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","Star":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","Sub":"⋐","subdot":"⪽","subE":"⫅","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","Subset":"⋐","subseteq":"⊆","subseteqq":"⫅","SubsetEqual":"⊆","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succapprox":"⪸","succ":"≻","succcurlyeq":"≽","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","SuchThat":"∋","sum":"∑","Sum":"∑","sung":"♪","sup1":"¹","sup2":"²","sup3":"³","sup":"⊃","Sup":"⋑","supdot":"⪾","supdsub":"⫘","supE":"⫆","supe":"⊇","supedot":"⫄","Superset":"⊃","SupersetEqual":"⊇","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","Supset":"⋑","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swarhk":"⤦","swarr":"↙","swArr":"⇙","swarrow":"↙","swnwar":"⤪","szlig":"ß","Tab":"\\t","target":"⌖","Tau":"Τ","tau":"τ","tbrk":"⎴","Tcaron":"Ť","tcaron":"ť","Tcedil":"Ţ","tcedil":"ţ","Tcy":"Т","tcy":"т","tdot":"⃛","telrec":"⌕","Tfr":"𝔗","tfr":"𝔱","there4":"∴","therefore":"∴","Therefore":"∴","Theta":"Θ","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","ThickSpace":"  ","ThinSpace":" ","thinsp":" ","thkap":"≈","thksim":"∼","THORN":"Þ","thorn":"þ","tilde":"˜","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","timesbar":"⨱","timesb":"⊠","times":"×","timesd":"⨰","tint":"∭","toea":"⤨","topbot":"⌶","topcir":"⫱","top":"⊤","Topf":"𝕋","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","TRADE":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","TripleDot":"⃛","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","Tscr":"𝒯","tscr":"𝓉","TScy":"Ц","tscy":"ц","TSHcy":"Ћ","tshcy":"ћ","Tstrok":"Ŧ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","Uacute":"Ú","uacute":"ú","uarr":"↑","Uarr":"↟","uArr":"⇑","Uarrocir":"⥉","Ubrcy":"Ў","ubrcy":"ў","Ubreve":"Ŭ","ubreve":"ŭ","Ucirc":"Û","ucirc":"û","Ucy":"У","ucy":"у","udarr":"⇅","Udblac":"Ű","udblac":"ű","udhar":"⥮","ufisht":"⥾","Ufr":"𝔘","ufr":"𝔲","Ugrave":"Ù","ugrave":"ù","uHar":"⥣","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","Umacr":"Ū","umacr":"ū","uml":"¨","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","uogon":"ų","Uopf":"𝕌","uopf":"𝕦","UpArrowBar":"⤒","uparrow":"↑","UpArrow":"↑","Uparrow":"⇑","UpArrowDownArrow":"⇅","updownarrow":"↕","UpDownArrow":"↕","Updownarrow":"⇕","UpEquilibrium":"⥮","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","UpperLeftArrow":"↖","UpperRightArrow":"↗","upsi":"υ","Upsi":"ϒ","upsih":"ϒ","Upsilon":"Υ","upsilon":"υ","UpTeeArrow":"↥","UpTee":"⊥","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","Uring":"Ů","uring":"ů","urtri":"◹","Uscr":"𝒰","uscr":"𝓊","utdot":"⋰","Utilde":"Ũ","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","Uuml":"Ü","uuml":"ü","uwangle":"⦧","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","vArr":"⇕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vBar":"⫨","Vbar":"⫫","vBarv":"⫩","Vcy":"В","vcy":"в","vdash":"⊢","vDash":"⊨","Vdash":"⊩","VDash":"⊫","Vdashl":"⫦","veebar":"⊻","vee":"∨","Vee":"⋁","veeeq":"≚","vellip":"⋮","verbar":"|","Verbar":"‖","vert":"|","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","Vopf":"𝕍","vopf":"𝕧","vprop":"∝","vrtri":"⊳","Vscr":"𝒱","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","Vvdash":"⊪","vzigzag":"⦚","Wcirc":"Ŵ","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","Wedge":"⋀","wedgeq":"≙","weierp":"℘","Wfr":"𝔚","wfr":"𝔴","Wopf":"𝕎","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","Wscr":"𝒲","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","Xfr":"𝔛","xfr":"𝔵","xharr":"⟷","xhArr":"⟺","Xi":"Ξ","xi":"ξ","xlarr":"⟵","xlArr":"⟸","xmap":"⟼","xnis":"⋻","xodot":"⨀","Xopf":"𝕏","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrarr":"⟶","xrArr":"⟹","Xscr":"𝒳","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","Yacute":"Ý","yacute":"ý","YAcy":"Я","yacy":"я","Ycirc":"Ŷ","ycirc":"ŷ","Ycy":"Ы","ycy":"ы","yen":"¥","Yfr":"𝔜","yfr":"𝔶","YIcy":"Ї","yicy":"ї","Yopf":"𝕐","yopf":"𝕪","Yscr":"𝒴","yscr":"𝓎","YUcy":"Ю","yucy":"ю","yuml":"ÿ","Yuml":"Ÿ","Zacute":"Ź","zacute":"ź","Zcaron":"Ž","zcaron":"ž","Zcy":"З","zcy":"з","Zdot":"Ż","zdot":"ż","zeetrf":"ℨ","ZeroWidthSpace":"​","Zeta":"Ζ","zeta":"ζ","zfr":"𝔷","Zfr":"ℨ","ZHcy":"Ж","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","Zopf":"ℤ","Zscr":"𝒵","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')},9591:t=>{t.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Acirc":"Â","acirc":"â","acute":"´","AElig":"Æ","aelig":"æ","Agrave":"À","agrave":"à","amp":"&","AMP":"&","Aring":"Å","aring":"å","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","brvbar":"¦","Ccedil":"Ç","ccedil":"ç","cedil":"¸","cent":"¢","copy":"©","COPY":"©","curren":"¤","deg":"°","divide":"÷","Eacute":"É","eacute":"é","Ecirc":"Ê","ecirc":"ê","Egrave":"È","egrave":"è","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","frac12":"½","frac14":"¼","frac34":"¾","gt":">","GT":">","Iacute":"Í","iacute":"í","Icirc":"Î","icirc":"î","iexcl":"¡","Igrave":"Ì","igrave":"ì","iquest":"¿","Iuml":"Ï","iuml":"ï","laquo":"«","lt":"<","LT":"<","macr":"¯","micro":"µ","middot":"·","nbsp":" ","not":"¬","Ntilde":"Ñ","ntilde":"ñ","Oacute":"Ó","oacute":"ó","Ocirc":"Ô","ocirc":"ô","Ograve":"Ò","ograve":"ò","ordf":"ª","ordm":"º","Oslash":"Ø","oslash":"ø","Otilde":"Õ","otilde":"õ","Ouml":"Ö","ouml":"ö","para":"¶","plusmn":"±","pound":"£","quot":"\\"","QUOT":"\\"","raquo":"»","reg":"®","REG":"®","sect":"§","shy":"­","sup1":"¹","sup2":"²","sup3":"³","szlig":"ß","THORN":"Þ","thorn":"þ","times":"×","Uacute":"Ú","uacute":"ú","Ucirc":"Û","ucirc":"û","Ugrave":"Ù","ugrave":"ù","uml":"¨","Uuml":"Ü","uuml":"ü","Yacute":"Ý","yacute":"ý","yen":"¥","yuml":"ÿ"}')},2586:t=>{t.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')},8855:t=>{t.exports=JSON.parse('["calm","capable","careful","caring","centered","charismatic","charming","cheerful","cherished","comfortable","communicative","compassionate","confident","conscientious","considerate","content","convivial","courageous","courteous","creative","cute","adaptable","adorable","adored","adventurous","affable","affectionate","agreeable","altruistic","amazing","ambitious","amiable","amicable","amusing","angelic","appreciated","appreciative","authentic","awesome","balanced","beautiful","beloved","beyond-fabulous","blessed","blissful","blithesome","bold","brave","breathtaking","bright","brilliant","broad-minded","daring","dazzling","decisive","dedicated","delightful","desirable","determined","diligent","diplomatic","divine","easygoing","emotional","empathic","empathetic","empowered","enchanted","energetic","energized","enlightened","enlivened","enthusiastic","eternal","excellent","excited","exhilarated","expansive","exquisite","extraordinary","exuberant","fabulous","fair-minded","faithful","fantastic","favorable","fearless","focused","forgiving","fortuitous","free-spirited","friendly","fulfilled","fun-loving","funny","generous","genial","genius","gentle","genuine","giving","glad","glorious","glowing","good","healthy","graceful","gracious","grateful","great","gregarious","grounded","happy-hearted","hard-working","harmonious","heartfull","heartwarming","heavenly","helpful","high-spirited","honest","hopeful","imaginative","impartial","incomparable","incredible","independent","ineffable","innovative","inspirational","inspired","intellectual","intelligent","intuitive","inventive","invigorated","involved","irresistible","jolly","jovial","joyful","joyous","jubilant","juvenescent","kind","kind-hearted","kissable","knowledgeable","lively","lovable","lovely","loving","loyal","lucky","luxurious","magical","magnificent","marvelous","memorable","mind-blowing","mindful","miraculous","mirthful","modest","nice","noble","nurtured","open-hearted","open-minded","optimistic","opulent","original","outstanding","passionate","patient","peaceful","perfect","persistent","philosophical","pioneering","placid","playful","polite","positive","powerful","practical","precious","pro-active","prosperous","quick-witted","radient","rational","receptive","rejuvenated","relaxed","reliable","relieved","remarkable","renewed","reserved","resilient","resourceful","rich","satisfied","secured","self-accepting","self-confident","self-disciplined","self-loving","sensational","sensible","sensitive","serene","shining","shy","sincere","smart","sociable","soulful","spectacular","splendid","stellar","straightforward","strong","stupendous","successful","super","sustained","sympathetic","thoughtful","thrilled","thriving","tidy","tough","tranquil","triumphant","trusting","unassuming","unbelievable","understanding","unique","unlimited","unreal","uplifted","valuable","versatile","vibrant","victorious","vivacious","warm","warmhearted","wealthy","welcomed","wholehearted","willing","wise","witty","wonderful","wondrous","worthy","young-at-heart","youthful","zappy","zestful"]')},8300:t=>{t.exports=JSON.parse('["aardvark","albatross","alligator","alpaca","ant","anteater","antelope","ape","armadillo","donkey","baboon","badger","barracuda","bat","bear","beaver","bee","bison","boar","buffalo","butterfly","camel","capybara","caribou","cassowary","cat","caterpillar","cattle","cheetah","chicken","chimpanzee","chinchilla","clam","cobra","cod","coyote","crab","crane","crocodile","crow","deer","dog","dogfish","dolphin","dotterel","dove","dragonfly","duck","eagle","echidna","eel","elephant","elk","emu","falcon","ferret","finch","fish","flamingo","fly","fox","frog","gazelle","gerbil","giraffe","goat","goldfish","goose","gorilla","grasshopper","hamster","hare","hawk","hedgehog","heron","herring","hippopotamus","horse","human","hummingbird","hyena","ibex","jackal","jaguar","jellyfish","kangaroo","kingfisher","koala","kookabura","lark","lemur","leopard","lion","llama","lobster","loris","lyrebird","magpie","mallard","manatee","mandrill","mantis","meerkat","mink","mole","mongoose","monkey","moose","mouse","mule","narwhal","newt","nightingale","octopus","opossum","ostrich","otter","owl","oyster","panther","parrot","partridge","peafowl","pelican","penguin","pheasant","pigeon","pony","porcupine","porpoise","quail","rabbit","raccoon","ram","rat","raven","red deer","red panda","reindeer","rhinoceros","salamander","salmon","sand dollar","sandpiper","sardine","scorpion","seahorse","seal","shark","sheep","shrew","skunk","snail","snake","sparrow","spider","spoonbill","squid","squirrel","starling","stingray","stork","swallow","swan","termite","tiger","toad","trout","turkey","turtle","viper","wallaby","walrus","wasp","weasel","wildcat","wolf","wolverine","wombat","woodpecker","worm","yak","zebra"]')},3517:t=>{t.exports=JSON.parse('[", you poetic, noble land-mermaid.",", you beautiful, talented, brilliant, powerful muskox.",", you opalescent tree shark.",", you perfect sunflower.",", you rainbow infused space unicorn.",", you beautiful rule-breaking moth.",", you beautiful, naive, sophisticated newborn baby.",", you cunning, pliable, brown-haired sunfish.",", you tricky minx!",", you beautiful spinster, I will find you love.",", you beautiful tropical fish, you\'re smart as a whip, and cool under pressure.",", you beautiful, glowing sun goddess.",", you beautiful, sassy mannequin come to life.",", you beautiful, talented, brilliant, powerful musk-ox.",", you cunning, pliable, chestnut-haired sunfish."]')}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=t=>{var e=t&&t.t?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"t",{value:!0})},(()=>{var t={};__webpack_require__.r(t),__webpack_require__.d(t,{CKCode:()=>Vd,CodeCell:()=>Id}),__webpack_require__(5666),__webpack_require__(6992),__webpack_require__(1539),__webpack_require__(3948),__webpack_require__(285),__webpack_require__(7327),__webpack_require__(4747),__webpack_require__(8674),__webpack_require__(2222),__webpack_require__(9714),__webpack_require__(7042);var e=__webpack_require__(2043),n=__webpack_require__.n(e),i=__webpack_require__(6240),r=__webpack_require__(8007),s=__webpack_require__.n(r);class o{static reg(t){return new RegExp("^"+t+"$","i")}}o.N={integer:"[+-]?[0-9]+",integer_pos:"[+]?[0-9]+",integer_zero_ff:"([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",number:"[+-]?([0-9]*[.])?[0-9]+(e-?[0-9]*)?",number_pos:"[+]?([0-9]*[.])?[0-9]+(e-?[0-9]*)?",number_zero_hundred:"[+]?(([0-9]|[1-9][0-9])([.][0-9]+)?|100)",number_zero_one:"[+]?(1([.][0]+)?|0([.][0-9]+)?)"},o.B={angle:`(${o.N.number}(deg|rad|grad|turn)|0)`,frequency:`${o.N.number}(Hz|kHz)`,ident:String.raw`-?([_a-z]|[\xA0-\xFF]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\xA0-\xFF]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*`,len_or_perc:`(0|${o.N.number}(px|em|rem|ex|in|cm|mm|pt|pc|%))`,length:`(${o.N.number}(px|em|rem|ex|in|cm|mm|pt|pc)|0)`,length_pos:`(${o.N.number_pos}(px|em|rem|ex|in|cm|mm|pt|pc)|0)`,percentage:`${o.N.number}%`,percentage_pos:`${o.N.number_pos}%`,percentage_zero_hundred:`${o.N.number_zero_hundred}%`,string:String.raw`(\"([^\n\r\f\\"]|\\\n|\r\n|\r|\f|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*\")|(\'([^\n\r\f\\']|\\\n|\r\n|\r|\f|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*\')`,time:`${o.N.number}(s|ms)`,url:"url\\(.*?\\)",z_index:"[+-]?[0-9]{1,7}"},o.A={absolute_size:"xx-small|x-small|small|medium|large|x-large|xx-large",attachment:"scroll|fixed|local",bg_origin:"border-box|padding-box|content-box",border_style:"none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset",box:"border-box|padding-box|content-box",display_inside:"auto|block|table|flex|grid",display_outside:"block-level|inline-level|none|table-row-group|table-header-group|table-footer-group|table-row|table-cell|table-column-group|table-column|table-caption",ending_shape:"circle|ellipse",generic_family:"serif|sans-serif|cursive|fantasy|monospace",generic_voice:"male|female|child",relative_size:"smaller|larger",repeat_style:"repeat-x|repeat-y|((?:repeat|space|round|no-repeat)(?:\\s*(?:repeat|space|round|no-repeat))?)",side_or_corner:"(left|right)?\\s*(top|bottom)?",single_animation_direction:"normal|reverse|alternate|alternate-reverse",single_animation_fill_mode:"none|forwards|backwards|both",single_animation_play_state:"running|paused"},o._COLOR={hex:"\\#(0x)?[0-9a-f]+",name:"aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|transparent|violet|wheat|white|whitesmoke|yellow|yellowgreen",rgb:String.raw`rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)`,rgba:String.raw`rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(${o.N.integer_zero_ff}|${o.N.number_zero_one}|${o.B.percentage_zero_hundred})\s*\)`},o._C={alpha:`${o.N.integer_zero_ff}|${o.N.number_zero_one}|${o.B.percentage_zero_hundred}`,alphavalue:o.N.number_zero_one,bg_position:`((${o.B.len_or_perc}|left|center|right|top|bottom)\\s*){1,4}`,bg_size:`(${o.B.length_pos}|${o.B.percentage}|auto){1,2}|cover|contain`,border_width:`thin|medium|thick|${o.B.length}`,bottom:`${o.B.length}|auto`,color:`${o._COLOR.hex}|${o._COLOR.rgb}|${o._COLOR.rgba}|${o._COLOR.name}`,family_name:`${o.B.string}|(${o.B.ident}\\s*)+`,image_decl:o.B.url,left:`${o.B.length}|auto`,loose_quotable_words:`(${o.B.ident})+`,margin_width:`${o.B.len_or_perc}|auto`,padding_width:`${o.B.length_pos}|${o.B.percentage_pos}`,page_url:o.B.url,position:`((${o.B.len_or_perc}|left|center|right|top|bottom)\\s*){1,4}`,right:`${o.B.length}|auto`,shadow:"",size:`closest-side|farthest-side|closest-corner|farthest-corner|${o.B.length}|(${o.B.len_or_perc})\\s+(${o.B.len_or_perc})`,top:`${o.B.length}|auto`},o._C1={image_list:`image\\(\\s*(${o.B.url})*\\s*(${o.B.url}|${o._C.color})\\s*\\)`,shadow:`((${o._C.color})\\s+((${o.B.length})\\s*){2,4}(s+inset)?)|((inset\\s+)?((${o.B.length})\\s*){2,4}\\s*(${o._C.color})?)`},o._C2={bg_image:`(${o.B.url}|${o._C1.image_list})|none`,image:`${o.B.url}|${o._C1.image_list}`,shape:`rect\\(\\s*(${o._C.top})\\s*,\\s*(${o._C.right})\\s*,\\s*(${o._C.bottom})\\s*,\\s*(${o._C.left})\\s*\\)`},o.C=Object.assign(Object.assign(Object.assign({},o._C),o._C1),o._C2),o.AP={border_collapse:"collapse|separate",box:"normal|none|contents",box_sizing:"content-box|padding-box|border-box",caption_side:"top|bottom",clear:"none|left|right|both",direction:"ltr|rtl",empty_cells:"show|hide",float:"left|right|none",font_stretch:"normal|wider|narrower|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",font_style:"normal|italic|oblique",font_variant:"normal|small-caps",font_weight:"normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900",list_style_position:"inside|outside",list_style_type:"disc|circle|square|decimal|decimal-leading-zero|lower-roman|upper-roman|lower-greek|lower-latin|upper-latin|armenian|georgian|lower-alpha|upper-alpha|none",overflow:"visible|hidden|scroll|auto",overflow_wrap:"normal|break-word",overflow_x:"visible|hidden|scroll|auto|no-display|no-content",page_break_after:"auto|always|avoid|left|right",page_break_before:"auto|always|avoid|left|right",page_break_inside:"avoid|auto",position:"static|relative|absolute",resize:"none|both|horizontal|vertical",speak:"normal|none|spell-out",speak_header:"once|always",speak_numeral:"digits|continuous",speak_punctuation:"code|none",table_layout:"auto|fixed",text_align:"left|right|center|justify",text_decoration:"none|((underline|overline|line-through|blink)\\s*)+",text_transform:"capitalize|uppercase|lowercase|none",text_wrap:"normal|unrestricted|none|suppress",unicode_bidi:"normal|embed|bidi-override",visibility:"visible|hidden|collapse",white_space:"normal|pre|nowrap|pre-wrap|pre-line",word_break:"normal|keep-all|break-all"},o._CP={background_attachment:`${o.A.attachment}(,\\s*${o.A.attachment})*`,background_color:o.C.color,background_origin:`${o.A.box}(,\\s*${o.A.box})*`,background_repeat:`${o.A.repeat_style}(,\\s*${o.A.repeat_style})*`,border:`((${o.C.border_width}|${o.A.border_style}|${o.C.color})\\s*){1,3}`,border_radius:`((${o.B.len_or_perc})\\s*){1,4}(\\/\\s*((${o.B.len_or_perc})\\s*){1,4})?`,border_spacing:`${o.B.length}\\s*(${o.B.length})?`,border_top_color:o.C.color,border_top_style:o.A.border_style,border_width:`((${o.C.border_width})\\s*){1,4}`,color:o.C.color,cursor:`(${o.B.url}(\\s*,\\s*)?)*(auto|crosshair|default|pointer|move|e-resize|ne-resize|nw-resize|n-resize|se-resize|sw-resize|s-resize|w-resize|text|wait|help|progress|all-scroll|col-resize|hand|no-drop|not-allowed|row-resize|vertical-text)`,display:`inline|block|list-item|run-in|inline-list-item|inline-block|table|inline-table|table-cell|table-caption|flex|inline-flex|grid|inline-grid|${o.A.display_inside}|${o.A.display_outside}|inherit|inline-box|inline-stack`,display_outside:o.A.display_outside,elevation:`${o.B.angle}|below|level|above|higher|lower`,font_family:`(${o.C.family_name}|${o.A.generic_family})(,\\s*(${o.C.family_name}|${o.A.generic_family}))*`,height:`${o.B.length}|${o.B.percentage}|auto`,letter_spacing:`normal|${o.B.length}`,list_style_image:`${o.C.image}|none`,margin_right:o.C.margin_width,max_height:`${o.B.length_pos}|${o.B.percentage_pos}|none|auto`,min_height:`${o.B.length_pos}|${o.B.percentage_pos}|auto`,opacity:o.C.alphavalue,outline_color:`${o.C.color}|invert`,outline_width:o.C.border_width,padding:`((${o.C.padding_width})\\s*){1,4}`,padding_top:o.C.padding_width,pitch_range:o.N.number,right:`${o.B.length}|${o.B.percentage}|auto`,stress:o.N.number,text_indent:`${o.B.length}|${o.B.percentage}`,text_shadow:`none|${o.C.shadow}(,\\s*(${o.C.shadow}))*`,volume:`${o.N.number_pos}|${o.B.percentage_pos}|silent|x-soft|soft|medium|loud|x-loud`,word_wrap:o.AP.overflow_wrap,zoom:`normal|${o.N.number_pos}|${o.B.percentage_pos}`,backface_visibility:o.AP.visibility,background_clip:`${o.A.box}(,\\s*(${o.A.box}))*`,background_position:`${o.C.bg_position}(,\\s*(${o.C.bg_position}))*`,border_bottom_color:o.C.color,border_bottom_style:o.A.border_style,border_color:`((${o.C.color})\\s*){1,4}`,border_left_color:o.C.color,border_right_color:o.C.color,border_style:`((${o.A.border_style})\\s*){1,4}`,border_top_left_radius:`(${o.B.length}|${o.B.percentage})(\\s*(${o.B.length}|${o.B.percentage}))?`,border_top_width:o.C.border_width,box_shadow:`none|${o.C.shadow}(,\\s*(${o.C.shadow}))*`,clip:`${o.C.shape}|auto`,display_inside:o.A.display_inside,font_size:`${o.A.absolute_size}|${o.A.relative_size}|${o.B.length_pos}|${o.B.percentage_pos}`,line_height:`normal|${o.N.number_pos}|${o.B.length_pos}|${o.B.percentage_pos}`,margin_left:o.C.margin_width,max_width:`${o.B.length_pos}|${o.B.percentage_pos}|none|auto`,outline_style:o.A.border_style,padding_bottom:o.C.padding_width,padding_right:o.C.padding_width,perspective:`none|${o.B.length}`,richness:o.N.number,text_overflow:`((clip|ellipsis|${o.B.string})\\s*){1,2}`,top:`${o.B.length}|${o.B.percentage}|auto`,width:`${o.B.length_pos}|${o.B.percentage_pos}|auto`,z_index:`auto|${o.B.z_index}`,background:`(((${o.C.bg_position}\\s*(\\/\\s*${o.C.bg_size})?)|(${o.A.repeat_style})|(${o.A.attachment})|(${o.A.bg_origin})|(${o.C.bg_image})|(${o.C.color}))\\s*)+`,background_size:`${o.C.bg_size}(,\\s*${o.C.bg_size})*`,border_bottom_left_radius:`(${o.B.length}|${o.B.percentage})(\\s*(${o.B.length}|${o.B.percentage}))?`,border_bottom_width:o.C.border_width,border_left_style:o.A.border_style,border_right_style:o.A.border_style,border_top:`((${o.C.border_width}|${o.A.border_style}|${o.C.color})\\s*){1,3}`,bottom:`${o.B.len_or_perc}|auto`,list_style:`((${o.AP.list_style_type}|${o.AP.list_style_position}|${o.C.image}|none})\\s*){1,3}`,margin_top:o.C.margin_width,outline:`((${o.C.color}|invert|${o.A.border_style}|${o.C.border_width})\\s*){1,3}`,overflow_y:o.AP.overflow_x,pitch:`${o.B.frequency}|x-low|low|medium|high|x-high`,vertical_align:`baseline|sub|super|top|text-top|middle|bottom|text-bottom|${o.B.len_or_perc}`,word_spacing:`normal|${o.B.length}`,background_image:`${o.C.bg_image}(,\\s*${o.C.bg_image})*`,border_bottom_right_radius:`(${o.B.length}|${o.B.percentage})(\\s*(${o.B.length}|${o.B.percentage}))?`,border_left_width:o.C.border_width,border_right_width:o.C.border_width,left:`${o.B.len_or_perc}|auto`,margin_bottom:o.C.margin_width,pause_after:`${o.B.time}|${o.B.percentage}`,speech_rate:`${o.N.number}|x-slow|slow|medium|fast|x-fast|faster|slower`,transition_duration:`${o.B.time}(,\\s*${o.B.time})*`,border_bottom:`((${o.C.border_width}|${o.A.border_style}|${o.C.color})\\s*){1,3}`,border_right:`((${o.C.border_width}|${o.A.border_style}|${o.C.color})\\s*){1,3}`,margin:`((${o.C.margin_width})\\s*){1,4}`,padding_left:o.C.padding_width,border_left:`((${o.C.border_width}|${o.A.border_style}|${o.C.color})\\s*){1,3}`,quotes:`(${o.B.string}\\s*${o.B.string})+|none`,border_top_right_radius:`(${o.B.length}|${o.B.percentage})(\\s*(${o.B.length}|${o.B.percentage}))?`,min_width:`${o.B.length_pos}|${o.B.percentage_pos}|auto`},o._CP1={font:`(((((${o.AP.font_style}|${o.AP.font_variant}|${o.AP.font_weight})\\s*){1,3})?\\s*(${o._CP.font_size})\\s*(\\/\\s*(${o._CP.line_height}))?\\s+(${o._CP.font_family}))|caption|icon|menu|message-box|small-caption|status-bar)`},o.CP=Object.assign(Object.assign({},o._CP),o._CP1),o.BORDER_COLLAPSE=o.reg(o.AP.border_collapse),o.BOX=o.reg(o.AP.box),o.BOX_SIZING=o.reg(o.AP.box_sizing),o.CAPTION_SIDE=o.reg(o.AP.caption_side),o.CLEAR=o.reg(o.AP.clear),o.DIRECTION=o.reg(o.AP.direction),o.EMPTY_CELLS=o.reg(o.AP.empty_cells),o.FLOAT=o.reg(o.AP.float),o.FONT_STRETCH=o.reg(o.AP.font_stretch),o.FONT_STYLE=o.reg(o.AP.font_style),o.FONT_VARIANT=o.reg(o.AP.font_variant),o.FONT_WEIGHT=o.reg(o.AP.font_weight),o.LIST_STYLE_POSITION=o.reg(o.AP.list_style_position),o.LIST_STYLE_TYPE=o.reg(o.AP.list_style_type),o.OVERFLOW=o.reg(o.AP.overflow),o.OVERFLOW_WRAP=o.reg(o.AP.overflow_wrap),o.OVERFLOW_X=o.reg(o.AP.overflow_x),o.PAGE_BREAK_AFTER=o.reg(o.AP.page_break_after),o.PAGE_BREAK_BEFORE=o.reg(o.AP.page_break_before),o.PAGE_BREAK_INSIDE=o.reg(o.AP.page_break_inside),o.POSITION=o.reg(o.AP.position),o.RESIZE=o.reg(o.AP.resize),o.SPEAK=o.reg(o.AP.speak),o.SPEAK_HEADER=o.reg(o.AP.speak_header),o.SPEAK_NUMERAL=o.reg(o.AP.speak_numeral),o.SPEAK_PUNCTUATION=o.reg(o.AP.speak_punctuation),o.TABLE_LAYOUT=o.reg(o.AP.table_layout),o.TEXT_ALIGN=o.reg(o.AP.text_align),o.TEXT_DECORATION=o.reg(o.AP.text_decoration),o.TEXT_TRANSFORM=o.reg(o.AP.text_transform),o.TEXT_WRAP=o.reg(o.AP.text_wrap),o.UNICODE_BIDI=o.reg(o.AP.unicode_bidi),o.VISIBILITY=o.reg(o.AP.visibility),o.WHITE_SPACE=o.reg(o.AP.white_space),o.WORD_BREAK=o.reg(o.AP.word_break),o.BACKGROUND_ATTACHMENT=o.reg(o.CP.background_attachment),o.BACKGROUND_COLOR=o.reg(o.CP.background_color),o.BACKGROUND_ORIGIN=o.reg(o.CP.background_origin),o.BACKGROUND_REPEAT=o.reg(o.CP.background_repeat),o.BORDER=o.reg(o.CP.border),o.BORDER_RADIUS=o.reg(o.CP.border_radius),o.BORDER_SPACING=o.reg(o.CP.border_spacing),o.BORDER_TOP_COLOR=o.reg(o.CP.border_top_color),o.BORDER_TOP_STYLE=o.reg(o.CP.border_top_style),o.BORDER_WIDTH=o.reg(o.CP.border_width),o.COLOR=o.reg(o.CP.color),o.CURSOR=o.reg(o.CP.cursor),o.DISPLAY=o.reg(o.CP.display),o.DISPLAY_OUTSIDE=o.reg(o.CP.display_outside),o.ELEVATION=o.reg(o.CP.elevation),o.FONT_FAMILY=o.reg(o.CP.font_family),o.HEIGHT=o.reg(o.CP.height),o.LETTER_SPACING=o.reg(o.CP.letter_spacing),o.LIST_STYLE_IMAGE=o.reg(o.CP.list_style_image),o.MARGIN_RIGHT=o.reg(o.CP.margin_right),o.MAX_HEIGHT=o.reg(o.CP.max_height),o.MIN_HEIGHT=o.reg(o.CP.min_height),o.OPACITY=o.reg(o.CP.opacity),o.OUTLINE_COLOR=o.reg(o.CP.outline_color),o.OUTLINE_WIDTH=o.reg(o.CP.outline_width),o.PADDING=o.reg(o.CP.padding),o.PADDING_TOP=o.reg(o.CP.padding_top),o.PITCH_RANGE=o.reg(o.CP.pitch_range),o.RIGHT=o.reg(o.CP.right),o.STRESS=o.reg(o.CP.stress),o.TEXT_INDENT=o.reg(o.CP.text_indent),o.TEXT_SHADOW=o.reg(o.CP.text_shadow),o.VOLUME=o.reg(o.CP.volume),o.WORD_WRAP=o.reg(o.CP.word_wrap),o.ZOOM=o.reg(o.CP.zoom),o.BACKFACE_VISIBILITY=o.reg(o.CP.backface_visibility),o.BACKGROUND_CLIP=o.reg(o.CP.background_clip),o.BACKGROUND_POSITION=o.reg(o.CP.background_position),o.BORDER_BOTTOM_COLOR=o.reg(o.CP.border_bottom_color),o.BORDER_BOTTOM_STYLE=o.reg(o.CP.border_bottom_style),o.BORDER_COLOR=o.reg(o.CP.border_color),o.BORDER_LEFT_COLOR=o.reg(o.CP.border_left_color),o.BORDER_RIGHT_COLOR=o.reg(o.CP.border_right_color),o.BORDER_STYLE=o.reg(o.CP.border_style),o.BORDER_TOP_LEFT_RADIUS=o.reg(o.CP.border_top_left_radius),o.BORDER_TOP_WIDTH=o.reg(o.CP.border_top_width),o.BOX_SHADOW=o.reg(o.CP.box_shadow),o.CLIP=o.reg(o.CP.clip),o.DISPLAY_INSIDE=o.reg(o.CP.display_inside),o.FONT_SIZE=o.reg(o.CP.font_size),o.LINE_HEIGHT=o.reg(o.CP.line_height),o.MARGIN_LEFT=o.reg(o.CP.margin_left),o.MAX_WIDTH=o.reg(o.CP.max_width),o.OUTLINE_STYLE=o.reg(o.CP.outline_style),o.PADDING_BOTTOM=o.reg(o.CP.padding_bottom),o.PADDING_RIGHT=o.reg(o.CP.padding_right),o.PERSPECTIVE=o.reg(o.CP.perspective),o.RICHNESS=o.reg(o.CP.richness),o.TEXT_OVERFLOW=o.reg(o.CP.text_overflow),o.TOP=o.reg(o.CP.top),o.WIDTH=o.reg(o.CP.width),o.Z_INDEX=o.reg(o.CP.z_index),o.BACKGROUND=o.reg(o.CP.background),o.BACKGROUND_SIZE=o.reg(o.CP.background_size),o.BORDER_BOTTOM_LEFT_RADIUS=o.reg(o.CP.border_bottom_left_radius),o.BORDER_BOTTOM_WIDTH=o.reg(o.CP.border_bottom_width),o.BORDER_LEFT_STYLE=o.reg(o.CP.border_left_style),o.BORDER_RIGHT_STYLE=o.reg(o.CP.border_right_style),o.BORDER_TOP=o.reg(o.CP.border_top),o.BOTTOM=o.reg(o.CP.bottom),o.LIST_STYLE=o.reg(o.CP.list_style),o.MARGIN_TOP=o.reg(o.CP.margin_top),o.OUTLINE=o.reg(o.CP.outline),o.OVERFLOW_Y=o.reg(o.CP.overflow_y),o.PITCH=o.reg(o.CP.pitch),o.VERTICAL_ALIGN=o.reg(o.CP.vertical_align),o.WORD_SPACING=o.reg(o.CP.word_spacing),o.BACKGROUND_IMAGE=o.reg(o.CP.background_image),o.BORDER_BOTTOM_RIGHT_RADIUS=o.reg(o.CP.border_bottom_right_radius),o.BORDER_LEFT_WIDTH=o.reg(o.CP.border_left_width),o.BORDER_RIGHT_WIDTH=o.reg(o.CP.border_right_width),o.LEFT=o.reg(o.CP.left),o.MARGIN_BOTTOM=o.reg(o.CP.margin_bottom),o.PAUSE_AFTER=o.reg(o.CP.pause_after),o.SPEECH_RATE=o.reg(o.CP.speech_rate),o.TRANSITION_DURATION=o.reg(o.CP.transition_duration),o.BORDER_BOTTOM=o.reg(o.CP.border_bottom),o.BORDER_RIGHT=o.reg(o.CP.border_right),o.MARGIN=o.reg(o.CP.margin),o.PADDING_LEFT=o.reg(o.CP.padding_left),o.BORDER_LEFT=o.reg(o.CP.border_left),o.FONT=o.reg(o.CP.font),o.QUOTES=o.reg(o.CP.quotes),o.BORDER_TOP_RIGHT_RADIUS=o.reg(o.CP.border_top_right_radius),o.MIN_WIDTH=o.reg(o.CP.min_width);class u{constructor(){this._options={allowedTags:["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blockquote","br","button","canvas","caption","center","cite","code","col","colgroup","colspan","command","data","datalist","dd","del","details","dfn","dir","div","dl","dt","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","i","img","input","ins","kbd","label","legend","li","map","mark","menu","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rowspan","s","samp","section","select","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"],allowedAttributes:{"*":["class","dir","draggable","hidden","id","inert","itemprop","itemref","itemscope","lang","spellcheck","style","title","translate"],a:["accesskey","coords","href","hreflang","name","rel","shape","tabindex","target","type"],area:["accesskey","alt","coords","href","nohref","shape","tabindex"],audio:["autoplay","controls","loop","mediagroup","muted","preload","src"],bdo:["dir"],blockquote:["cite"],br:["clear"],button:["accesskey","data-commandlinker-args","data-commandlinker-command","disabled","name","tabindex","type","value"],canvas:["height","width"],caption:["align"],col:["align","char","charoff","span","valign","width"],colgroup:["align","char","charoff","span","valign","width"],command:["checked","command","disabled","icon","label","radiogroup","type"],data:["value"],del:["cite","datetime"],details:["open"],dir:["compact"],div:["align"],dl:["compact"],fieldset:["disabled"],font:["color","face","size"],form:["accept","autocomplete","enctype","method","name","novalidate"],h1:["align"],h2:["align"],h3:["align"],h4:["align"],h5:["align"],h6:["align"],hr:["align","noshade","size","width"],iframe:["align","frameborder","height","marginheight","marginwidth","width"],img:["align","alt","border","height","hspace","ismap","name","src","usemap","vspace","width"],input:["accept","accesskey","align","alt","autocomplete","checked","disabled","inputmode","ismap","list","max","maxlength","min","multiple","name","placeholder","readonly","required","size","src","step","tabindex","type","usemap","value"],ins:["cite","datetime"],label:["accesskey","for"],legend:["accesskey","align"],li:["type","value"],map:["name"],menu:["compact","label","type"],meter:["high","low","max","min","value"],ol:["compact","reversed","start","type"],optgroup:["disabled","label"],option:["disabled","label","selected","value"],output:["for","name"],p:["align"],pre:["width"],progress:["max","min","value"],q:["cite"],select:["autocomplete","disabled","multiple","name","required","size","tabindex"],source:["type"],table:["align","bgcolor","border","cellpadding","cellspacing","frame","rules","summary","width"],tbody:["align","char","charoff","valign"],td:["abbr","align","axis","bgcolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"],textarea:["accesskey","autocomplete","cols","disabled","inputmode","name","placeholder","readonly","required","rows","tabindex","wrap"],tfoot:["align","char","charoff","valign"],th:["abbr","align","axis","bgcolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"],thead:["align","char","charoff","valign"],tr:["align","bgcolor","char","charoff","valign"],track:["default","kind","label","srclang"],ul:["compact","type"],video:["autoplay","controls","height","loop","mediagroup","muted","poster","preload","src","width"]},allowedStyles:{"*":{"backface-visibility":[o.BACKFACE_VISIBILITY],background:[o.BACKGROUND],"background-attachment":[o.BACKGROUND_ATTACHMENT],"background-clip":[o.BACKGROUND_CLIP],"background-color":[o.BACKGROUND_COLOR],"background-image":[o.BACKGROUND_IMAGE],"background-origin":[o.BACKGROUND_ORIGIN],"background-position":[o.BACKGROUND_POSITION],"background-repeat":[o.BACKGROUND_REPEAT],"background-size":[o.BACKGROUND_SIZE],border:[o.BORDER],"border-bottom":[o.BORDER_BOTTOM],"border-bottom-color":[o.BORDER_BOTTOM_COLOR],"border-bottom-left-radius":[o.BORDER_BOTTOM_LEFT_RADIUS],"border-bottom-right-radius":[o.BORDER_BOTTOM_RIGHT_RADIUS],"border-bottom-style":[o.BORDER_BOTTOM_STYLE],"border-bottom-width":[o.BORDER_BOTTOM_WIDTH],"border-collapse":[o.BORDER_COLLAPSE],"border-color":[o.BORDER_COLOR],"border-left":[o.BORDER_LEFT],"border-left-color":[o.BORDER_LEFT_COLOR],"border-left-style":[o.BORDER_LEFT_STYLE],"border-left-width":[o.BORDER_LEFT_WIDTH],"border-radius":[o.BORDER_RADIUS],"border-right":[o.BORDER_RIGHT],"border-right-color":[o.BORDER_RIGHT_COLOR],"border-right-style":[o.BORDER_RIGHT_STYLE],"border-right-width":[o.BORDER_RIGHT_WIDTH],"border-spacing":[o.BORDER_SPACING],"border-style":[o.BORDER_STYLE],"border-top":[o.BORDER_TOP],"border-top-color":[o.BORDER_TOP_COLOR],"border-top-left-radius":[o.BORDER_TOP_LEFT_RADIUS],"border-top-right-radius":[o.BORDER_TOP_RIGHT_RADIUS],"border-top-style":[o.BORDER_TOP_STYLE],"border-top-width":[o.BORDER_TOP_WIDTH],"border-width":[o.BORDER_WIDTH],bottom:[o.BOTTOM],box:[o.BOX],"box-shadow":[o.BOX_SHADOW],"box-sizing":[o.BOX_SIZING],"caption-side":[o.CAPTION_SIDE],clear:[o.CLEAR],clip:[o.CLIP],color:[o.COLOR],cursor:[o.CURSOR],direction:[o.DIRECTION],display:[o.DISPLAY],"display-inside":[o.DISPLAY_INSIDE],"display-outside":[o.DISPLAY_OUTSIDE],elevation:[o.ELEVATION],"empty-cells":[o.EMPTY_CELLS],float:[o.FLOAT],font:[o.FONT],"font-family":[o.FONT_FAMILY],"font-size":[o.FONT_SIZE],"font-stretch":[o.FONT_STRETCH],"font-style":[o.FONT_STYLE],"font-variant":[o.FONT_VARIANT],"font-weight":[o.FONT_WEIGHT],height:[o.HEIGHT],left:[o.LEFT],"letter-spacing":[o.LETTER_SPACING],"line-height":[o.LINE_HEIGHT],"list-style":[o.LIST_STYLE],"list-style-image":[o.LIST_STYLE_IMAGE],"list-style-position":[o.LIST_STYLE_POSITION],"list-style-type":[o.LIST_STYLE_TYPE],margin:[o.MARGIN],"margin-bottom":[o.MARGIN_BOTTOM],"margin-left":[o.MARGIN_LEFT],"margin-right":[o.MARGIN_RIGHT],"margin-top":[o.MARGIN_TOP],"max-height":[o.MAX_HEIGHT],"max-width":[o.MAX_WIDTH],"min-height":[o.MIN_HEIGHT],"min-width":[o.MIN_WIDTH],opacity:[o.OPACITY],outline:[o.OUTLINE],"outline-color":[o.OUTLINE_COLOR],"outline-style":[o.OUTLINE_STYLE],"outline-width":[o.OUTLINE_WIDTH],overflow:[o.OVERFLOW],"overflow-wrap":[o.OVERFLOW_WRAP],"overflow-x":[o.OVERFLOW_X],"overflow-y":[o.OVERFLOW_Y],padding:[o.PADDING],"padding-bottom":[o.PADDING_BOTTOM],"padding-left":[o.PADDING_LEFT],"padding-right":[o.PADDING_RIGHT],"padding-top":[o.PADDING_TOP],"page-break-after":[o.PAGE_BREAK_AFTER],"page-break-before":[o.PAGE_BREAK_BEFORE],"page-break-inside":[o.PAGE_BREAK_INSIDE],"pause-after":[o.PAUSE_AFTER],perspective:[o.PERSPECTIVE],pitch:[o.PITCH],"pitch-range":[o.PITCH_RANGE],position:[o.POSITION],quotes:[o.QUOTES],resize:[o.RESIZE],richness:[o.RICHNESS],right:[o.RIGHT],speak:[o.SPEAK],"speak-header":[o.SPEAK_HEADER],"speak-numeral":[o.SPEAK_NUMERAL],"speak-punctuation":[o.SPEAK_PUNCTUATION],"speech-rate":[o.SPEECH_RATE],stress:[o.STRESS],"table-layout":[o.TABLE_LAYOUT],"text-align":[o.TEXT_ALIGN],"text-decoration":[o.TEXT_DECORATION],"text-indent":[o.TEXT_INDENT],"text-overflow":[o.TEXT_OVERFLOW],"text-shadow":[o.TEXT_SHADOW],"text-transform":[o.TEXT_TRANSFORM],"text-wrap":[o.TEXT_WRAP],top:[o.TOP],"unicode-bidi":[o.UNICODE_BIDI],"vertical-align":[o.VERTICAL_ALIGN],visibility:[o.VISIBILITY],volume:[o.VOLUME],"white-space":[o.WHITE_SPACE],width:[o.WIDTH],"word-break":[o.WORD_BREAK],"word-spacing":[o.WORD_SPACING],"word-wrap":[o.WORD_WRAP],"z-index":[o.Z_INDEX],zoom:[o.ZOOM]}},transformTags:{a:s().simpleTransform("a",{rel:"nofollow"}),input:s().simpleTransform("input",{disabled:"disabled"})},allowedSchemesByTag:{img:s().defaults.allowedSchemes.concat(["attachment"])},allowedSchemesAppliedToAttributes:["href","cite"]}}sanitize(t,e){return s()(t,Object.assign(Object.assign({},this._options),e||{}))}}const a=new u;var h,c,l=__webpack_require__(9622),f=__webpack_require__(27);class d{constructor(t={}){this.trusted=!!t.trusted,this._data=t.data||{},this._metadata=t.metadata||{},this._callback=t.callback||h.noOp}get data(){return this._data}get metadata(){return this._metadata}setData(t){this._data=t.data||this._data,this._metadata=t.metadata||this._metadata,this._callback(t)}}!function(t){t.noOp=function(){}}(h||(h={}));class p{constructor(t={}){if(this._id=0,this._ranks={},this._types=null,this._factories={},this.translator=t.translator||f.nullTranslator,this.resolver=t.resolver||null,this.linkHandler=t.linkHandler||null,this.latexTypesetter=t.latexTypesetter||null,this.sanitizer=t.sanitizer||a,t.initialFactories)for(const e of t.initialFactories)this.addFactory(e)}get mimeTypes(){return this._types||(this._types=c.sortedTypes(this._ranks))}preferredMimeType(t,e="ensure"){if("ensure"===e||"prefer"===e)for(const e of this.mimeTypes)if(e in t&&this._factories[e].safe)return e;if("ensure"!==e)for(const e of this.mimeTypes)if(e in t)return e}createRenderer(t){if(!(t in this._factories))throw new Error(`No factory for mime type: '${t}'`);return this._factories[t].createRenderer({mimeType:t,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,latexTypesetter:this.latexTypesetter,translator:this.translator})}createModel(t={}){return new d(t)}clone(t={}){const e=new p({resolver:t.resolver||this.resolver||void 0,sanitizer:t.sanitizer||this.sanitizer||void 0,linkHandler:t.linkHandler||this.linkHandler||void 0,latexTypesetter:t.latexTypesetter||this.latexTypesetter||void 0,translator:this.translator});return e._factories=Object.assign({},this._factories),e._ranks=Object.assign({},this._ranks),e._id=this._id,e}getFactory(t){return this._factories[t]}addFactory(t,e){void 0===e&&void 0===(e=t.defaultRank)&&(e=100);for(const n of t.mimeTypes)this._factories[n]=t,this._ranks[n]={rank:e,id:this._id++};this._types=null}removeMimeType(t){delete this._factories[t],delete this._ranks[t],this._types=null}getRank(t){const e=this._ranks[t];return e&&e.rank}setRank(t,e){if(!this._ranks[t])return;const n=this._id++;this._ranks[t]={rank:e,id:n},this._types=null}}!function(t){t.UrlResolver=class{constructor(t){if(t.path)this._path=t.path;else{if(!t.session)throw new Error("Either 'path' or 'session' must be given as a constructor option");this._session=t.session}this._contents=t.contents}get path(){var t;return null!==(t=this._path)&&void 0!==t?t:this._session.path}set path(t){this._path=t}async resolveUrl(t){if(this.isLocal(t)){const e=encodeURI(l.PathExt.dirname(this.path));t=l.PathExt.resolve(e,t)}return t}async getDownloadUrl(t){return this.isLocal(t)?this._contents.getDownloadUrl(decodeURIComponent(t)):t}isLocal(t){return!this.isMalformed(t)&&(l.URLExt.isLocal(t)||!!this._contents.driveName(decodeURI(t)))}isMalformed(t){try{return decodeURI(t),!1}catch(t){if(t instanceof URIError)return!0;throw t}}}}(p||(p={})),function(t){t.sortedTypes=function(t){return Object.keys(t).sort(((e,n)=>{const i=t[e],r=t[n];return i.rank!==r.rank?i.rank-r.rank:i.id-r.id}))},t.sessionConnection=function(t){return t.sessionChanged?t.session:t}}(c||(c={}));var m,v,g,b,w,y=__webpack_require__(5259);!function(t){t.copyText=function(t){var e=document.body,n=function(i){i.preventDefault(),i.stopPropagation(),i.clipboardData.setData("text",t),e.removeEventListener("copy",n,!0)};e.addEventListener("copy",n,!0),document.execCommand("copy")}}(m||(m={})),function(t){t.boxSizing=function(t){var e=window.getComputedStyle(t),n=parseFloat(e.borderTopWidth)||0,i=parseFloat(e.borderLeftWidth)||0,r=parseFloat(e.borderRightWidth)||0,s=parseFloat(e.borderBottomWidth)||0,o=parseFloat(e.paddingTop)||0,u=parseFloat(e.paddingLeft)||0,a=parseFloat(e.paddingRight)||0,h=parseFloat(e.paddingBottom)||0;return{borderTop:n,borderLeft:i,borderRight:r,borderBottom:s,paddingTop:o,paddingLeft:u,paddingRight:a,paddingBottom:h,horizontalSum:i+u+a+r,verticalSum:n+o+h+s}},t.sizeLimits=function(t){var e=window.getComputedStyle(t),n=parseFloat(e.minWidth)||0,i=parseFloat(e.minHeight)||0,r=parseFloat(e.maxWidth)||1/0,s=parseFloat(e.maxHeight)||1/0;return{minWidth:n,minHeight:i,maxWidth:r=Math.max(n,r),maxHeight:s=Math.max(i,s)}},t.hitTest=function(t,e,n){var i=t.getBoundingClientRect();return e>=i.left&&e<i.right&&n>=i.top&&n<i.bottom},t.scrollIntoViewIfNeeded=function(t,e){var n=t.getBoundingClientRect(),i=e.getBoundingClientRect();i.top<=n.top&&i.bottom>=n.bottom||(i.top<n.top&&i.height<=n.height||i.bottom>n.bottom&&i.height>=n.height?t.scrollTop-=n.top-i.top:(i.top<n.top&&i.height>n.height||i.bottom>n.bottom&&i.height<n.height)&&(t.scrollTop-=n.bottom-i.bottom))}}(v||(v={})),function(t){t.IS_MAC=!!navigator.platform.match(/Mac/i),t.IS_WIN=!!navigator.platform.match(/Win/i),t.IS_IE=/Trident/.test(navigator.userAgent),t.IS_EDGE=/Edge/.test(navigator.userAgent),t.accelKey=function(e){return t.IS_MAC?e.metaKey:e.ctrlKey}}(g||(g={})),function(t){t.calculateSpecificity=function(t){if(t in w.specificityCache)return w.specificityCache[t];var e=w.calculateSingle(t);return w.specificityCache[t]=e},t.isValid=function(t){if(t in w.validityCache)return w.validityCache[t];var e=!0;try{w.testElem.querySelector(t)}catch(t){e=!1}return w.validityCache[t]=e},t.matches=function(t,e){return w.protoMatchFunc.call(t,e)}}(b||(b={})),function(t){var e;t.specificityCache=Object.create(null),t.validityCache=Object.create(null),t.testElem=document.createElement("div"),t.protoMatchFunc=(e=Element.prototype).matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||function(t){var e=this,n=e.ownerDocument?e.ownerDocument.querySelectorAll(t):[];return-1!==Array.prototype.indexOf.call(n,e)},t.calculateSingle=function(t){var e=0,c=0,l=0;function f(e){var n=t.match(e);return null!==n&&(t=t.slice(n[0].length),!0)}for(t=(t=t.split(",",1)[0]).replace(h," $1 ");t.length>0;)if(f(n))e++;else if(f(i))c++;else if(f(r))c++;else if(f(o))l++;else if(f(u))c++;else if(f(s))l++;else if(!f(a))return 0;return(e=Math.min(e,255))<<16|(c=Math.min(c,255))<<8|Math.min(l,255)};var n=/^#[^\s\+>~#\.\[:]+/,i=/^\.[^\s\+>~#\.\[:]+/,r=/^\[[^\]]+\]/,s=/^[^\s\+>~#\.\[:]+/,o=/^(::[^\s\+>~#\.\[:]+|:first-line|:first-letter|:before|:after)/,u=/^:[^\s\+>~#\.\[:]+/,a=/^[\s\+>~\*]+/,h=/:not\(([^\)]+)\)/g}(w||(w={}));var k,D=function(){function t(t){this._root=new k.LeafNode,this.cmp=t}return Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this._root.size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._root.size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){var t=k.firstLeaf(this._root);return t.size>0?t.items[0]:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){var t=k.lastLeaf(this._root);return t.size>0?t.items[t.size-1]:void 0},enumerable:!0,configurable:!0}),t.prototype.iter=function(){return k.iterItems(this._root)},t.prototype.retro=function(){return k.retroItems(this._root)},t.prototype.slice=function(t,e){return k.sliceItems(this._root,t,e)},t.prototype.retroSlice=function(t,e){return k.retroSliceItems(this._root,t,e)},t.prototype.at=function(t){return k.itemAt(this._root,t)},t.prototype.has=function(t,e){return k.hasItem(this._root,t,e)},t.prototype.indexOf=function(t,e){return k.indexOf(this._root,t,e)},t.prototype.get=function(t,e){return k.getItem(this._root,t,e)},t.prototype.assign=function(t){this.clear(),this.update(t)},t.prototype.insert=function(t){var e=k.insertItem(this._root,t,this.cmp);return this._root=k.maybeSplitRoot(this._root),e},t.prototype.update=function(t){var e=this;(0,y.each)(t,(function(t){e.insert(t)}))},t.prototype.delete=function(t,e){var n=k.deleteItem(this._root,t,e);return this._root=k.maybeExtractRoot(this._root),n},t.prototype.remove=function(t){var e=k.removeItem(this._root,t);return this._root=k.maybeExtractRoot(this._root),e},t.prototype.clear=function(){k.clear(this._root),this._root=new k.LeafNode},t}();!function(t){t.from=function(e,n){var i=new t(n);return i.assign(e),i}}(D||(D={})),function(t){var e=function(){function t(){this.items=[],this.sizes=[],this.children=[]}return Object.defineProperty(t.prototype,"type",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.sizes[this.sizes.length-1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.children.length},enumerable:!0,configurable:!0}),t}();t.BranchNode=e;var n=function(){function t(){this.next=null,this.prev=null,this.items=[]}return Object.defineProperty(t.prototype,"type",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),t}();function i(t){for(;0===t.type;)t=t.children[0];return t}function r(t){for(;0===t.type;)t=t.children[t.children.length-1];return t}function s(t){0===t.type?((0,y.each)(t.children,s),t.children.length=0,t.sizes.length=0,t.items.length=0):(t.items.length=0,t.next=null,t.prev=null)}t.LeafNode=n,t.firstLeaf=i,t.lastLeaf=r,t.iterItems=function(t){var e=i(t);return new a(e,0,-1)},t.retroItems=function(t){var e=r(t);return new h(e,e.size-1,-1)},t.sliceItems=function(t,e,n){e=void 0===e?0:e<0?Math.max(0,e+t.size):Math.min(e,t.size),n=void 0===n?t.size:n<0?Math.max(0,n+t.size):Math.min(n,t.size);var i=Math.max(0,n-e);if(0===i)return(0,y.empty)();for(;0===t.type;){var r=c(t.sizes,e);r>0&&(e-=t.sizes[r-1]),t=t.children[r]}return new a(t,e,i)},t.retroSliceItems=function(t,e,n){e=void 0===e?t.size-1:e<0?Math.max(-1,e+t.size):Math.min(e,t.size-1),n=void 0===n?-1:n<0?Math.max(-1,n+t.size):Math.min(n,t.size-1);var i=Math.max(0,e-n);if(0===i)return(0,y.empty)();for(;0===t.type;){var r=c(t.sizes,e);r>0&&(e-=t.sizes[r-1]),t=t.children[r]}return new h(t,e,i)},t.itemAt=function(t,e){if(e<0&&(e+=t.size),!(e<0||e>=t.size)){for(;0===t.type;){var n=c(t.sizes,e);n>0&&(e-=t.sizes[n-1]),t=t.children[n]}return t.items[e]}},t.hasItem=function(t,e,n){for(;0===t.type;){var i=l(t.items,e,n);t=t.children[i]}return f(t.items,e,n)>=0},t.indexOf=function(t,e,n){for(var i=0;0===t.type;){var r=l(t.items,e,n);r>0&&(i+=t.sizes[r-1]),t=t.children[r]}var s=f(t.items,e,n);return s>=0?i+s:-i+s},t.getItem=function(t,e,n){for(;0===t.type;){var i=l(t.items,e,n);t=t.children[i]}var r=f(t.items,e,n);return r>=0?t.items[r]:void 0},t.insertItem=function t(e,n,i){if(1===e.type){var r,s=f(e.items,n,i);return s>=0?(r=e.items[s],e.items[s]=n):(r=void 0,y.ArrayExt.insert(e.items,-s-1,n)),r}var u=l(e.items,n,i),a=e.children[u],h=a.size,c=t(a,n,i),m=a.size;if(e.items[u]=a.items[0],h===m)return c;if(a.width>o){var v=p(a);y.ArrayExt.insert(e.children,u+1,v),y.ArrayExt.insert(e.items,u+1,v.items[0])}return d(e,u),c},t.deleteItem=function t(e,n,i){if(1===e.type){var r=f(e.items,n,i);if(r<0)return;return y.ArrayExt.removeAt(e.items,r)}var s=l(e.items,n,i),o=e.children[s],a=o.size,h=t(o,n,i);return a===o.size||(e.items[s]=o.items[0],o.width<u&&(s=m(e,s)),d(e,s)),h},t.removeItem=function t(e,n){if(n<0&&(n+=e.size),!(n<0||n>=e.size)){if(1===e.type)return y.ArrayExt.removeAt(e.items,n);var i=c(e.sizes,n);i>0&&(n-=e.sizes[i]);var r=e.children[i],s=t(r,n);return e.items[i]=r.items[0],r.width<u&&(i=m(e,i)),d(e,i),s}},t.clear=s,t.maybeSplitRoot=function(t){if(t.width<=o)return t;var n=new e,i=p(t);return n.sizes[0]=t.size,n.sizes[1]=t.size+i.size,n.children[0]=t,n.children[1]=i,n.items[0]=t.items[0],n.items[1]=i.items[0],n},t.maybeExtractRoot=function(t){if(1===t.type)return t;if(t.children.length>1)return t;var e=t.children.pop();return s(t),e};var o=32,u=o>>1,a=function(){function t(t,e,n){this._node=t,this._index=e,this._count=n}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._node,this._index,this._count)},t.prototype.next=function(){if(null!==this._node&&0!==this._count)return this._index>=this._node.size?(this._node=this._node.next,this._index=0,this.next()):(this._count>0&&this._count--,this._node.items[this._index++])},t}(),h=function(){function t(t,e,n){this._node=t,this._index=e,this._count=n}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._node,this._index,this._count)},t.prototype.next=function(){if(null!==this._node&&0!==this._count)return this._index>=this._node.size&&(this._index=this._node.size-1),this._index<0?(this._node=this._node.prev,this._index=this._node?this._node.size-1:-1,this.next()):(this._count>0&&this._count--,this._node.items[this._index--])},t}();function c(t,e){for(var n=t.length,i=0;i<n;++i)if(t[i]>e)return i;return n-1}function l(t,e,n){for(var i=t.length,r=1;r<i;++r)if(n(t[r],e)>0)return r-1;return i-1}function f(t,e,n){for(var i=t.length,r=0;r<i;++r){var s=n(t[r],e);if(0===s)return r;if(s>0)return-r-1}return-i-1}function d(t,e){for(var n=t.sizes,i=t.children,r=e>0?n[e-1]:0,s=i.length;e<s;++e)r=n[e]=r+i[e].size;n.length=i.length}function p(t){if(1===t.type){for(var i=new n,r=t.items,s=i.items,o=u,a=r.length;o<a;++o)s.push(r[o]);return r.length=u,t.next&&(t.next.prev=i),i.next=t.next,i.prev=t,t.next=i,i}var h=new e,c=t.children,l=h.children;for(o=u,a=c.length;o<a;++o)l.push(c[o]);c.length=u;var f=t.items,p=h.items;for(o=u,a=f.length;o<a;++o)p.push(f[o]);return f.length=u,d(t,u),d(h,0),h}function m(t,e){var n,i,r,o,a,h,c=t.children[e],l=0===e?t.children[e+1]:t.children[e-1],f=0===e,p=1===c.type,m=l.width>u;if(p&&m&&f){var v=l;return(g=c).items.push(v.items.shift()),t.items[e+1]=v.items[0],e}if(p&&m&&!f)return v=l,(g=c).items.unshift(v.items.pop()),t.items[e]=g.items[0],e-1;if(p&&!m&&f){var g=c;return(n=(v=l).items).unshift.apply(n,g.items),y.ArrayExt.removeAt(t.children,e),y.ArrayExt.removeAt(t.items,e+1),g.prev&&(g.prev.next=v),v.prev=g.prev,s(g),e}if(p&&!m&&!f)return g=c,(i=(v=l).items).push.apply(i,g.items),y.ArrayExt.removeAt(t.children,e),y.ArrayExt.removeAt(t.items,e),g.next&&(g.next.prev=v),v.next=g.next,s(g),e-1;if(!p&&m&&f)return v=l,(g=c).children.push(v.children.shift()),g.items.push(v.items.shift()),t.items[e+1]=v.items[0],d(g,g.width-1),d(v,0),e;if(!p&&m&&!f)return v=l,(g=c).children.unshift(v.children.pop()),g.items.unshift(v.items.pop()),t.items[e]=g.items[0],d(g,0),d(v,v.width-1),e-1;if(!p&&!m&&f)return g=c,(r=(v=l).children).unshift.apply(r,g.children),(o=v.items).unshift.apply(o,g.items),y.ArrayExt.removeAt(t.children,e),y.ArrayExt.removeAt(t.items,e+1),d(v,0),g.children.length=0,s(g),e;if(!p&&!m&&!f)return g=c,(a=(v=l).children).push.apply(a,g.children),(h=v.items).push.apply(h,g.items),y.ArrayExt.removeAt(t.children,e),y.ArrayExt.removeAt(t.items,e),d(v,0),g.children.length=0,s(g),e-1;throw"unreachable"}}(k||(k={}));var j,x=function(){function t(){this._first=null,this._last=null,this._size=0}return Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){return this._first?this._first.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this._last?this._last.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstNode",{get:function(){return this._first},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastNode",{get:function(){return this._last},enumerable:!0,configurable:!0}),t.prototype.iter=function(){return new t.ForwardValueIterator(this._first)},t.prototype.retro=function(){return new t.RetroValueIterator(this._last)},t.prototype.nodes=function(){return new t.ForwardNodeIterator(this._first)},t.prototype.retroNodes=function(){return new t.RetroNodeIterator(this._last)},t.prototype.assign=function(t){var e=this;this.clear(),(0,y.each)(t,(function(t){e.addLast(t)}))},t.prototype.push=function(t){this.addLast(t)},t.prototype.pop=function(){return this.removeLast()},t.prototype.shift=function(t){this.addFirst(t)},t.prototype.unshift=function(){return this.removeFirst()},t.prototype.addFirst=function(t){var e=new j.LinkedListNode(this,t);return this._first?(e.next=this._first,this._first.prev=e,this._first=e):(this._first=e,this._last=e),this._size++,e},t.prototype.addLast=function(t){var e=new j.LinkedListNode(this,t);return this._last?(e.prev=this._last,this._last.next=e,this._last=e):(this._first=e,this._last=e),this._size++,e},t.prototype.insertBefore=function(t,e){if(!e||e===this._first)return this.addFirst(t);if(!(e instanceof j.LinkedListNode)||e.list!==this)throw new Error("Reference node is not owned by the list.");var n=new j.LinkedListNode(this,t),i=e,r=i.prev;return n.next=i,n.prev=r,i.prev=n,r.next=n,this._size++,n},t.prototype.insertAfter=function(t,e){if(!e||e===this._last)return this.addLast(t);if(!(e instanceof j.LinkedListNode)||e.list!==this)throw new Error("Reference node is not owned by the list.");var n=new j.LinkedListNode(this,t),i=e,r=i.next;return n.next=r,n.prev=i,i.next=n,r.prev=n,this._size++,n},t.prototype.removeFirst=function(){var t=this._first;if(t)return t===this._last?(this._first=null,this._last=null):(this._first=t.next,this._first.prev=null),t.list=null,t.next=null,t.prev=null,this._size--,t.value},t.prototype.removeLast=function(){var t=this._last;if(t)return t===this._first?(this._first=null,this._last=null):(this._last=t.prev,this._last.next=null),t.list=null,t.next=null,t.prev=null,this._size--,t.value},t.prototype.removeNode=function(t){if(!(t instanceof j.LinkedListNode)||t.list!==this)throw new Error("Node is not owned by the list.");var e=t;e===this._first&&e===this._last?(this._first=null,this._last=null):e===this._first?(this._first=e.next,this._first.prev=null):e===this._last?(this._last=e.prev,this._last.next=null):(e.next.prev=e.prev,e.prev.next=e.next),e.list=null,e.next=null,e.prev=null,this._size--},t.prototype.clear=function(){for(var t=this._first;t;){var e=t.next;t.list=null,t.prev=null,t.next=null,t=e}this._first=null,this._last=null,this._size=0},t}();!function(t){t.from=function(e){var n=new t;return n.assign(e),n};var e=function(){function t(t){this._node=t}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._node)},t.prototype.next=function(){if(this._node){var t=this._node;return this._node=t.next,t.value}},t}();t.ForwardValueIterator=e;var n=function(){function t(t){this._node=t}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._node)},t.prototype.next=function(){if(this._node){var t=this._node;return this._node=t.prev,t.value}},t}();t.RetroValueIterator=n;var i=function(){function t(t){this._node=t}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._node)},t.prototype.next=function(){if(this._node){var t=this._node;return this._node=t.next,t}},t}();t.ForwardNodeIterator=i;var r=function(){function t(t){this._node=t}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._node)},t.prototype.next=function(){if(this._node){var t=this._node;return this._node=t.prev,t}},t}();t.RetroNodeIterator=r}(x||(x={})),function(t){t.LinkedListNode=function(t,e){this.list=null,this.next=null,this.prev=null,this.list=t,this.value=e}}(j||(j={}));var _,M=function(t,e){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},A=function(){function t(t){this.type=t}return Object.defineProperty(t.prototype,"isConflatable",{get:function(){return!1},enumerable:!0,configurable:!0}),t.prototype.conflate=function(t){return!1},t}(),C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}M(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),Object.defineProperty(e.prototype,"isConflatable",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.conflate=function(t){return!0},e}(A);!function(t){function e(t,e){var n=i.get(t);n&&0!==n.length?(0,y.every)((0,y.retro)(n),(function(n){return!n||function(t,e,n){var i=!0;try{i="function"==typeof t?t(e,n):t.messageHook(e,n)}catch(t){s(t)}return i}(n,t,e)}))&&c(t,e):c(t,e)}t.sendMessage=e,t.postMessage=function(t,e){e.isConflatable&&(0,y.some)(n,(function(n){return n.handler===t&&!!n.msg&&n.msg.type===e.type&&!!n.msg.isConflatable&&n.msg.conflate(e)}))||function(t,e){n.addLast({handler:t,msg:e}),0===o&&(o=a(l))}(t,e)},t.installMessageHook=function(t,e){var n=i.get(t);n&&-1!==n.indexOf(e)||(n?n.push(e):i.set(t,[e]))},t.removeMessageHook=function(t,e){var n=i.get(t);if(n){var r=n.indexOf(e);-1!==r&&(n[r]=null,f(n))}},t.clearData=function(t){var e=i.get(t);e&&e.length>0&&(y.ArrayExt.fill(e,null),f(e)),(0,y.each)(n,(function(e){e.handler===t&&(e.handler=null,e.msg=null)}))},t.flush=function(){u||0===o||(h(o),u=!0,l(),u=!1)},t.getExceptionHandler=function(){return s},t.setExceptionHandler=function(t){var e=s;return s=t,e};var n=new x,i=new WeakMap,r=new Set,s=function(t){console.error(t)},o=0,u=!1,a="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate,h="function"==typeof cancelAnimationFrame?cancelAnimationFrame:clearImmediate;function c(t,e){try{t.processMessage(e)}catch(t){s(t)}}function l(){if(o=0,!n.isEmpty){var t={handler:null,msg:null};for(n.addLast(t);;){var i=n.removeFirst();if(i===t)return;i.handler&&i.msg&&e(i.handler,i.msg)}}}function f(t){0===r.size&&a(d),r.add(t)}function d(){r.forEach(p),r.clear()}function p(t){y.ArrayExt.removeAllWhere(t,m)}function m(t){return null===t}}(_||(_={}));var E,O,S,T=__webpack_require__(9770),R=__webpack_require__(4016),F=__webpack_require__(6201),$=function(t,e){return($=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},B=function(t){this.type="text",this.content=t},q=function(t,e,n,i){this.type="element",this.tag=t,this.attrs=e,this.children=n,this.renderer=i};function L(t){for(var e,n={},i=[],r=1,s=arguments.length;r<s;++r){var o=arguments[r];"string"==typeof o?i.push(new B(o)):o instanceof B||o instanceof q?i.push(o):o instanceof Array?u(i,o):1!==r&&2!==r||!o||"object"!=typeof o||("render"in o?e=o:n=o)}return new q(t,n,i,e);function u(t,e){for(var n=0,i=e;n<i.length;n++){var r=i[n];"string"==typeof r?t.push(new B(r)):(r instanceof B||r instanceof q)&&t.push(r)}}}function I(){return N.keyboardLayout}(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}$(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})((function(t,e,n){return S.call(this,t,e,[],n||void 0)||this}),S=q),function(t){t.a=t.bind(void 0,"a"),t.abbr=t.bind(void 0,"abbr"),t.address=t.bind(void 0,"address"),t.area=t.bind(void 0,"area"),t.article=t.bind(void 0,"article"),t.aside=t.bind(void 0,"aside"),t.audio=t.bind(void 0,"audio"),t.b=t.bind(void 0,"b"),t.bdi=t.bind(void 0,"bdi"),t.bdo=t.bind(void 0,"bdo"),t.blockquote=t.bind(void 0,"blockquote"),t.br=t.bind(void 0,"br"),t.button=t.bind(void 0,"button"),t.canvas=t.bind(void 0,"canvas"),t.caption=t.bind(void 0,"caption"),t.cite=t.bind(void 0,"cite"),t.code=t.bind(void 0,"code"),t.col=t.bind(void 0,"col"),t.colgroup=t.bind(void 0,"colgroup"),t.data=t.bind(void 0,"data"),t.datalist=t.bind(void 0,"datalist"),t.dd=t.bind(void 0,"dd"),t.del=t.bind(void 0,"del"),t.dfn=t.bind(void 0,"dfn"),t.div=t.bind(void 0,"div"),t.dl=t.bind(void 0,"dl"),t.dt=t.bind(void 0,"dt"),t.em=t.bind(void 0,"em"),t.embed=t.bind(void 0,"embed"),t.fieldset=t.bind(void 0,"fieldset"),t.figcaption=t.bind(void 0,"figcaption"),t.figure=t.bind(void 0,"figure"),t.footer=t.bind(void 0,"footer"),t.form=t.bind(void 0,"form"),t.h1=t.bind(void 0,"h1"),t.h2=t.bind(void 0,"h2"),t.h3=t.bind(void 0,"h3"),t.h4=t.bind(void 0,"h4"),t.h5=t.bind(void 0,"h5"),t.h6=t.bind(void 0,"h6"),t.header=t.bind(void 0,"header"),t.hr=t.bind(void 0,"hr"),t.i=t.bind(void 0,"i"),t.iframe=t.bind(void 0,"iframe"),t.img=t.bind(void 0,"img"),t.input=t.bind(void 0,"input"),t.ins=t.bind(void 0,"ins"),t.kbd=t.bind(void 0,"kbd"),t.label=t.bind(void 0,"label"),t.legend=t.bind(void 0,"legend"),t.li=t.bind(void 0,"li"),t.main=t.bind(void 0,"main"),t.map=t.bind(void 0,"map"),t.mark=t.bind(void 0,"mark"),t.meter=t.bind(void 0,"meter"),t.nav=t.bind(void 0,"nav"),t.noscript=t.bind(void 0,"noscript"),t.object=t.bind(void 0,"object"),t.ol=t.bind(void 0,"ol"),t.optgroup=t.bind(void 0,"optgroup"),t.option=t.bind(void 0,"option"),t.output=t.bind(void 0,"output"),t.p=t.bind(void 0,"p"),t.param=t.bind(void 0,"param"),t.pre=t.bind(void 0,"pre"),t.progress=t.bind(void 0,"progress"),t.q=t.bind(void 0,"q"),t.rp=t.bind(void 0,"rp"),t.rt=t.bind(void 0,"rt"),t.ruby=t.bind(void 0,"ruby"),t.s=t.bind(void 0,"s"),t.samp=t.bind(void 0,"samp"),t.section=t.bind(void 0,"section"),t.select=t.bind(void 0,"select"),t.small=t.bind(void 0,"small"),t.source=t.bind(void 0,"source"),t.span=t.bind(void 0,"span"),t.strong=t.bind(void 0,"strong"),t.sub=t.bind(void 0,"sub"),t.summary=t.bind(void 0,"summary"),t.sup=t.bind(void 0,"sup"),t.table=t.bind(void 0,"table"),t.tbody=t.bind(void 0,"tbody"),t.td=t.bind(void 0,"td"),t.textarea=t.bind(void 0,"textarea"),t.tfoot=t.bind(void 0,"tfoot"),t.th=t.bind(void 0,"th"),t.thead=t.bind(void 0,"thead"),t.time=t.bind(void 0,"time"),t.title=t.bind(void 0,"title"),t.tr=t.bind(void 0,"tr"),t.track=t.bind(void 0,"track"),t.u=t.bind(void 0,"u"),t.ul=t.bind(void 0,"ul"),t.var_=t.bind(void 0,"var"),t.video=t.bind(void 0,"video"),t.wbr=t.bind(void 0,"wbr")}(L||(L={})),function(t){t.realize=function(t){return O.createDOMNode(t)},t.render=function(t,e){var n=O.hostMap.get(e)||[],i=O.asContentArray(t);O.hostMap.set(e,i),O.updateContent(e,n,i)}}(E||(E={})),function(t){function e(t){var n=arguments[1]||null,i=arguments[2]||null;if(n)n.insertBefore(e(t),i);else{if("text"===t.type)return document.createTextNode(t.content);if(r(n=document.createElement(t.tag),t.attrs),t.renderer)return t.renderer.render(n,{attrs:t.attrs,children:t.children}),n;for(var s=0,o=t.children.length;s<o;++s)e(t.children[s],n)}return n}function n(t,e,i,r){for(var s=e.length-1;s>=i;--s){var o=e[s],u=r?t.lastChild:t.childNodes[s];"text"===o.type||(o.renderer&&o.renderer.unrender?o.renderer.unrender(u,{attrs:o.attrs,children:o.children}):n(u,o.children,0,!1)),r&&t.removeChild(u)}}t.hostMap=new WeakMap,t.asContentArray=function(t){return t?t instanceof Array?t:[t]:[]},t.createDOMNode=e,t.updateContent=function t(i,r,o){if(r!==o){for(var u=function(t,e){for(var n=t.firstChild,i=Object.create(null),r=0,s=e;r<s.length;r++){var o=s[r];"element"===o.type&&o.attrs.key&&(i[o.attrs.key]={vNode:o,element:n}),n=n.nextSibling}return i}(i,r),a=r.slice(),h=i.firstChild,c=o.length,l=0;l<c;++l)if(l>=a.length)e(o[l],i);else{var f=a[l],d=o[l];if(f!==d)if("text"!==f.type||"text"!==d.type)if("text"!==f.type&&"text"!==d.type)if(!f.renderer==!d.renderer){var p=d.attrs.key;if(p&&p in u){var m=u[p];m.vNode!==f&&(y.ArrayExt.move(a,a.indexOf(m.vNode,l+1),l),i.insertBefore(m.element,h),f=m.vNode,h=m.element)}if(f!==d){var v=f.attrs.key;v&&v!==p?(y.ArrayExt.insert(a,l,d),e(d,i,h)):f.tag===d.tag?(s(h,f.attrs,d.attrs),d.renderer?d.renderer.render(h,{attrs:d.attrs,children:d.children}):t(h,f.children,d.children),h=h.nextSibling):(y.ArrayExt.insert(a,l,d),e(d,i,h))}else h=h.nextSibling}else y.ArrayExt.insert(a,l,d),e(d,i,h);else y.ArrayExt.insert(a,l,d),e(d,i,h);else h.textContent=d.content,h=h.nextSibling;else h=h.nextSibling}n(i,a,c,!0)}};var i={key:!0,className:!0,htmlFor:!0,dataset:!0,style:!0};function r(t,e){for(var n in e)n in i||("on"===n.substr(0,2)?t[n]=e[n]:t.setAttribute(n,e[n]));void 0!==e.className&&t.setAttribute("class",e.className),void 0!==e.htmlFor&&t.setAttribute("for",e.htmlFor),e.dataset&&function(t,e){for(var n in e)t.setAttribute("data-"+n,e[n])}(t,e.dataset),e.style&&function(t,e){var n,i=t.style;for(n in e)i[n]=e[n]}(t,e.style)}function s(t,e,n){if(e!==n){var r;for(r in e)r in i||r in n||("on"===r.substr(0,2)?t[r]=null:t.removeAttribute(r));for(r in n)r in i||e[r]===n[r]||("on"===r.substr(0,2)?t[r]=n[r]:t.setAttribute(r,n[r]));e.className!==n.className&&(void 0!==n.className?t.setAttribute("class",n.className):t.removeAttribute("class")),e.htmlFor!==n.htmlFor&&(void 0!==n.htmlFor?t.setAttribute("for",n.htmlFor):t.removeAttribute("for")),e.dataset!==n.dataset&&function(t,e,n){for(var i in e)i in n||t.removeAttribute("data-"+i);for(var r in n)e[r]!==n[r]&&t.setAttribute("data-"+r,n[r])}(t,e.dataset||{},n.dataset||{}),e.style!==n.style&&function(t,e,n){var i,r=t.style;for(i in e)i in n||(r[i]="");for(i in n)e[i]!==n[i]&&(r[i]=n[i])}(t,e.style||{},n.style||{})}}}(O||(O={})),__webpack_require__(725);var z=function(){function t(e,n){this.name=e,this._codes=n,this._keys=t.extractKeys(n)}return t.prototype.keys=function(){return Object.keys(this._keys)},t.prototype.isValidKey=function(t){return t in this._keys},t.prototype.keyForKeydownEvent=function(t){return this._codes[t.keyCode]||""},t}();!function(t){t.extractKeys=function(t){var e=Object.create(null);for(var n in t)e[t[n]]=!0;return e}}(z||(z={}));var N,P=new z("en-us",{8:"Backspace",9:"Tab",13:"Enter",19:"Pause",27:"Escape",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",93:"ContextMenu",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"});!function(t){t.keyboardLayout=P}(N||(N={}));var U=function(t,e){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function H(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}U(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var V,J=function(){return(J=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},G=function(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.size=0,this.done=!1};!function(t){t.calc=function(t,e){var n=t.length;if(0===n)return e;for(var i=0,r=0,s=0,o=0,u=0,a=0;a<n;++a){var h=(b=t[a]).minSize,c=b.maxSize,l=b.sizeHint;b.done=!1,b.size=Math.max(h,Math.min(l,c)),s+=b.size,i+=h,r+=c,b.stretch>0&&(o+=b.stretch,u++)}if(e===s)return 0;if(e<=i){for(a=0;a<n;++a)(b=t[a]).size=b.minSize;return e-i}if(e>=r){for(a=0;a<n;++a)(b=t[a]).size=b.maxSize;return e-r}var f=.01,d=n;if(e<s){for(var p=s-e;u>0&&p>f;){var m=p,v=o;for(a=0;a<n;++a)if(!(b=t[a]).done&&0!==b.stretch){var g=b.stretch*m/v;b.size-g<=b.minSize?(p-=b.size-b.minSize,o-=b.stretch,b.size=b.minSize,b.done=!0,d--,u--):(p-=g,b.size-=g)}}for(;d>0&&p>f;)for(g=p/d,a=0;a<n;++a)(b=t[a]).done||(b.size-g<=b.minSize?(p-=b.size-b.minSize,b.size=b.minSize,b.done=!0,d--):(p-=g,b.size-=g))}else{for(p=e-s;u>0&&p>f;)for(m=p,v=o,a=0;a<n;++a)(b=t[a]).done||0===b.stretch||(g=b.stretch*m/v,b.size+g>=b.maxSize?(p-=b.maxSize-b.size,o-=b.stretch,b.size=b.maxSize,b.done=!0,d--,u--):(p-=g,b.size+=g));for(;d>0&&p>f;)for(g=p/d,a=0;a<n;++a){var b;(b=t[a]).done||(b.size+g>=b.maxSize?(p-=b.maxSize-b.size,b.size=b.maxSize,b.done=!0,d--):(p-=g,b.size+=g))}}return 0},t.adjust=function(t,e,n){0!==t.length&&0!==n&&(n>0?function(t,e,n){for(var i=0,r=0;r<=e;++r)i+=(h=t[r]).maxSize-h.size;for(var s=0,o=(r=e+1,t.length);r<o;++r)s+=(h=t[r]).size-h.minSize;var u=n=Math.min(n,i,s);for(r=e;r>=0&&u>0;--r)(c=(h=t[r]).maxSize-h.size)>=u?(h.sizeHint=h.size+u,u=0):(h.sizeHint=h.size+c,u-=c);var a=n;for(r=e+1,o=t.length;r<o&&a>0;++r){var h,c;(c=(h=t[r]).size-h.minSize)>=a?(h.sizeHint=h.size-a,a=0):(h.sizeHint=h.size-c,a-=c)}}(t,e,n):function(t,e,n){for(var i=0,r=e+1,s=t.length;r<s;++r)i+=(h=t[r]).maxSize-h.size;var o=0;for(r=0;r<=e;++r)o+=(h=t[r]).size-h.minSize;var u=n=Math.min(n,i,o);for(r=e+1,s=t.length;r<s&&u>0;++r)(c=(h=t[r]).maxSize-h.size)>=u?(h.sizeHint=h.size+u,u=0):(h.sizeHint=h.size+c,u-=c);var a=n;for(r=e;r>=0&&a>0;--r){var h,c;(c=(h=t[r]).size-h.minSize)>=a?(h.sizeHint=h.size-a,a=0):(h.sizeHint=h.size-c,a-=c)}}(t,e,-n))}}(V||(V={}));var W,Z=function(){function t(t){this._label="",this._caption="",this._mnemonic=-1,this._iconClass="",this._iconLabel="",this._className="",this._closable=!1,this._changed=new R.Signal(this),this.owner=t.owner,void 0!==t.label&&(this._label=t.label),void 0!==t.mnemonic&&(this._mnemonic=t.mnemonic),void 0!==t.icon?"string"==typeof t.icon?(this._icon=null,this._iconClass=t.icon):this._icon=t.icon:this._icon=null,void 0!==t.iconClass&&(this._iconClass=t.iconClass),void 0!==t.iconLabel&&(this._iconLabel=t.iconLabel),void 0!==t.iconRenderer&&(this._icon=t.iconRenderer),void 0!==t.caption&&(this._caption=t.caption),void 0!==t.className&&(this._className=t.className),void 0!==t.closable&&(this._closable=t.closable),this._dataset=t.dataset||{}}return Object.defineProperty(t.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label},set:function(t){this._label!==t&&(this._label=t,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mnemonic",{get:function(){return this._mnemonic},set:function(t){this._mnemonic!==t&&(this._mnemonic=t,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return null===this._icon?this.iconClass:this._icon},set:function(t){if("string"==typeof t)this._icon=null,this.iconClass=t;else{if(this._icon===t)return;this._icon=t,this._changed.emit(void 0)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconClass",{get:function(){return this._iconClass},set:function(t){this._iconClass!==t&&(this._iconClass=t,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconLabel",{get:function(){return this._iconLabel},set:function(t){this._iconLabel!==t&&(this._iconLabel=t,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconRenderer",{get:function(){return this._icon||void 0},set:function(t){this.icon=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caption",{get:function(){return this._caption},set:function(t){this._caption!==t&&(this._caption=t,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return this._className},set:function(t){this._className!==t&&(this._className=t,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closable",{get:function(){return this._closable},set:function(t){this._closable!==t&&(this._closable=t,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataset",{get:function(){return this._dataset},set:function(t){this._dataset!==t&&(this._dataset=t,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),t}(),K=function(){function t(t){void 0===t&&(t={}),this._flags=0,this._layout=null,this._parent=null,this._disposed=new R.Signal(this),this.node=W.createNode(t),this.addClass("lm-Widget"),this.addClass("p-Widget")}return t.prototype.dispose=function(){this.isDisposed||(this.setFlag(t.Flag.IsDisposed),this._disposed.emit(void 0),this.parent?this.parent=null:this.isAttached&&t.detach(this),this._layout&&(this._layout.dispose(),this._layout=null),R.Signal.clearData(this),_.clearData(this),T.AttachedProperty.clearData(this))},Object.defineProperty(t.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this.testFlag(t.Flag.IsDisposed)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAttached",{get:function(){return this.testFlag(t.Flag.IsAttached)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHidden",{get:function(){return this.testFlag(t.Flag.IsHidden)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.testFlag(t.Flag.IsVisible)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return W.titleProperty.get(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.node.id},set:function(t){this.node.id=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataset",{get:function(){return this.node.dataset},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(e){if(this._parent!==e){if(e&&this.contains(e))throw new Error("Invalid parent widget.");if(this._parent&&!this._parent.isDisposed){var n=new t.ChildMessage("child-removed",this);_.sendMessage(this._parent,n)}this._parent=e,this._parent&&!this._parent.isDisposed&&(n=new t.ChildMessage("child-added",this),_.sendMessage(this._parent,n)),this.isDisposed||_.sendMessage(this,t.Msg.ParentChanged)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layout",{get:function(){return this._layout},set:function(e){if(this._layout!==e){if(this.testFlag(t.Flag.DisallowLayout))throw new Error("Cannot set widget layout.");if(this._layout)throw new Error("Cannot change widget layout.");if(e.parent)throw new Error("Cannot change layout parent.");this._layout=e,e.parent=this}},enumerable:!0,configurable:!0}),t.prototype.children=function(){return this._layout?this._layout.iter():(0,y.empty)()},t.prototype.contains=function(t){for(var e=t;e;e=e._parent)if(e===this)return!0;return!1},t.prototype.hasClass=function(t){return this.node.classList.contains(t)},t.prototype.addClass=function(t){this.node.classList.add(t)},t.prototype.removeClass=function(t){this.node.classList.remove(t)},t.prototype.toggleClass=function(t,e){return!0===e?(this.node.classList.add(t),!0):!1===e?(this.node.classList.remove(t),!1):this.node.classList.toggle(t)},t.prototype.update=function(){_.postMessage(this,t.Msg.UpdateRequest)},t.prototype.fit=function(){_.postMessage(this,t.Msg.FitRequest)},t.prototype.activate=function(){_.postMessage(this,t.Msg.ActivateRequest)},t.prototype.close=function(){_.sendMessage(this,t.Msg.CloseRequest)},t.prototype.show=function(){if(this.testFlag(t.Flag.IsHidden)&&(!this.isAttached||this.parent&&!this.parent.isVisible||_.sendMessage(this,t.Msg.BeforeShow),this.clearFlag(t.Flag.IsHidden),this.removeClass("lm-mod-hidden"),this.removeClass("p-mod-hidden"),!this.isAttached||this.parent&&!this.parent.isVisible||_.sendMessage(this,t.Msg.AfterShow),this.parent)){var e=new t.ChildMessage("child-shown",this);_.sendMessage(this.parent,e)}},t.prototype.hide=function(){if(!this.testFlag(t.Flag.IsHidden)&&(!this.isAttached||this.parent&&!this.parent.isVisible||_.sendMessage(this,t.Msg.BeforeHide),this.setFlag(t.Flag.IsHidden),this.addClass("lm-mod-hidden"),this.addClass("p-mod-hidden"),!this.isAttached||this.parent&&!this.parent.isVisible||_.sendMessage(this,t.Msg.AfterHide),this.parent)){var e=new t.ChildMessage("child-hidden",this);_.sendMessage(this.parent,e)}},t.prototype.setHidden=function(t){t?this.hide():this.show()},t.prototype.testFlag=function(t){return 0!=(this._flags&t)},t.prototype.setFlag=function(t){this._flags|=t},t.prototype.clearFlag=function(t){this._flags&=~t},t.prototype.processMessage=function(e){switch(e.type){case"resize":this.notifyLayout(e),this.onResize(e);break;case"update-request":this.notifyLayout(e),this.onUpdateRequest(e);break;case"fit-request":this.notifyLayout(e),this.onFitRequest(e);break;case"before-show":this.notifyLayout(e),this.onBeforeShow(e);break;case"after-show":this.setFlag(t.Flag.IsVisible),this.notifyLayout(e),this.onAfterShow(e);break;case"before-hide":this.notifyLayout(e),this.onBeforeHide(e);break;case"after-hide":this.clearFlag(t.Flag.IsVisible),this.notifyLayout(e),this.onAfterHide(e);break;case"before-attach":this.notifyLayout(e),this.onBeforeAttach(e);break;case"after-attach":this.isHidden||this.parent&&!this.parent.isVisible||this.setFlag(t.Flag.IsVisible),this.setFlag(t.Flag.IsAttached),this.notifyLayout(e),this.onAfterAttach(e);break;case"before-detach":this.notifyLayout(e),this.onBeforeDetach(e);break;case"after-detach":this.clearFlag(t.Flag.IsVisible),this.clearFlag(t.Flag.IsAttached),this.notifyLayout(e),this.onAfterDetach(e);break;case"activate-request":this.notifyLayout(e),this.onActivateRequest(e);break;case"close-request":this.notifyLayout(e),this.onCloseRequest(e);break;case"child-added":this.notifyLayout(e),this.onChildAdded(e);break;case"child-removed":this.notifyLayout(e),this.onChildRemoved(e);break;default:this.notifyLayout(e)}},t.prototype.notifyLayout=function(t){this._layout&&this._layout.processParentMessage(t)},t.prototype.onCloseRequest=function(e){this.parent?this.parent=null:this.isAttached&&t.detach(this)},t.prototype.onResize=function(t){},t.prototype.onUpdateRequest=function(t){},t.prototype.onFitRequest=function(t){},t.prototype.onActivateRequest=function(t){},t.prototype.onBeforeShow=function(t){},t.prototype.onAfterShow=function(t){},t.prototype.onBeforeHide=function(t){},t.prototype.onAfterHide=function(t){},t.prototype.onBeforeAttach=function(t){},t.prototype.onAfterAttach=function(t){},t.prototype.onBeforeDetach=function(t){},t.prototype.onAfterDetach=function(t){},t.prototype.onChildAdded=function(t){},t.prototype.onChildRemoved=function(t){},t}();!function(t){var e,n;(e=t.Flag||(t.Flag={}))[e.IsDisposed=1]="IsDisposed",e[e.IsAttached=2]="IsAttached",e[e.IsHidden=4]="IsHidden",e[e.IsVisible=8]="IsVisible",e[e.DisallowLayout=16]="DisallowLayout",(n=t.Msg||(t.Msg={})).BeforeShow=new A("before-show"),n.AfterShow=new A("after-show"),n.BeforeHide=new A("before-hide"),n.AfterHide=new A("after-hide"),n.BeforeAttach=new A("before-attach"),n.AfterAttach=new A("after-attach"),n.BeforeDetach=new A("before-detach"),n.AfterDetach=new A("after-detach"),n.ParentChanged=new A("parent-changed"),n.UpdateRequest=new C("update-request"),n.FitRequest=new C("fit-request"),n.ActivateRequest=new C("activate-request"),n.CloseRequest=new C("close-request");var i=function(t){function e(e,n){var i=t.call(this,e)||this;return i.child=n,i}return H(e,t),e}(A);t.ChildMessage=i;var r=function(t){function e(e,n){var i=t.call(this,"resize")||this;return i.width=e,i.height=n,i}return H(e,t),e}(A);t.ResizeMessage=r,function(t){t.UnknownSize=new t(-1,-1)}(r=t.ResizeMessage||(t.ResizeMessage={})),t.attach=function(e,n,i){if(void 0===i&&(i=null),e.parent)throw new Error("Cannot attach a child widget.");if(e.isAttached||document.body.contains(e.node))throw new Error("Widget is already attached.");if(!document.body.contains(n))throw new Error("Host is not attached.");_.sendMessage(e,t.Msg.BeforeAttach),n.insertBefore(e.node,i),_.sendMessage(e,t.Msg.AfterAttach)},t.detach=function(e){if(e.parent)throw new Error("Cannot detach a child widget.");if(!e.isAttached||!document.body.contains(e.node))throw new Error("Widget is not attached.");_.sendMessage(e,t.Msg.BeforeDetach),e.node.parentNode.removeChild(e.node),_.sendMessage(e,t.Msg.AfterDetach)}}(K||(K={})),function(t){t.titleProperty=new T.AttachedProperty({name:"title",create:function(t){return new Z({owner:t})}}),t.createNode=function(t){return t.node||document.createElement(t.tag||"div")}}(W||(W={}));var X=function(){function t(t){void 0===t&&(t={}),this._disposed=!1,this._parent=null,this._fitPolicy=t.fitPolicy||"set-min-size"}return t.prototype.dispose=function(){this._parent=null,this._disposed=!0,R.Signal.clearData(this),T.AttachedProperty.clearData(this)},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(t){if(this._parent!==t){if(this._parent)throw new Error("Cannot change parent widget.");if(t.layout!==this)throw new Error("Invalid parent widget.");this._parent=t,this.init()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fitPolicy",{get:function(){return this._fitPolicy},set:function(t){if(this._fitPolicy!==t&&(this._fitPolicy=t,this._parent)){var e=this._parent.node.style;e.minWidth="",e.minHeight="",e.maxWidth="",e.maxHeight="",this._parent.fit()}},enumerable:!0,configurable:!0}),t.prototype.processParentMessage=function(t){switch(t.type){case"resize":this.onResize(t);break;case"update-request":this.onUpdateRequest(t);break;case"fit-request":this.onFitRequest(t);break;case"before-show":this.onBeforeShow(t);break;case"after-show":this.onAfterShow(t);break;case"before-hide":this.onBeforeHide(t);break;case"after-hide":this.onAfterHide(t);break;case"before-attach":this.onBeforeAttach(t);break;case"after-attach":this.onAfterAttach(t);break;case"before-detach":this.onBeforeDetach(t);break;case"after-detach":this.onAfterDetach(t);break;case"child-removed":this.onChildRemoved(t);break;case"child-shown":this.onChildShown(t);break;case"child-hidden":this.onChildHidden(t)}},t.prototype.init=function(){var t=this;(0,y.each)(this,(function(e){e.parent=t.parent}))},t.prototype.onResize=function(t){(0,y.each)(this,(function(t){_.sendMessage(t,K.ResizeMessage.UnknownSize)}))},t.prototype.onUpdateRequest=function(t){(0,y.each)(this,(function(t){_.sendMessage(t,K.ResizeMessage.UnknownSize)}))},t.prototype.onBeforeAttach=function(t){(0,y.each)(this,(function(e){_.sendMessage(e,t)}))},t.prototype.onAfterAttach=function(t){(0,y.each)(this,(function(e){_.sendMessage(e,t)}))},t.prototype.onBeforeDetach=function(t){(0,y.each)(this,(function(e){_.sendMessage(e,t)}))},t.prototype.onAfterDetach=function(t){(0,y.each)(this,(function(e){_.sendMessage(e,t)}))},t.prototype.onBeforeShow=function(t){(0,y.each)(this,(function(e){e.isHidden||_.sendMessage(e,t)}))},t.prototype.onAfterShow=function(t){(0,y.each)(this,(function(e){e.isHidden||_.sendMessage(e,t)}))},t.prototype.onBeforeHide=function(t){(0,y.each)(this,(function(e){e.isHidden||_.sendMessage(e,t)}))},t.prototype.onAfterHide=function(t){(0,y.each)(this,(function(e){e.isHidden||_.sendMessage(e,t)}))},t.prototype.onChildRemoved=function(t){this.removeWidget(t.child)},t.prototype.onFitRequest=function(t){},t.prototype.onChildShown=function(t){},t.prototype.onChildHidden=function(t){},t}();!function(t){t.getHorizontalAlignment=function(t){return Y.horizontalAlignmentProperty.get(t)},t.setHorizontalAlignment=function(t,e){Y.horizontalAlignmentProperty.set(t,e)},t.getVerticalAlignment=function(t){return Y.verticalAlignmentProperty.get(t)},t.setVerticalAlignment=function(t,e){Y.verticalAlignmentProperty.set(t,e)}}(X||(X={}));var Y,Q=function(){function t(t){this._top=NaN,this._left=NaN,this._width=NaN,this._height=NaN,this._minWidth=0,this._minHeight=0,this._maxWidth=1/0,this._maxHeight=1/0,this._disposed=!1,this.widget=t,this.widget.node.style.position="absolute"}return t.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var t=this.widget.node.style;t.position="",t.top="",t.left="",t.width="",t.height=""}},Object.defineProperty(t.prototype,"minWidth",{get:function(){return this._minWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minHeight",{get:function(){return this._minHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxHeight",{get:function(){return this._maxHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHidden",{get:function(){return this.widget.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.widget.isVisible},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAttached",{get:function(){return this.widget.isAttached},enumerable:!0,configurable:!0}),t.prototype.fit=function(){var t=v.sizeLimits(this.widget.node);this._minWidth=t.minWidth,this._minHeight=t.minHeight,this._maxWidth=t.maxWidth,this._maxHeight=t.maxHeight},t.prototype.update=function(t,e,n,i){var r=Math.max(this._minWidth,Math.min(n,this._maxWidth)),s=Math.max(this._minHeight,Math.min(i,this._maxHeight));if(r<n)switch(X.getHorizontalAlignment(this.widget)){case"left":break;case"center":t+=(n-r)/2;break;case"right":t+=n-r;break;default:throw"unreachable"}if(s<i)switch(X.getVerticalAlignment(this.widget)){case"top":break;case"center":e+=(i-s)/2;break;case"bottom":e+=i-s;break;default:throw"unreachable"}var o=!1,u=this.widget.node.style;if(this._top!==e&&(this._top=e,u.top=e+"px"),this._left!==t&&(this._left=t,u.left=t+"px"),this._width!==r&&(o=!0,this._width=r,u.width=r+"px"),this._height!==s&&(o=!0,this._height=s,u.height=s+"px"),o){var a=new K.ResizeMessage(r,s);_.sendMessage(this.widget,a)}},t}();!function(t){function e(t){t.parent&&t.parent.layout&&t.parent.update()}t.horizontalAlignmentProperty=new T.AttachedProperty({name:"horizontalAlignment",create:function(){return"center"},changed:e}),t.verticalAlignmentProperty=new T.AttachedProperty({name:"verticalAlignment",create:function(){return"top"},changed:e})}(Y||(Y={}));var tt,et=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._widgets=[],e}return H(e,t),e.prototype.dispose=function(){for(;this._widgets.length>0;)this._widgets.pop().dispose();t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"widgets",{get:function(){return this._widgets},enumerable:!0,configurable:!0}),e.prototype.iter=function(){return(0,y.iter)(this._widgets)},e.prototype.addWidget=function(t){this.insertWidget(this._widgets.length,t)},e.prototype.insertWidget=function(t,e){e.parent=this.parent;var n=this._widgets.indexOf(e),i=Math.max(0,Math.min(t,this._widgets.length));if(-1===n)return y.ArrayExt.insert(this._widgets,i,e),void(this.parent&&this.attachWidget(i,e));i===this._widgets.length&&i--,n!==i&&(y.ArrayExt.move(this._widgets,n,i),this.parent&&this.moveWidget(n,i,e))},e.prototype.removeWidget=function(t){this.removeWidgetAt(this._widgets.indexOf(t))},e.prototype.removeWidgetAt=function(t){var e=y.ArrayExt.removeAt(this._widgets,t);e&&this.parent&&this.detachWidget(t,e)},e.prototype.init=function(){var e=this;t.prototype.init.call(this),(0,y.each)(this,(function(t,n){e.attachWidget(n,t)}))},e.prototype.attachWidget=function(t,e){var n=this.parent.node.children[t];this.parent.isAttached&&_.sendMessage(e,K.Msg.BeforeAttach),this.parent.node.insertBefore(e.node,n),this.parent.isAttached&&_.sendMessage(e,K.Msg.AfterAttach)},e.prototype.moveWidget=function(t,e,n){this.parent.isAttached&&_.sendMessage(n,K.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.isAttached&&_.sendMessage(n,K.Msg.AfterDetach);var i=this.parent.node.children[e];this.parent.isAttached&&_.sendMessage(n,K.Msg.BeforeAttach),this.parent.node.insertBefore(n.node,i),this.parent.isAttached&&_.sendMessage(n,K.Msg.AfterAttach)},e.prototype.detachWidget=function(t,e){this.parent.isAttached&&_.sendMessage(e,K.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&_.sendMessage(e,K.Msg.AfterDetach)},e}(X);!function(t){t.clampDimension=function(t){return Math.max(0,Math.floor(t))}}(tt||(tt={}));var nt,it=tt,rt=function(t){function e(e){var n=t.call(this)||this;return n.widgetOffset=0,n._fixed=0,n._spacing=4,n._dirty=!1,n._hasNormedSizes=!1,n._sizers=[],n._items=[],n._handles=[],n._box=null,n._alignment="start",n._orientation="horizontal",n.renderer=e.renderer,void 0!==e.orientation&&(n._orientation=e.orientation),void 0!==e.alignment&&(n._alignment=e.alignment),void 0!==e.spacing&&(n._spacing=tt.clampDimension(e.spacing)),n}return H(e,t),e.prototype.dispose=function(){(0,y.each)(this._items,(function(t){t.dispose()})),this._box=null,this._items.length=0,this._sizers.length=0,this._handles.length=0,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"orientation",{get:function(){return this._orientation},set:function(t){this._orientation!==t&&(this._orientation=t,this.parent&&(this.parent.dataset.orientation=t,this.parent.fit()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return this._alignment},set:function(t){this._alignment!==t&&(this._alignment=t,this.parent&&(this.parent.dataset.alignment=t,this.parent.update()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this._spacing},set:function(t){t=tt.clampDimension(t),this._spacing!==t&&(this._spacing=t,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"handles",{get:function(){return this._handles},enumerable:!0,configurable:!0}),e.prototype.relativeSizes=function(){return nt.normalize(this._sizers.map((function(t){return t.size})))},e.prototype.setRelativeSizes=function(t){for(var e=this._sizers.length,n=t.slice(0,e);n.length<e;)n.push(0);for(var i=nt.normalize(n),r=0;r<e;++r){var s=this._sizers[r];s.sizeHint=i[r],s.size=i[r]}this._hasNormedSizes=!0,this.parent&&this.parent.update()},e.prototype.moveHandle=function(t,e){var n,i=this._handles[t];if(i&&!i.classList.contains("lm-mod-hidden")&&0!=(n="horizontal"===this._orientation?e-i.offsetLeft:e-i.offsetTop)){for(var r=0,s=this._sizers;r<s.length;r++){var o=s[r];o.size>0&&(o.sizeHint=o.size)}V.adjust(this._sizers,t,n),this.parent&&this.parent.update()}},e.prototype.init=function(){this.parent.dataset.orientation=this.orientation,this.parent.dataset.alignment=this.alignment,t.prototype.init.call(this)},e.prototype.attachWidget=function(t,e){var n=new Q(e),i=nt.createHandle(this.renderer),r=nt.averageSize(this._sizers),s=nt.createSizer(r);y.ArrayExt.insert(this._items,t,n),y.ArrayExt.insert(this._sizers,t,s),y.ArrayExt.insert(this._handles,t,i),this.parent.isAttached&&_.sendMessage(e,K.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.node.appendChild(i),this.parent.isAttached&&_.sendMessage(e,K.Msg.AfterAttach),this.parent.fit()},e.prototype.moveWidget=function(t,e,n){y.ArrayExt.move(this._items,t,e),y.ArrayExt.move(this._sizers,t,e),y.ArrayExt.move(this._handles,t,e),this.parent.fit()},e.prototype.detachWidget=function(t,e){var n=y.ArrayExt.removeAt(this._items,t),i=y.ArrayExt.removeAt(this._handles,t);y.ArrayExt.removeAt(this._sizers,t),this.parent.isAttached&&_.sendMessage(e,K.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.node.removeChild(i),this.parent.isAttached&&_.sendMessage(e,K.Msg.AfterDetach),n.dispose(),this.parent.fit()},e.prototype.onBeforeShow=function(e){t.prototype.onBeforeShow.call(this,e),this.parent.update()},e.prototype.onBeforeAttach=function(e){t.prototype.onBeforeAttach.call(this,e),this.parent.fit()},e.prototype.onChildShown=function(t){this.parent.fit()},e.prototype.onChildHidden=function(t){this.parent.fit()},e.prototype.onResize=function(t){this.parent.isVisible&&this._update(t.width,t.height)},e.prototype.onUpdateRequest=function(t){this.parent.isVisible&&this._update(-1,-1)},e.prototype.onFitRequest=function(t){this.parent.isAttached&&this._fit()},e.prototype.updateItemPosition=function(t,e,n,i,r,s,o){var u=this._items[t];if(!u.isHidden){var a=this._handles[t].style;e?(n+=this.widgetOffset,u.update(n,i,o,r),n+=o,a.top=i+"px",a.left=n+"px",a.width=this._spacing+"px",a.height=r+"px"):(i+=this.widgetOffset,u.update(n,i,s,o),i+=o,a.top=i+"px",a.left=n+"px",a.width=s+"px",a.height=this._spacing+"px")}},e.prototype._fit=function(){for(var t=0,n=-1,i=0,r=this._items.length;i<r;++i)this._items[i].isHidden?(this._handles[i].classList.add("lm-mod-hidden"),this._handles[i].classList.add("p-mod-hidden")):(this._handles[i].classList.remove("lm-mod-hidden"),this._handles[i].classList.remove("p-mod-hidden"),n=i,t++);-1!==n&&(this._handles[n].classList.add("lm-mod-hidden"),this._handles[n].classList.add("p-mod-hidden")),this._fixed=this._spacing*Math.max(0,t-1)+this.widgetOffset*this._items.length;var s="horizontal"===this._orientation,o=s?this._fixed:0,u=s?0:this._fixed;for(i=0,r=this._items.length;i<r;++i){var a=this._items[i],h=this._sizers[i];h.size>0&&(h.sizeHint=h.size),a.isHidden?(h.minSize=0,h.maxSize=0):(a.fit(),h.stretch=e.getStretch(a.widget),s?(h.minSize=a.minWidth,h.maxSize=a.maxWidth,o+=a.minWidth,u=Math.max(u,a.minHeight)):(h.minSize=a.minHeight,h.maxSize=a.maxHeight,u+=a.minHeight,o=Math.max(o,a.minWidth)))}var c=this._box=v.boxSizing(this.parent.node);o+=c.horizontalSum,u+=c.verticalSum;var l=this.parent.node.style;l.minWidth=o+"px",l.minHeight=u+"px",this._dirty=!0,this.parent.parent&&_.sendMessage(this.parent.parent,K.Msg.FitRequest),this._dirty&&_.sendMessage(this.parent,K.Msg.UpdateRequest)},e.prototype._update=function(t,e){this._dirty=!1;for(var n=0,i=0,r=this._items.length;i<r;++i)n+=+!this._items[i].isHidden;if(0!==n||0!==this.widgetOffset){t<0&&(t=this.parent.node.offsetWidth),e<0&&(e=this.parent.node.offsetHeight),this._box||(this._box=v.boxSizing(this.parent.node));var s=this._box.paddingTop,o=this._box.paddingLeft,u=t-this._box.horizontalSum,a=e-this._box.verticalSum,h=0,c=0,l="horizontal"===this._orientation;if(n>0){var f;if(f=l?Math.max(0,u-this._fixed):Math.max(0,a-this._fixed),this._hasNormedSizes){for(var d=0,p=this._sizers;d<p.length;d++)p[d].sizeHint*=f;this._hasNormedSizes=!1}var m=V.calc(this._sizers,f);if(m>0)switch(this._alignment){case"start":break;case"center":h=0,c=m/2;break;case"end":h=0,c=m;break;case"justify":h=m/n,c=0;break;default:throw"unreachable"}}for(i=0,r=this._items.length;i<r;++i){var g=this._items[i].isHidden?0:this._sizers[i].size+h;this.updateItemPosition(i,l,l?o+c:o,l?s:s+c,a,u,g);var b=this.widgetOffset+(this._handles[i].classList.contains("lm-mod-hidden")?0:this._spacing);l?o+=g+b:s+=g+b}}},e}(et);!function(t){t.getStretch=function(t){return nt.stretchProperty.get(t)},t.setStretch=function(t,e){nt.stretchProperty.set(t,e)}}(rt||(rt={})),function(t){t.stretchProperty=new T.AttachedProperty({name:"stretch",create:function(){return 0},coerce:function(t,e){return Math.max(0,Math.floor(e))},changed:function(t){t.parent&&t.parent.layout instanceof rt&&t.parent.fit()}}),t.createSizer=function(t){var e=new G;return e.sizeHint=Math.floor(t),e},t.createHandle=function(t){var e=t.createHandle();return e.style.position="absolute",e},t.averageSize=function(t){return t.reduce((function(t,e){return t+e.size}),0)/t.length||0},t.normalize=function(t){var e=t.length;if(0===e)return[];var n=t.reduce((function(t,e){return t+Math.abs(e)}),0);return 0===n?t.map((function(t){return 1/e})):t.map((function(t){return t/n}))}}(nt||(nt={}));var st,ot=function(t){function e(e){var n=t.call(this,J(J({},e),{orientation:e.orientation||"vertical"}))||this;return n._titles=[],n.titleSpace=e.titleSpace||22,n}return H(e,t),Object.defineProperty(e.prototype,"titleSpace",{get:function(){return this.widgetOffset},set:function(t){t=it.clampDimension(t),this.widgetOffset!==t&&(this.widgetOffset=t,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titles",{get:function(){return this._titles},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.isDisposed||(this._titles.length=0,t.prototype.dispose.call(this))},e.prototype.attachWidget=function(e,n){var i=st.createTitle(this.renderer,n.title);i.style.position="absolute",i.setAttribute("aria-label",n.title.label+" Section"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-controls",n.id),i.classList.add("lm-mod-expanded"),y.ArrayExt.insert(this._titles,e,i),this.parent.node.appendChild(i),n.node.setAttribute("role","region"),n.node.setAttribute("aria-labelledby",i.id),t.prototype.attachWidget.call(this,e,n)},e.prototype.moveWidget=function(e,n,i){y.ArrayExt.move(this._titles,e,n),t.prototype.moveWidget.call(this,e,n,i)},e.prototype.detachWidget=function(e,n){var i=y.ArrayExt.removeAt(this._titles,e);this.parent.node.removeChild(i),t.prototype.detachWidget.call(this,e,n)},e.prototype.updateItemPosition=function(e,n,i,r,s,o,u){var a=this._titles[e].style;a.top=r+"px",a.left=i+"px",a.height=this.widgetOffset+"px",a.width=n?s+"px":o+"px",t.prototype.updateItemPosition.call(this,e,n,i,r,s,o,u)},e}(rt);!function(t){t.createTitle=function(t,e){return t.createSectionTitle(e)}}(st||(st={}));var ut,at=function(t){function e(e){void 0===e&&(e={});var n=t.call(this)||this;return n.addClass("lm-Panel"),n.addClass("p-Panel"),n.layout=ut.createLayout(e),n}return H(e,t),Object.defineProperty(e.prototype,"widgets",{get:function(){return this.layout.widgets},enumerable:!0,configurable:!0}),e.prototype.addWidget=function(t){this.layout.addWidget(t)},e.prototype.insertWidget=function(t,e){this.layout.insertWidget(t,e)},e}(K);!function(t){t.createLayout=function(t){return t.layout||new et}}(ut||(ut={}));var ht,ct=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,{layout:ht.createLayout(e)})||this;return n._pressData=null,n.addClass("lm-SplitPanel"),n.addClass("p-SplitPanel"),n}return H(e,t),e.prototype.dispose=function(){this._releaseMouse(),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"orientation",{get:function(){return this.layout.orientation},set:function(t){this.layout.orientation=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return this.layout.alignment},set:function(t){this.layout.alignment=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(t){this.layout.spacing=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"handles",{get:function(){return this.layout.handles},enumerable:!0,configurable:!0}),e.prototype.relativeSizes=function(){return this.layout.relativeSizes()},e.prototype.setRelativeSizes=function(t){this.layout.setRelativeSizes(t)},e.prototype.handleEvent=function(t){switch(t.type){case"mousedown":this._evtMouseDown(t);break;case"mousemove":this._evtMouseMove(t);break;case"mouseup":this._evtMouseUp(t);break;case"keydown":this._evtKeyDown(t);break;case"contextmenu":t.preventDefault(),t.stopPropagation()}},e.prototype.onBeforeAttach=function(t){this.node.addEventListener("mousedown",this)},e.prototype.onAfterDetach=function(t){this.node.removeEventListener("mousedown",this),this._releaseMouse()},e.prototype.onChildAdded=function(t){t.child.addClass("lm-SplitPanel-child"),t.child.addClass("p-SplitPanel-child"),this._releaseMouse()},e.prototype.onChildRemoved=function(t){t.child.removeClass("lm-SplitPanel-child"),t.child.removeClass("p-SplitPanel-child"),this._releaseMouse()},e.prototype._evtKeyDown=function(t){this._pressData&&(t.preventDefault(),t.stopPropagation()),27===t.keyCode&&this._releaseMouse()},e.prototype._evtMouseDown=function(t){if(0===t.button){var e=this.layout,n=y.ArrayExt.findFirstIndex(e.handles,(function(e){return e.contains(t.target)}));if(-1!==n){var i;t.preventDefault(),t.stopPropagation(),document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0);var r=e.handles[n],s=r.getBoundingClientRect();i="horizontal"===e.orientation?t.clientX-s.left:t.clientY-s.top;var o=window.getComputedStyle(r),u=f.Drag.overrideCursor(o.cursor);this._pressData={index:n,delta:i,override:u}}}},e.prototype._evtMouseMove=function(t){var e;t.preventDefault(),t.stopPropagation();var n=this.layout,i=this.node.getBoundingClientRect();e="horizontal"===n.orientation?t.clientX-i.left-this._pressData.delta:t.clientY-i.top-this._pressData.delta,n.moveHandle(this._pressData.index,e)},e.prototype._evtMouseUp=function(t){0===t.button&&(t.preventDefault(),t.stopPropagation(),this._releaseMouse())},e.prototype._releaseMouse=function(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,document.removeEventListener("mouseup",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("contextmenu",this,!0))},e}(at);!function(t){var e=function(){function t(){}return t.prototype.createHandle=function(){var t=document.createElement("div");return t.className="lm-SplitPanel-handle",t.classList.add("p-SplitPanel-handle"),t},t}();t.Renderer=e,t.defaultRenderer=new e,t.getStretch=function(t){return rt.getStretch(t)},t.setStretch=function(t,e){rt.setStretch(t,e)}}(ct||(ct={})),function(t){t.createLayout=function(t){return t.layout||new rt({renderer:t.renderer||ct.defaultRenderer,orientation:t.orientation,alignment:t.alignment,spacing:t.spacing})}}(ht||(ht={}));var lt,ft=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,J(J({},e),{layout:lt.createLayout(e)}))||this;return n.addClass("lm-AccordionPanel"),n}return H(e,t),Object.defineProperty(e.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titleSpace",{get:function(){return this.layout.titleSpace},set:function(t){this.layout.titleSpace=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titles",{get:function(){return this.layout.titles},enumerable:!0,configurable:!0}),e.prototype.handleEvent=function(e){switch(t.prototype.handleEvent.call(this,e),e.type){case"click":this._evtClick(e);break;case"keydown":this._eventKeyDown(e)}},e.prototype.onBeforeAttach=function(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),t.prototype.onBeforeAttach.call(this,e)},e.prototype.onAfterDetach=function(e){t.prototype.onAfterDetach.call(this,e),this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this)},e.prototype._evtClick=function(t){var e=t.target;if(e){var n=y.ArrayExt.findFirstIndex(this.titles,(function(t){return t.contains(e)}));if(n>=0){t.preventDefault(),t.stopPropagation();var i=this.layout.widgets[n];i.isHidden?(e.classList.add("lm-mod-expanded"),e.setAttribute("aria-expanded","true"),i.show()):(e.classList.remove("lm-mod-expanded"),e.setAttribute("aria-expanded","false"),i.hide())}}},e.prototype._eventKeyDown=function(t){if(!t.defaultPrevented){var e=t.target,n=!1;if(e){var i=y.ArrayExt.findFirstIndex(this.titles,(function(t){return t.contains(e)}));if(i>=0){var r=t.keyCode.toString();if(t.key.match(/Space|Enter/)||r.match(/13|32/))e.click(),n=!0;else if("horizontal"===this.orientation?t.key.match(/ArrowLeft|ArrowRight/)||r.match(/37|39/):t.key.match(/ArrowUp|ArrowDown/)||r.match(/38|40/)){var s=t.key.match(/ArrowLeft|ArrowUp/)||r.match(/37|38/)?-1:1,o=this.titles.length,u=(i+o+s)%o;this.titles[u].focus(),n=!0}else"End"===t.key||"35"===r?(this.titles[this.titles.length-1].focus(),n=!0):"Home"!==t.key&&"36"!==r||(this.titles[0].focus(),n=!0)}n&&t.preventDefault()}}},e}(ct);!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.titleClassName="lm-AccordionPanel-title",e._titleID=0,e._titleKeys=new WeakMap,e}return H(e,t),e.prototype.createCollapseIcon=function(t){return document.createElement("span")},e.prototype.createSectionTitle=function(t){var e=document.createElement("h3");for(var n in e.setAttribute("role","button"),e.setAttribute("tabindex","0"),e.id=this.createTitleKey(t),e.className=this.titleClassName,e.title=t.caption,t.dataset)e.dataset[n]=t.dataset[n];e.appendChild(this.createCollapseIcon(t)).className="lm-AccordionPanel-titleCollapser";var i=e.appendChild(document.createElement("span"));return i.className="lm-AccordionPanel-titleLabel",i.textContent=t.label,e},e.prototype.createTitleKey=function(t){var e=this._titleKeys.get(t);return void 0===e&&(e="title-key-"+this._titleID++,this._titleKeys.set(t,e)),e},e}(ct.Renderer);t.Renderer=e,t.defaultRenderer=new e}(ft||(ft={})),function(t){t.createLayout=function(t){return t.layout||new ot({renderer:t.renderer||ft.defaultRenderer,orientation:t.orientation,alignment:t.alignment,spacing:t.spacing,titleSpace:t.titleSpace})}}(lt||(lt={}));var dt,pt=function(t){function e(e){void 0===e&&(e={});var n=t.call(this)||this;return n._fixed=0,n._spacing=4,n._dirty=!1,n._sizers=[],n._items=[],n._box=null,n._alignment="start",n._direction="top-to-bottom",void 0!==e.direction&&(n._direction=e.direction),void 0!==e.alignment&&(n._alignment=e.alignment),void 0!==e.spacing&&(n._spacing=it.clampDimension(e.spacing)),n}return H(e,t),e.prototype.dispose=function(){(0,y.each)(this._items,(function(t){t.dispose()})),this._box=null,this._items.length=0,this._sizers.length=0,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(t){this._direction!==t&&(this._direction=t,this.parent&&(this.parent.dataset.direction=t,this.parent.fit()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return this._alignment},set:function(t){this._alignment!==t&&(this._alignment=t,this.parent&&(this.parent.dataset.alignment=t,this.parent.update()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this._spacing},set:function(t){t=it.clampDimension(t),this._spacing!==t&&(this._spacing=t,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.parent.dataset.direction=this.direction,this.parent.dataset.alignment=this.alignment,t.prototype.init.call(this)},e.prototype.attachWidget=function(t,e){y.ArrayExt.insert(this._items,t,new Q(e)),y.ArrayExt.insert(this._sizers,t,new G),this.parent.isAttached&&_.sendMessage(e,K.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&_.sendMessage(e,K.Msg.AfterAttach),this.parent.fit()},e.prototype.moveWidget=function(t,e,n){y.ArrayExt.move(this._items,t,e),y.ArrayExt.move(this._sizers,t,e),this.parent.update()},e.prototype.detachWidget=function(t,e){var n=y.ArrayExt.removeAt(this._items,t);y.ArrayExt.removeAt(this._sizers,t),this.parent.isAttached&&_.sendMessage(e,K.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&_.sendMessage(e,K.Msg.AfterDetach),n.dispose(),this.parent.fit()},e.prototype.onBeforeShow=function(e){t.prototype.onBeforeShow.call(this,e),this.parent.update()},e.prototype.onBeforeAttach=function(e){t.prototype.onBeforeAttach.call(this,e),this.parent.fit()},e.prototype.onChildShown=function(t){this.parent.fit()},e.prototype.onChildHidden=function(t){this.parent.fit()},e.prototype.onResize=function(t){this.parent.isVisible&&this._update(t.width,t.height)},e.prototype.onUpdateRequest=function(t){this.parent.isVisible&&this._update(-1,-1)},e.prototype.onFitRequest=function(t){this.parent.isAttached&&this._fit()},e.prototype._fit=function(){for(var t=0,n=0,i=this._items.length;n<i;++n)t+=+!this._items[n].isHidden;this._fixed=this._spacing*Math.max(0,t-1);var r=dt.isHorizontal(this._direction),s=r?this._fixed:0,o=r?0:this._fixed;for(n=0,i=this._items.length;n<i;++n){var u=this._items[n],a=this._sizers[n];u.isHidden?(a.minSize=0,a.maxSize=0):(u.fit(),a.sizeHint=e.getSizeBasis(u.widget),a.stretch=e.getStretch(u.widget),r?(a.minSize=u.minWidth,a.maxSize=u.maxWidth,s+=u.minWidth,o=Math.max(o,u.minHeight)):(a.minSize=u.minHeight,a.maxSize=u.maxHeight,o+=u.minHeight,s=Math.max(s,u.minWidth)))}var h=this._box=v.boxSizing(this.parent.node);s+=h.horizontalSum,o+=h.verticalSum;var c=this.parent.node.style;c.minWidth=s+"px",c.minHeight=o+"px",this._dirty=!0,this.parent.parent&&_.sendMessage(this.parent.parent,K.Msg.FitRequest),this._dirty&&_.sendMessage(this.parent,K.Msg.UpdateRequest)},e.prototype._update=function(t,e){this._dirty=!1;for(var n=0,i=0,r=this._items.length;i<r;++i)n+=+!this._items[i].isHidden;if(0!==n){t<0&&(t=this.parent.node.offsetWidth),e<0&&(e=this.parent.node.offsetHeight),this._box||(this._box=v.boxSizing(this.parent.node));var s,o=this._box.paddingTop,u=this._box.paddingLeft,a=t-this._box.horizontalSum,h=e-this._box.verticalSum;switch(this._direction){case"left-to-right":s=V.calc(this._sizers,Math.max(0,a-this._fixed));break;case"top-to-bottom":s=V.calc(this._sizers,Math.max(0,h-this._fixed));break;case"right-to-left":s=V.calc(this._sizers,Math.max(0,a-this._fixed)),u+=a;break;case"bottom-to-top":s=V.calc(this._sizers,Math.max(0,h-this._fixed)),o+=h;break;default:throw"unreachable"}var c=0,l=0;if(s>0)switch(this._alignment){case"start":break;case"center":c=0,l=s/2;break;case"end":c=0,l=s;break;case"justify":c=s/n,l=0;break;default:throw"unreachable"}for(i=0,r=this._items.length;i<r;++i){var f=this._items[i];if(!f.isHidden){var d=this._sizers[i].size;switch(this._direction){case"left-to-right":f.update(u+l,o,d+c,h),u+=d+c+this._spacing;break;case"top-to-bottom":f.update(u,o+l,a,d+c),o+=d+c+this._spacing;break;case"right-to-left":f.update(u-l-d-c,o,d+c,h),u-=d+c+this._spacing;break;case"bottom-to-top":f.update(u,o-l-d-c,a,d+c),o-=d+c+this._spacing;break;default:throw"unreachable"}}}}},e}(et);!function(t){t.getStretch=function(t){return dt.stretchProperty.get(t)},t.setStretch=function(t,e){dt.stretchProperty.set(t,e)},t.getSizeBasis=function(t){return dt.sizeBasisProperty.get(t)},t.setSizeBasis=function(t,e){dt.sizeBasisProperty.set(t,e)}}(pt||(pt={})),function(t){function e(t){t.parent&&t.parent.layout instanceof pt&&t.parent.fit()}t.stretchProperty=new T.AttachedProperty({name:"stretch",create:function(){return 0},coerce:function(t,e){return Math.max(0,Math.floor(e))},changed:e}),t.sizeBasisProperty=new T.AttachedProperty({name:"sizeBasis",create:function(){return 0},coerce:function(t,e){return Math.max(0,Math.floor(e))},changed:e}),t.isHorizontal=function(t){return"left-to-right"===t||"right-to-left"===t},t.clampSpacing=function(t){return Math.max(0,Math.floor(t))}}(dt||(dt={}));var mt,vt=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,{layout:mt.createLayout(e)})||this;return n.addClass("lm-BoxPanel"),n.addClass("p-BoxPanel"),n}return H(e,t),Object.defineProperty(e.prototype,"direction",{get:function(){return this.layout.direction},set:function(t){this.layout.direction=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return this.layout.alignment},set:function(t){this.layout.alignment=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(t){this.layout.spacing=t},enumerable:!0,configurable:!0}),e.prototype.onChildAdded=function(t){t.child.addClass("lm-BoxPanel-child"),t.child.addClass("p-BoxPanel-child")},e.prototype.onChildRemoved=function(t){t.child.removeClass("lm-BoxPanel-child"),t.child.removeClass("p-BoxPanel-child")},e}(at);!function(t){t.getStretch=function(t){return pt.getStretch(t)},t.setStretch=function(t,e){pt.setStretch(t,e)},t.getSizeBasis=function(t){return pt.getSizeBasis(t)},t.setSizeBasis=function(t,e){pt.setSizeBasis(t,e)}}(vt||(vt={})),function(t){t.createLayout=function(t){return t.layout||new pt(t)}}(mt||(mt={}));var gt,bt=function(t){function e(n){var i=t.call(this,{node:gt.createNode()})||this;return i._activeIndex=-1,i._items=[],i._results=null,i.addClass("lm-CommandPalette"),i.addClass("p-CommandPalette"),i.setFlag(K.Flag.DisallowLayout),i.commands=n.commands,i.renderer=n.renderer||e.defaultRenderer,i.commands.commandChanged.connect(i._onGenericChange,i),i.commands.keyBindingChanged.connect(i._onGenericChange,i),i}return H(e,t),e.prototype.dispose=function(){this._items.length=0,this._results=null,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"searchNode",{get:function(){return this.node.getElementsByClassName("lm-CommandPalette-search")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputNode",{get:function(){return this.node.getElementsByClassName("lm-CommandPalette-input")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-CommandPalette-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),e.prototype.addItem=function(t){var e=gt.createItem(this.commands,t);return this._items.push(e),this.refresh(),e},e.prototype.addItems=function(t){var e=this,n=t.map((function(t){return gt.createItem(e.commands,t)}));return n.forEach((function(t){return e._items.push(t)})),this.refresh(),n},e.prototype.removeItem=function(t){this.removeItemAt(this._items.indexOf(t))},e.prototype.removeItemAt=function(t){y.ArrayExt.removeAt(this._items,t)&&this.refresh()},e.prototype.clearItems=function(){0!==this._items.length&&(this._items.length=0,this.refresh())},e.prototype.refresh=function(){this._results=null,""!==this.inputNode.value?this.node.getElementsByClassName("lm-close-icon")[0].style.display="inherit":this.node.getElementsByClassName("lm-close-icon")[0].style.display="none",this.update()},e.prototype.handleEvent=function(t){switch(t.type){case"click":this._evtClick(t);break;case"keydown":this._evtKeyDown(t);break;case"input":this.refresh();break;case"focus":case"blur":this._toggleFocused()}},e.prototype.onBeforeAttach=function(t){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),this.node.addEventListener("input",this),this.node.addEventListener("focus",this,!0),this.node.addEventListener("blur",this,!0)},e.prototype.onAfterDetach=function(t){this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this),this.node.removeEventListener("input",this),this.node.removeEventListener("focus",this,!0),this.node.removeEventListener("blur",this,!0)},e.prototype.onActivateRequest=function(t){if(this.isAttached){var e=this.inputNode;e.focus(),e.select()}},e.prototype.onUpdateRequest=function(t){var e=this.inputNode.value,n=this.contentNode,i=this._results;if(i||(i=this._results=gt.search(this._items,e),this._activeIndex=e?y.ArrayExt.findFirstIndex(i,gt.canActivate):-1),e||0!==i.length)if(e&&0===i.length){var r=this.renderer.renderEmptyMessage({query:e});E.render(r,n)}else{for(var s=this.renderer,o=this._activeIndex,u=new Array(i.length),a=0,h=i.length;a<h;++a){var c=i[a];if("header"===c.type){var l=c.indices,f=c.category;u[a]=s.renderHeader({category:f,indices:l})}else{var d=c.item,p=(l=c.indices,a===o);u[a]=s.renderItem({item:d,indices:l,active:p})}}if(E.render(u,n),o<0||o>=i.length)n.scrollTop=0;else{var m=n.children[o];v.scrollIntoViewIfNeeded(n,m)}}else E.render(null,n)},e.prototype._evtClick=function(t){if(0===t.button){if(t.target.classList.contains("lm-close-icon"))return this.inputNode.value="",void this.refresh();var e=y.ArrayExt.findFirstIndex(this.contentNode.children,(function(e){return e.contains(t.target)}));-1!==e&&(t.preventDefault(),t.stopPropagation(),this._execute(e))}},e.prototype._evtKeyDown=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey))switch(t.keyCode){case 13:t.preventDefault(),t.stopPropagation(),this._execute(this._activeIndex);break;case 38:t.preventDefault(),t.stopPropagation(),this._activatePreviousItem();break;case 40:t.preventDefault(),t.stopPropagation(),this._activateNextItem()}},e.prototype._activateNextItem=function(){if(this._results&&0!==this._results.length){var t=this._activeIndex,e=this._results.length,n=t<e-1?t+1:0,i=0===n?e-1:n-1;this._activeIndex=y.ArrayExt.findFirstIndex(this._results,gt.canActivate,n,i),this.update()}},e.prototype._activatePreviousItem=function(){if(this._results&&0!==this._results.length){var t=this._activeIndex,e=this._results.length,n=t<=0?e-1:t-1,i=n===e-1?0:n+1;this._activeIndex=y.ArrayExt.findLastIndex(this._results,gt.canActivate,n,i),this.update()}},e.prototype._execute=function(t){if(this._results){var e=this._results[t];if(e){if("header"===e.type){var n=this.inputNode;return n.value=e.category.toLowerCase()+" ",n.focus(),void this.refresh()}e.item.isEnabled&&(this.commands.execute(e.item.command,e.item.args),this.inputNode.value="",this.refresh())}}},e.prototype._toggleFocused=function(){var t=document.activeElement===this.inputNode;this.toggleClass("lm-mod-focused",t),this.toggleClass("p-mod-focused",t)},e.prototype._onGenericChange=function(){this.refresh()},e}(K);!function(t){var e=function(){function t(){}return t.prototype.renderHeader=function(t){var e=this.formatHeader(t);return L.li({className:"lm-CommandPalette-header p-CommandPalette-header"},e)},t.prototype.renderItem=function(t){var e=this.createItemClass(t),n=this.createItemDataset(t);return t.item.isToggleable?L.li({className:e,dataset:n,role:"checkbox","aria-checked":""+t.item.isToggled},this.renderItemIcon(t),this.renderItemContent(t),this.renderItemShortcut(t)):L.li({className:e,dataset:n},this.renderItemIcon(t),this.renderItemContent(t),this.renderItemShortcut(t))},t.prototype.renderEmptyMessage=function(t){var e=this.formatEmptyMessage(t);return L.li({className:"lm-CommandPalette-emptyMessage p-CommandPalette-emptyMessage"},e)},t.prototype.renderItemIcon=function(t){var e=this.createIconClass(t);return"string"==typeof t.item.icon?L.div({className:e},t.item.iconLabel):L.div({className:e},t.item.icon,t.item.iconLabel)},t.prototype.renderItemContent=function(t){return L.div({className:"lm-CommandPalette-itemContent p-CommandPalette-itemContent"},this.renderItemLabel(t),this.renderItemCaption(t))},t.prototype.renderItemLabel=function(t){var e=this.formatItemLabel(t);return L.div({className:"lm-CommandPalette-itemLabel p-CommandPalette-itemLabel"},e)},t.prototype.renderItemCaption=function(t){var e=this.formatItemCaption(t);return L.div({className:"lm-CommandPalette-itemCaption p-CommandPalette-itemCaption"},e)},t.prototype.renderItemShortcut=function(t){var e=this.formatItemShortcut(t);return L.div({className:"lm-CommandPalette-itemShortcut p-CommandPalette-itemShortcut"},e)},t.prototype.createItemClass=function(t){var e="lm-CommandPalette-item";e+=" p-CommandPalette-item",t.item.isEnabled||(e+=" lm-mod-disabled",e+=" p-mod-disabled"),t.item.isToggled&&(e+=" lm-mod-toggled",e+=" p-mod-toggled"),t.active&&(e+=" lm-mod-active",e+=" p-mod-active");var n=t.item.className;return n&&(e+=" "+n),e},t.prototype.createItemDataset=function(t){return J(J({},t.item.dataset),{command:t.item.command})},t.prototype.createIconClass=function(t){var e="lm-CommandPalette-itemIcon";e+=" p-CommandPalette-itemIcon";var n=t.item.iconClass;return n?e+" "+n:e},t.prototype.formatHeader=function(t){return t.indices&&0!==t.indices.length?y.StringExt.highlight(t.category,t.indices,L.mark):t.category},t.prototype.formatEmptyMessage=function(t){return"No commands found that match '"+t.query+"'"},t.prototype.formatItemShortcut=function(t){var e=t.item.keyBinding;return e?e.keys.map(f.CommandRegistry.formatKeystroke).join(", "):null},t.prototype.formatItemLabel=function(t){return t.indices&&0!==t.indices.length?y.StringExt.highlight(t.item.label,t.indices,L.mark):t.item.label},t.prototype.formatItemCaption=function(t){return t.item.caption},t}();t.Renderer=e,t.defaultRenderer=new e}(bt||(bt={})),function(t){function e(t,e){for(var n=t.category.toLowerCase(),i=n+" "+t.label.toLowerCase(),r=1/0,s=null,o=/\b\w/g;;){var u=o.exec(i);if(!u)break;var a=y.StringExt.matchSumOfDeltas(i,e,u.index);if(!a)break;a&&a.score<=r&&(r=a.score,s=a.indices)}if(!s||r===1/0)return null;for(var h=n.length+1,c=y.ArrayExt.lowerBound(s,h,(function(t,e){return t-e})),l=s.slice(0,c),f=s.slice(c),d=0,p=f.length;d<p;++d)f[d]-=h;return 0===l.length?{matchType:0,categoryIndices:null,labelIndices:f,score:r,item:t}:0===f.length?{matchType:1,categoryIndices:l,labelIndices:null,score:r,item:t}:{matchType:2,categoryIndices:l,labelIndices:f,score:r,item:t}}function n(t,e){var n=t.matchType-e.matchType;if(0!==n)return n;var i=t.score-e.score;if(0!==i)return i;var r=0,s=0;switch(t.matchType){case 0:r=t.labelIndices[0],s=e.labelIndices[0];break;case 1:case 2:r=t.categoryIndices[0],s=e.categoryIndices[0]}if(r!==s)return r-s;var o=t.item.category.localeCompare(e.item.category);if(0!==o)return o;var u=t.item.rank,a=e.item.rank;return u!==a?u<a?-1:1:t.item.label.localeCompare(e.item.label)}t.createNode=function(){var t=document.createElement("div"),e=document.createElement("div"),n=document.createElement("div"),i=document.createElement("input"),r=document.createElement("ul"),s=document.createElement("button");return e.className="lm-CommandPalette-search",n.className="lm-CommandPalette-wrapper",i.className="lm-CommandPalette-input",s.className="lm-close-icon",r.className="lm-CommandPalette-content",e.classList.add("p-CommandPalette-search"),n.classList.add("p-CommandPalette-wrapper"),i.classList.add("p-CommandPalette-input"),r.classList.add("p-CommandPalette-content"),i.spellcheck=!1,n.appendChild(i),n.appendChild(s),e.appendChild(n),t.appendChild(e),t.appendChild(r),t},t.createItem=function(t,e){return new i(t,e)},t.search=function(t,i){var r=function(t,n){n=n.replace(/\s+/g,"").toLowerCase();for(var i=[],r=0,s=t.length;r<s;++r){var o=t[r];if(o.isVisible)if(n){var u=e(o,n);u&&(o.isEnabled||(u.score+=1e3),i.push(u))}else i.push({matchType:3,categoryIndices:null,labelIndices:null,score:0,item:o})}return i}(t,i);return r.sort(n),function(t){var e=new Array(t.length);y.ArrayExt.fill(e,!1);for(var n=[],i=0,r=t.length;i<r;++i)if(!e[i]){var s=t[i],o=s.item,u=s.categoryIndices,a=o.category;n.push({type:"header",category:a,indices:u});for(var h=i;h<r;++h)if(!e[h]){var c=t[h],l=c.item,f=c.labelIndices;l.category===a&&(n.push({type:"item",item:l,indices:f}),e[h]=!0)}}return n}(r)},t.canActivate=function(t){return"item"===t.type&&t.item.isEnabled};var i=function(){function t(t,e){this._commands=t,this.category=e.category.trim().replace(/\s+/g," "),this.command=e.command,this.args=e.args||F.JSONExt.emptyObject,this.rank=void 0!==e.rank?e.rank:1/0}return Object.defineProperty(t.prototype,"label",{get:function(){return this._commands.label(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return this._commands.icon(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconClass",{get:function(){return this._commands.iconClass(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconLabel",{get:function(){return this._commands.iconLabel(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caption",{get:function(){return this._commands.caption(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return this._commands.className(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataset",{get:function(){return this._commands.dataset(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEnabled",{get:function(){return this._commands.isEnabled(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isToggled",{get:function(){return this._commands.isToggled(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isToggleable",{get:function(){return this._commands.isToggleable(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this._commands.isVisible(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyBinding",{get:function(){var t=this.command,e=this.args;return y.ArrayExt.findLastValue(this._commands.keyBindings,(function(n){return n.command===t&&F.JSONExt.deepEqual(n.args,e)}))||null},enumerable:!0,configurable:!0}),t}()}(gt||(gt={}));var wt,yt,kt=function(t){function e(n){var i=t.call(this,{node:wt.createNode()})||this;return i._childIndex=-1,i._activeIndex=-1,i._openTimerID=0,i._closeTimerID=0,i._items=[],i._childMenu=null,i._parentMenu=null,i._aboutToClose=new R.Signal(i),i._menuRequested=new R.Signal(i),i.addClass("lm-Menu"),i.addClass("p-Menu"),i.setFlag(K.Flag.DisallowLayout),i.commands=n.commands,i.renderer=n.renderer||e.defaultRenderer,i}return H(e,t),e.prototype.dispose=function(){this.close(),this._items.length=0,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"aboutToClose",{get:function(){return this._aboutToClose},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"menuRequested",{get:function(){return this._menuRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentMenu",{get:function(){return this._parentMenu},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"childMenu",{get:function(){return this._childMenu},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rootMenu",{get:function(){for(var t=this;t._parentMenu;)t=t._parentMenu;return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leafMenu",{get:function(){for(var t=this;t._childMenu;)t=t._childMenu;return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-Menu-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeItem",{get:function(){return this._items[this._activeIndex]||null},set:function(t){this.activeIndex=t?this._items.indexOf(t):-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(t){(t<0||t>=this._items.length)&&(t=-1),-1===t||wt.canActivate(this._items[t])||(t=-1),this._activeIndex!==t&&(this._activeIndex=t,this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),e.prototype.activateNextItem=function(){var t=this._items.length,e=this._activeIndex,n=e<t-1?e+1:0,i=0===n?t-1:n-1;this.activeIndex=y.ArrayExt.findFirstIndex(this._items,wt.canActivate,n,i)},e.prototype.activatePreviousItem=function(){var t=this._items.length,e=this._activeIndex,n=e<=0?t-1:e-1,i=n===t-1?0:n+1;this.activeIndex=y.ArrayExt.findLastIndex(this._items,wt.canActivate,n,i)},e.prototype.triggerActiveItem=function(){if(this.isAttached){var t=this.activeItem;if(t)if(this._cancelOpenTimer(),this._cancelCloseTimer(),"submenu"!==t.type){this.rootMenu.close();var e=t.command,n=t.args;this.commands.isEnabled(e,n)?this.commands.execute(e,n):console.log("Command '"+e+"' is disabled.")}else this._openChildMenu(!0)}},e.prototype.addItem=function(t){return this.insertItem(this._items.length,t)},e.prototype.insertItem=function(t,e){this.isAttached&&this.close(),this.activeIndex=-1;var n=Math.max(0,Math.min(t,this._items.length)),i=wt.createItem(this,e);return y.ArrayExt.insert(this._items,n,i),this.update(),i},e.prototype.removeItem=function(t){this.removeItemAt(this._items.indexOf(t))},e.prototype.removeItemAt=function(t){this.isAttached&&this.close(),this.activeIndex=-1,y.ArrayExt.removeAt(this._items,t)&&this.update()},e.prototype.clearItems=function(){this.isAttached&&this.close(),this.activeIndex=-1,0!==this._items.length&&(this._items.length=0,this.update())},e.prototype.open=function(t,e,n){if(void 0===n&&(n={}),!this.isAttached){var i=n.forceX||!1,r=n.forceY||!1;wt.openRootMenu(this,t,e,i,r),this.activate()}},e.prototype.handleEvent=function(t){switch(t.type){case"keydown":this._evtKeyDown(t);break;case"mouseup":this._evtMouseUp(t);break;case"mousemove":this._evtMouseMove(t);break;case"mouseenter":this._evtMouseEnter(t);break;case"mouseleave":this._evtMouseLeave(t);break;case"mousedown":this._evtMouseDown(t);break;case"contextmenu":t.preventDefault(),t.stopPropagation()}},e.prototype.onBeforeAttach=function(t){this.node.addEventListener("keydown",this),this.node.addEventListener("mouseup",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseenter",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this),document.addEventListener("mousedown",this,!0)},e.prototype.onAfterDetach=function(t){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mouseup",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseenter",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),document.removeEventListener("mousedown",this,!0)},e.prototype.onActivateRequest=function(t){this.isAttached&&this.node.focus()},e.prototype.onUpdateRequest=function(t){for(var e=this,n=this._items,i=this.renderer,r=this._activeIndex,s=wt.computeCollapsed(n),o=new Array(n.length),u=function(t,u){var a=n[t],h=t===r,c=s[t];o[t]=i.renderItem({item:a,active:h,collapsed:c,onfocus:function(){e.activeIndex=t}})},a=0,h=n.length;a<h;++a)u(a);E.render(o,this.contentNode)},e.prototype.onCloseRequest=function(e){this._cancelOpenTimer(),this._cancelCloseTimer(),this.activeIndex=-1;var n=this._childMenu;n&&(this._childIndex=-1,this._childMenu=null,n._parentMenu=null,n.close());var i=this._parentMenu;i&&(this._parentMenu=null,i._childIndex=-1,i._childMenu=null,i.activate()),this.isAttached&&this._aboutToClose.emit(void 0),t.prototype.onCloseRequest.call(this,e)},e.prototype._evtKeyDown=function(t){t.preventDefault(),t.stopPropagation();var e=t.keyCode;if(13!==e)if(27!==e)if(37!==e)if(38!==e)if(39!==e)if(40!==e){var n=I().keyForKeydownEvent(t);if(n){var i=this._activeIndex+1,r=wt.findMnemonic(this._items,n,i);-1===r.index||r.multiple?-1!==r.index?this.activeIndex=r.index:-1!==r.auto&&(this.activeIndex=r.auto):(this.activeIndex=r.index,this.triggerActiveItem())}}else this.activateNextItem();else{var s=this.activeItem;s&&"submenu"===s.type?this.triggerActiveItem():this.rootMenu._menuRequested.emit("next")}else this.activatePreviousItem();else this._parentMenu?this.close():this._menuRequested.emit("previous");else this.close();else this.triggerActiveItem()},e.prototype._evtMouseUp=function(t){0===t.button&&(t.preventDefault(),t.stopPropagation(),this.triggerActiveItem())},e.prototype._evtMouseMove=function(t){var e=y.ArrayExt.findFirstIndex(this.contentNode.children,(function(e){return v.hitTest(e,t.clientX,t.clientY)}));if(e!==this._activeIndex){if(this.activeIndex=e,(e=this.activeIndex)===this._childIndex)return this._cancelOpenTimer(),void this._cancelCloseTimer();-1!==this._childIndex&&this._startCloseTimer(),this._cancelOpenTimer();var n=this.activeItem;n&&"submenu"===n.type&&n.submenu&&this._startOpenTimer()}},e.prototype._evtMouseEnter=function(t){for(var e=this._parentMenu;e;e=e._parentMenu)e._cancelOpenTimer(),e._cancelCloseTimer(),e.activeIndex=e._childIndex},e.prototype._evtMouseLeave=function(t){if(this._cancelOpenTimer(),this._childMenu){var e=t.clientX,n=t.clientY;v.hitTest(this._childMenu.node,e,n)?this._cancelCloseTimer():(this.activeIndex=-1,this._startCloseTimer())}else this.activeIndex=-1},e.prototype._evtMouseDown=function(t){this._parentMenu||(wt.hitTestMenus(this,t.clientX,t.clientY)?(t.preventDefault(),t.stopPropagation()):this.close())},e.prototype._openChildMenu=function(t){void 0===t&&(t=!1);var e=this.activeItem;if(e&&"submenu"===e.type&&e.submenu){var n=e.submenu;if(n!==this._childMenu){this._closeChildMenu(),this._childMenu=n,this._childIndex=this._activeIndex,n._parentMenu=this,_.sendMessage(this,K.Msg.UpdateRequest);var i=this.contentNode.children[this._activeIndex];wt.openSubmenu(n,i),t&&(n.activeIndex=-1,n.activateNextItem()),n.activate()}}else this._closeChildMenu()},e.prototype._closeChildMenu=function(){this._childMenu&&this._childMenu.close()},e.prototype._startOpenTimer=function(){var t=this;0===this._openTimerID&&(this._openTimerID=window.setTimeout((function(){t._openTimerID=0,t._openChildMenu()}),wt.TIMER_DELAY))},e.prototype._startCloseTimer=function(){var t=this;0===this._closeTimerID&&(this._closeTimerID=window.setTimeout((function(){t._closeTimerID=0,t._closeChildMenu()}),wt.TIMER_DELAY))},e.prototype._cancelOpenTimer=function(){0!==this._openTimerID&&(clearTimeout(this._openTimerID),this._openTimerID=0)},e.prototype._cancelCloseTimer=function(){0!==this._closeTimerID&&(clearTimeout(this._closeTimerID),this._closeTimerID=0)},e}(K);!function(t){var e=function(){function t(){}return t.prototype.renderItem=function(t){var e=this.createItemClass(t),n=this.createItemDataset(t),i=this.createItemARIA(t);return L.li(J({className:e,dataset:n,tabindex:"0",onfocus:t.onfocus},i),this.renderIcon(t),this.renderLabel(t),this.renderShortcut(t),this.renderSubmenu(t))},t.prototype.renderIcon=function(t){var e=this.createIconClass(t);return"string"==typeof t.item.icon?L.div({className:e},t.item.iconLabel):L.div({className:e},t.item.icon,t.item.iconLabel)},t.prototype.renderLabel=function(t){var e=this.formatLabel(t);return L.div({className:"lm-Menu-itemLabel p-Menu-itemLabel"},e)},t.prototype.renderShortcut=function(t){var e=this.formatShortcut(t);return L.div({className:"lm-Menu-itemShortcut p-Menu-itemShortcut"},e)},t.prototype.renderSubmenu=function(t){return L.div({className:"lm-Menu-itemSubmenuIcon p-Menu-itemSubmenuIcon"})},t.prototype.createItemClass=function(t){var e="lm-Menu-item";e+=" p-Menu-item",t.item.isEnabled||(e+=" lm-mod-disabled",e+=" p-mod-disabled"),t.item.isToggled&&(e+=" lm-mod-toggled",e+=" p-mod-toggled"),t.item.isVisible||(e+=" lm-mod-hidden",e+=" p-mod-hidden"),t.active&&(e+=" lm-mod-active",e+=" p-mod-active"),t.collapsed&&(e+=" lm-mod-collapsed",e+=" p-mod-collapsed");var n=t.item.className;return n&&(e+=" "+n),e},t.prototype.createItemDataset=function(t){var e=t.item,n=e.type,i=e.command,r=e.dataset;return J(J({},r),"command"===n?{type:n,command:i}:{type:n})},t.prototype.createIconClass=function(t){var e="lm-Menu-itemIcon";e+=" p-Menu-itemIcon";var n=t.item.iconClass;return n?e+" "+n:e},t.prototype.createItemARIA=function(t){var e={};switch(t.item.type){case"separator":e.role="presentation";break;case"submenu":e["aria-haspopup"]="true",t.item.isEnabled||(e["aria-disabled"]="true");break;default:t.item.isEnabled||(e["aria-disabled"]="true"),e.role="menuitem"}return e},t.prototype.formatLabel=function(t){var e=t.item,n=e.label,i=e.mnemonic;if(i<0||i>=n.length)return n;var r=n.slice(0,i),s=n.slice(i+1),o=n[i];return[r,L.span({className:"lm-Menu-itemMnemonic p-Menu-itemMnemonic"},o),s]},t.prototype.formatShortcut=function(t){var e=t.item.keyBinding;return e?e.keys.map(f.CommandRegistry.formatKeystroke).join(", "):null},t}();t.Renderer=e,t.defaultRenderer=new e}(kt||(kt={})),function(t){function e(t){return"separator"!==t.type&&t.isEnabled&&t.isVisible}t.TIMER_DELAY=300,t.SUBMENU_OVERLAP=3,t.createNode=function(){var t=document.createElement("div"),e=document.createElement("ul");return e.className="lm-Menu-content",e.classList.add("p-Menu-content"),t.appendChild(e),e.setAttribute("role","menu"),t.tabIndex=0,t},t.canActivate=e,t.createItem=function(t,e){return new n(t.commands,e)},t.hitTestMenus=function(t,e,n){for(var i=t;i;i=i.childMenu)if(v.hitTest(i.node,e,n))return!0;return!1},t.computeCollapsed=function(t){var e=new Array(t.length);y.ArrayExt.fill(e,!1);for(var n=0,i=t.length;n<i;++n)if((o=t[n]).isVisible){if("separator"!==o.type)break;e[n]=!0}for(var r=i-1;r>=0;--r)if((o=t[r]).isVisible){if("separator"!==o.type)break;e[r]=!0}for(var s=!1;++n<r;){var o;(o=t[n]).isVisible&&("separator"!==o.type?s=!1:s?e[n]=!0:s=!0)}return e},t.openRootMenu=function(t,e,n,i,r){_.sendMessage(t,K.Msg.UpdateRequest);var s=window.pageXOffset,o=window.pageYOffset,u=document.documentElement.clientWidth,a=document.documentElement.clientHeight,h=a-(r?n:0),c=t.node,l=c.style;l.top="",l.left="",l.width="",l.height="",l.visibility="hidden",l.maxHeight=h+"px",K.attach(t,document.body);var f=c.getBoundingClientRect(),d=f.width,p=f.height;!i&&e+d>s+u&&(e=s+u-d),!r&&n+p>o+a&&(n>o+a?n=o+a-p:n-=p),l.top=Math.max(0,n)+"px",l.left=Math.max(0,e)+"px",l.visibility=""},t.openSubmenu=function(e,n){_.sendMessage(e,K.Msg.UpdateRequest);var i=window.pageXOffset,r=window.pageYOffset,s=document.documentElement.clientWidth,o=document.documentElement.clientHeight,u=o,a=e.node,h=a.style;h.top="",h.left="",h.width="",h.height="",h.visibility="hidden",h.maxHeight=u+"px",K.attach(e,document.body);var c=a.getBoundingClientRect(),l=c.width,f=c.height,d=v.boxSizing(e.node),p=n.getBoundingClientRect(),m=p.right-t.SUBMENU_OVERLAP;m+l>i+s&&(m=p.left+t.SUBMENU_OVERLAP-l);var g=p.top-d.borderTop-d.paddingTop;g+f>r+o&&(g=p.bottom+d.borderBottom+d.paddingBottom-f),h.top=Math.max(0,g)+"px",h.left=Math.max(0,m)+"px",h.visibility=""},t.findMnemonic=function(t,n,i){for(var r=-1,s=-1,o=!1,u=n.toUpperCase(),a=0,h=t.length;a<h;++a){var c=(a+i)%h,l=t[c];if(e(l)){var f=l.label;if(0!==f.length){var d=l.mnemonic;d>=0&&d<f.length?f[d].toUpperCase()===u&&(-1===r?r=c:o=!0):-1===s&&f[0].toUpperCase()===u&&(s=c)}}}return{index:r,multiple:o,auto:s}};var n=function(){function t(t,e){this._commands=t,this.type=e.type||"command",this.command=e.command||"",this.args=e.args||F.JSONExt.emptyObject,this.submenu=e.submenu||null}return Object.defineProperty(t.prototype,"label",{get:function(){return"command"===this.type?this._commands.label(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.label:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mnemonic",{get:function(){return"command"===this.type?this._commands.mnemonic(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.mnemonic:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return"command"===this.type?this._commands.icon(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.icon:this.iconClass},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconClass",{get:function(){return"command"===this.type?this._commands.iconClass(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.iconClass:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconLabel",{get:function(){return"command"===this.type?this._commands.iconLabel(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.iconLabel:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caption",{get:function(){return"command"===this.type?this._commands.caption(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.caption:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"command"===this.type?this._commands.className(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.className:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataset",{get:function(){return"command"===this.type?this._commands.dataset(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.dataset:{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEnabled",{get:function(){return"command"===this.type?this._commands.isEnabled(this.command,this.args):"submenu"!==this.type||null!==this.submenu},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isToggled",{get:function(){return"command"===this.type&&this._commands.isToggled(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return"command"===this.type?this._commands.isVisible(this.command,this.args):"submenu"!==this.type||null!==this.submenu},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyBinding",{get:function(){if("command"===this.type){var t=this.command,e=this.args;return y.ArrayExt.findLastValue(this._commands.keyBindings,(function(n){return n.command===t&&F.JSONExt.deepEqual(n.args,e)}))||null}return null},enumerable:!0,configurable:!0}),t}()}(wt||(wt={})),function(t){function e(t,e){var n=t.rank,i=e.rank;return n!==i?n<i?-1:1:t.id-e.id}function n(t,n){var i=b.calculateSpecificity(t.selector),r=b.calculateSpecificity(n.selector);return i!==r?r-i:e(t,n)}t.createItem=function(t,e){var n=function(t){if(-1!==t.indexOf(","))throw new Error("Selector cannot contain commas: "+t);if(!b.isValid(t))throw new Error("Invalid selector: "+t);return t}(t.selector),i=void 0!==t.rank?t.rank:1/0;return J(J({},t),{selector:n,rank:i,id:e})},t.matchItems=function(t,i,r,s){var o=i.target;if(!o)return null;var u=i.currentTarget;if(!u)return null;if(!(u.contains(o)||(o=document.elementFromPoint(i.clientX,i.clientY))&&u.contains(o)))return null;for(var a=[],h=t.slice();null!==o;){for(var c=[],l=0,f=h.length;l<f;++l){var d=h[l];d&&b.matches(o,d.selector)&&(c.push(d),h[l]=null)}if(0!==c.length&&(r&&c.sort(s?n:e),a.push.apply(a,c)),o===u)break;o=o.parentElement}return r||a.sort(s?n:e),a}}(yt||(yt={}));var Dt,jt=function(t){function e(n){void 0===n&&(n={});var i=t.call(this,{node:Dt.createNode()})||this;return i._currentIndex=-1,i._titles=[],i._titlesEditable=!1,i._previousTitle=null,i._dragData=null,i._addButtonEnabled=!1,i._tabMoved=new R.Signal(i),i._currentChanged=new R.Signal(i),i._addRequested=new R.Signal(i),i._tabCloseRequested=new R.Signal(i),i._tabDetachRequested=new R.Signal(i),i._tabActivateRequested=new R.Signal(i),i.addClass("lm-TabBar"),i.addClass("p-TabBar"),i.contentNode.setAttribute("role","tablist"),i.setFlag(K.Flag.DisallowLayout),i.tabsMovable=n.tabsMovable||!1,i.titlesEditable=n.titlesEditable||!1,i.allowDeselect=n.allowDeselect||!1,i.addButtonEnabled=n.addButtonEnabled||!1,i.insertBehavior=n.insertBehavior||"select-tab-if-needed",i.name=n.name||"",i.orientation=n.orientation||"horizontal",i.removeBehavior=n.removeBehavior||"select-tab-after",i.renderer=n.renderer||e.defaultRenderer,i}return H(e,t),e.prototype.dispose=function(){this._releaseMouse(),this._titles.length=0,this._previousTitle=null,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabMoved",{get:function(){return this._tabMoved},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabActivateRequested",{get:function(){return this._tabActivateRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addRequested",{get:function(){return this._addRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabCloseRequested",{get:function(){return this._tabCloseRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabDetachRequested",{get:function(){return this._tabDetachRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titlesEditable",{get:function(){return this._titlesEditable},set:function(t){this._titlesEditable=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentTitle",{get:function(){return this._titles[this._currentIndex]||null},set:function(t){this.currentIndex=t?this._titles.indexOf(t):-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentIndex",{get:function(){return this._currentIndex},set:function(t){if((t<0||t>=this._titles.length)&&(t=-1),this._currentIndex!==t){var e=this._currentIndex,n=this._titles[e]||null,i=t,r=this._titles[i]||null;this._currentIndex=i,this._previousTitle=n,this.update(),this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:i,currentTitle:r})}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t,t?this.contentNode.setAttribute("aria-label",t):this.contentNode.removeAttribute("aria-label")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){return this._orientation},set:function(t){this._orientation!==t&&(this._releaseMouse(),this._orientation=t,this.dataset.orientation=t,this.contentNode.setAttribute("aria-orientation",t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addButtonEnabled",{get:function(){return this._addButtonEnabled},set:function(t){this._addButtonEnabled!==t&&(this._addButtonEnabled=t,t?this.addButtonNode.classList.remove("lm-mod-hidden"):this.addButtonNode.classList.add("lm-mod-hidden"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titles",{get:function(){return this._titles},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-TabBar-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addButtonNode",{get:function(){return this.node.getElementsByClassName("lm-TabBar-addButton")[0]},enumerable:!0,configurable:!0}),e.prototype.addTab=function(t){return this.insertTab(this._titles.length,t)},e.prototype.insertTab=function(t,e){this._releaseMouse();var n=Dt.asTitle(e),i=this._titles.indexOf(n),r=Math.max(0,Math.min(t,this._titles.length));return-1===i?(y.ArrayExt.insert(this._titles,r,n),n.changed.connect(this._onTitleChanged,this),this.update(),this._adjustCurrentForInsert(r,n),n):(r===this._titles.length&&r--,i===r||(y.ArrayExt.move(this._titles,i,r),this.update(),this._adjustCurrentForMove(i,r)),n)},e.prototype.removeTab=function(t){this.removeTabAt(this._titles.indexOf(t))},e.prototype.removeTabAt=function(t){this._releaseMouse();var e=y.ArrayExt.removeAt(this._titles,t);e&&(e.changed.disconnect(this._onTitleChanged,this),e===this._previousTitle&&(this._previousTitle=null),this.update(),this._adjustCurrentForRemove(t,e))},e.prototype.clearTabs=function(){if(0!==this._titles.length){this._releaseMouse();for(var t=0,e=this._titles;t<e.length;t++)e[t].changed.disconnect(this._onTitleChanged,this);var n=this.currentIndex,i=this.currentTitle;this._currentIndex=-1,this._previousTitle=null,this._titles.length=0,this.update(),-1!==n&&this._currentChanged.emit({previousIndex:n,previousTitle:i,currentIndex:-1,currentTitle:null})}},e.prototype.releaseMouse=function(){this._releaseMouse()},e.prototype.handleEvent=function(t){switch(t.type){case"mousedown":this._evtMouseDown(t);break;case"mousemove":this._evtMouseMove(t);break;case"mouseup":this._evtMouseUp(t);break;case"dblclick":this._evtDblClick(t);break;case"keydown":this._evtKeyDown(t);break;case"contextmenu":t.preventDefault(),t.stopPropagation()}},e.prototype.onBeforeAttach=function(t){this.node.addEventListener("mousedown",this),this.node.addEventListener("dblclick",this)},e.prototype.onAfterDetach=function(t){this.node.removeEventListener("mousedown",this),this.node.removeEventListener("dblclick",this),this._releaseMouse()},e.prototype.onUpdateRequest=function(t){for(var e=this._titles,n=this.renderer,i=this.currentTitle,r=new Array(e.length),s=0,o=e.length;s<o;++s){var u=e[s],a=u===i,h=a?o:o-s-1;r[s]=n.renderTab({title:u,current:a,zIndex:h})}E.render(r,this.contentNode)},e.prototype._evtDblClick=function(t){if(this.titlesEditable){var e=this.contentNode.children,n=y.ArrayExt.findFirstIndex(e,(function(e){return v.hitTest(e,t.clientX,t.clientY)}));if(-1!==n){var i=this.titles[n],r=e[n].querySelector(".lm-TabBar-tabLabel");if(r&&r.contains(t.target)){var s=i.label||"",o=r.innerHTML;r.innerHTML="";var u=document.createElement("input");u.classList.add("lm-TabBar-tabInput"),u.value=s,r.appendChild(u);var a=function(){u.removeEventListener("blur",a),r.innerHTML=o};u.addEventListener("dblclick",(function(t){return t.stopPropagation()})),u.addEventListener("blur",a),u.addEventListener("keydown",(function(t){"Enter"===t.key?(""!==u.value&&(i.label=i.caption=u.value),a()):"Escape"===t.key&&a()})),u.select(),u.focus(),r.children.length>0&&r.children[0].focus()}}}},e.prototype._evtKeyDown=function(t){t.preventDefault(),t.stopPropagation(),27===t.keyCode&&this._releaseMouse()},e.prototype._evtMouseDown=function(t){if((0===t.button||1===t.button)&&!this._dragData){var e=this.addButtonEnabled&&this.addButtonNode.contains(t.target),n=this.contentNode.children,i=y.ArrayExt.findFirstIndex(n,(function(e){return v.hitTest(e,t.clientX,t.clientY)}));if((-1!==i||e)&&(t.preventDefault(),t.stopPropagation(),this._dragData={tab:n[i],index:i,pressX:t.clientX,pressY:t.clientY,tabPos:-1,tabSize:-1,tabPressPos:-1,targetIndex:-1,tabLayout:null,contentRect:null,override:null,dragActive:!1,dragAborted:!1,detachRequested:!1},document.addEventListener("mouseup",this,!0),1!==t.button&&!e)){var r=n[i].querySelector(this.renderer.closeIconSelector);r&&r.contains(t.target)||(this.tabsMovable&&(document.addEventListener("mousemove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0)),this.allowDeselect&&this.currentIndex===i?this.currentIndex=-1:this.currentIndex=i,-1!==this.currentIndex&&this._tabActivateRequested.emit({index:this.currentIndex,title:this.currentTitle}))}}},e.prototype._evtMouseMove=function(t){var e=this._dragData;if(e){t.preventDefault(),t.stopPropagation();var n=this.contentNode.children;if(e.dragActive||Dt.dragExceeded(e,t)){if(!e.dragActive){var i=e.tab.getBoundingClientRect();"horizontal"===this._orientation?(e.tabPos=e.tab.offsetLeft,e.tabSize=i.width,e.tabPressPos=e.pressX-i.left):(e.tabPos=e.tab.offsetTop,e.tabSize=i.height,e.tabPressPos=e.pressY-i.top),e.tabLayout=Dt.snapTabLayout(n,this._orientation),e.contentRect=this.contentNode.getBoundingClientRect(),e.override=f.Drag.overrideCursor("default"),e.tab.classList.add("lm-mod-dragging"),this.addClass("lm-mod-dragging"),e.tab.classList.add("p-mod-dragging"),this.addClass("p-mod-dragging"),e.dragActive=!0}if(!e.detachRequested&&Dt.detachExceeded(e,t)){e.detachRequested=!0;var r=e.index,s=t.clientX,o=t.clientY,u=n[r],a=this._titles[r];if(this._tabDetachRequested.emit({index:r,title:a,tab:u,clientX:s,clientY:o}),e.dragAborted)return}Dt.layoutTabs(n,e,t,this._orientation)}}},e.prototype._evtMouseUp=function(t){var e=this;if(0===t.button||1===t.button){var n=this._dragData;if(n){if(t.preventDefault(),t.stopPropagation(),document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("contextmenu",this,!0),!n.dragActive){if(this._dragData=null,this.addButtonEnabled&&this.addButtonNode.contains(t.target))return void this._addRequested.emit(void 0);var i=this.contentNode.children,r=y.ArrayExt.findFirstIndex(i,(function(e){return v.hitTest(e,t.clientX,t.clientY)}));if(r!==n.index)return;var s=this._titles[r];if(!s.closable)return;if(1===t.button)return void this._tabCloseRequested.emit({index:r,title:s});var o=i[r].querySelector(this.renderer.closeIconSelector);return o&&o.contains(t.target)?void this._tabCloseRequested.emit({index:r,title:s}):void 0}if(0===t.button){Dt.finalizeTabPosition(n,this._orientation),n.tab.classList.remove("lm-mod-dragging"),n.tab.classList.remove("p-mod-dragging");var u=Dt.parseTransitionDuration(n.tab);setTimeout((function(){if(!n.dragAborted){e._dragData=null,Dt.resetTabPositions(e.contentNode.children,e._orientation),n.override.dispose(),e.removeClass("lm-mod-dragging"),e.removeClass("p-mod-dragging");var t=n.index,i=n.targetIndex;-1!==i&&t!==i&&(y.ArrayExt.move(e._titles,t,i),e._adjustCurrentForMove(t,i),e._tabMoved.emit({fromIndex:t,toIndex:i,title:e._titles[i]}),_.sendMessage(e,K.Msg.UpdateRequest))}}),u)}}}},e.prototype._releaseMouse=function(){var t=this._dragData;t&&(this._dragData=null,document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("contextmenu",this,!0),t.dragAborted=!0,t.dragActive&&(Dt.resetTabPositions(this.contentNode.children,this._orientation),t.override.dispose(),t.tab.classList.remove("lm-mod-dragging"),this.removeClass("lm-mod-dragging"),t.tab.classList.remove("p-mod-dragging"),this.removeClass("p-mod-dragging")))},e.prototype._adjustCurrentForInsert=function(t,e){var n=this.currentTitle,i=this._currentIndex,r=this.insertBehavior;if("select-tab"===r||"select-tab-if-needed"===r&&-1===i)return this._currentIndex=t,this._previousTitle=n,void this._currentChanged.emit({previousIndex:i,previousTitle:n,currentIndex:t,currentTitle:e});i>=t&&this._currentIndex++},e.prototype._adjustCurrentForMove=function(t,e){this._currentIndex===t?this._currentIndex=e:this._currentIndex<t&&this._currentIndex>=e?this._currentIndex++:this._currentIndex>t&&this._currentIndex<=e&&this._currentIndex--},e.prototype._adjustCurrentForRemove=function(t,e){var n=this._currentIndex,i=this.removeBehavior;if(n===t){if(0===this._titles.length)return this._currentIndex=-1,void this._currentChanged.emit({previousIndex:t,previousTitle:e,currentIndex:-1,currentTitle:null});if("select-tab-after"===i)return this._currentIndex=Math.min(t,this._titles.length-1),void this._currentChanged.emit({previousIndex:t,previousTitle:e,currentIndex:this._currentIndex,currentTitle:this.currentTitle});if("select-tab-before"===i)return this._currentIndex=Math.max(0,t-1),void this._currentChanged.emit({previousIndex:t,previousTitle:e,currentIndex:this._currentIndex,currentTitle:this.currentTitle});if("select-previous-tab"===i)return this._previousTitle?(this._currentIndex=this._titles.indexOf(this._previousTitle),this._previousTitle=null):this._currentIndex=Math.min(t,this._titles.length-1),void this._currentChanged.emit({previousIndex:t,previousTitle:e,currentIndex:this._currentIndex,currentTitle:this.currentTitle});this._currentIndex=-1,this._currentChanged.emit({previousIndex:t,previousTitle:e,currentIndex:-1,currentTitle:null})}else n>t&&this._currentIndex--},e.prototype._onTitleChanged=function(t){this.update()},e}(K);!function(t){var e=function(){function t(){this.closeIconSelector=".lm-TabBar-tabCloseIcon",this._tabID=0,this._tabKeys=new WeakMap}return t.prototype.renderTab=function(t){var e=t.title.caption,n=this.createTabKey(t),i=n,r=this.createTabStyle(t),s=this.createTabClass(t),o=this.createTabDataset(t),u=this.createTabARIA(t);return t.title.closable?L.li(J({id:i,key:n,className:s,title:e,style:r,dataset:o},u),this.renderIcon(t),this.renderLabel(t),this.renderCloseIcon(t)):L.li(J({id:i,key:n,className:s,title:e,style:r,dataset:o},u),this.renderIcon(t),this.renderLabel(t))},t.prototype.renderIcon=function(t){var e=t.title,n=this.createIconClass(t);return"string"==typeof e.icon?L.div({className:n},e.iconLabel):L.div({className:n},e.icon,e.iconLabel)},t.prototype.renderLabel=function(t){return L.div({className:"lm-TabBar-tabLabel p-TabBar-tabLabel"},t.title.label)},t.prototype.renderCloseIcon=function(t){return L.div({className:"lm-TabBar-tabCloseIcon p-TabBar-tabCloseIcon"})},t.prototype.createTabKey=function(t){var e=this._tabKeys.get(t.title);return void 0===e&&(e="tab-key-"+this._tabID++,this._tabKeys.set(t.title,e)),e},t.prototype.createTabStyle=function(t){return{zIndex:""+t.zIndex}},t.prototype.createTabClass=function(t){var e="lm-TabBar-tab";return e+=" p-TabBar-tab",t.title.className&&(e+=" "+t.title.className),t.title.closable&&(e+=" lm-mod-closable",e+=" p-mod-closable"),t.current&&(e+=" lm-mod-current",e+=" p-mod-current"),e},t.prototype.createTabDataset=function(t){return t.title.dataset},t.prototype.createTabARIA=function(t){return{role:"tab","aria-selected":t.current.toString()}},t.prototype.createIconClass=function(t){var e="lm-TabBar-tabIcon";e+=" p-TabBar-tabIcon";var n=t.title.iconClass;return n?e+" "+n:e},t}();t.Renderer=e,t.defaultRenderer=new e,t.addButtonSelector=".lm-TabBar-addButton"}(jt||(jt={})),function(t){t.DRAG_THRESHOLD=5,t.DETACH_THRESHOLD=20,t.createNode=function(){var t=document.createElement("div"),e=document.createElement("ul");e.setAttribute("role","tablist"),e.className="lm-TabBar-content",e.classList.add("p-TabBar-content"),t.appendChild(e);var n=document.createElement("div");return n.className="lm-TabBar-addButton lm-mod-hidden",t.appendChild(n),t},t.asTitle=function(t){return t instanceof Z?t:new Z(t)},t.parseTransitionDuration=function(t){var e=window.getComputedStyle(t);return 1e3*(parseFloat(e.transitionDuration)||0)},t.snapTabLayout=function(t,e){for(var n=new Array(t.length),i=0,r=t.length;i<r;++i){var s=t[i],o=window.getComputedStyle(s);n[i]="horizontal"===e?{pos:s.offsetLeft,size:s.offsetWidth,margin:parseFloat(o.marginLeft)||0}:{pos:s.offsetTop,size:s.offsetHeight,margin:parseFloat(o.marginTop)||0}}return n},t.dragExceeded=function(e,n){var i=Math.abs(n.clientX-e.pressX),r=Math.abs(n.clientY-e.pressY);return i>=t.DRAG_THRESHOLD||r>=t.DRAG_THRESHOLD},t.detachExceeded=function(e,n){var i=e.contentRect;return n.clientX<i.left-t.DETACH_THRESHOLD||n.clientX>=i.right+t.DETACH_THRESHOLD||n.clientY<i.top-t.DETACH_THRESHOLD||n.clientY>=i.bottom+t.DETACH_THRESHOLD},t.layoutTabs=function(t,e,n,i){var r,s,o,u;"horizontal"===i?(r=e.pressX,s=n.clientX-e.contentRect.left,o=n.clientX,u=e.contentRect.width):(r=e.pressY,s=n.clientY-e.contentRect.top,o=n.clientY,u=e.contentRect.height);for(var a=e.index,h=s-e.tabPressPos,c=h+e.tabSize,l=0,f=t.length;l<f;++l){var d=void 0,p=e.tabLayout[l],m=p.pos+(p.size>>1);if(l<e.index&&h<m)d=e.tabSize+e.tabLayout[l+1].margin+"px",a=Math.min(a,l);else if(l>e.index&&c>m)d=-e.tabSize-p.margin+"px",a=Math.max(a,l);else if(l===e.index){var v=o-r,g=u-(e.tabPos+e.tabSize);d=Math.max(-e.tabPos,Math.min(v,g))+"px"}else d="";"horizontal"===i?t[l].style.left=d:t[l].style.top=d}e.targetIndex=a},t.finalizeTabPosition=function(t,e){var n,i;if(n="horizontal"===e?t.contentRect.width:t.contentRect.height,t.targetIndex===t.index)i=0;else if(t.targetIndex>t.index)i=(r=t.tabLayout[t.targetIndex]).pos+r.size-t.tabSize-t.tabPos;else{var r;i=(r=t.tabLayout[t.targetIndex]).pos-t.tabPos}var s=n-(t.tabPos+t.tabSize),o=Math.max(-t.tabPos,Math.min(i,s));"horizontal"===e?t.tab.style.left=o+"px":t.tab.style.top=o+"px"},t.resetTabPositions=function(t,e){(0,y.each)(t,(function(t){"horizontal"===e?t.style.left="":t.style.top=""}))}}(Dt||(Dt={}));var xt,_t=function(t){function e(e){var n=t.call(this)||this;return n._spacing=4,n._dirty=!1,n._root=null,n._box=null,n._items=new Map,n.renderer=e.renderer,void 0!==e.spacing&&(n._spacing=it.clampDimension(e.spacing)),n}return H(e,t),e.prototype.dispose=function(){var e=this.iter();this._items.forEach((function(t){t.dispose()})),this._box=null,this._root=null,this._items.clear(),(0,y.each)(e,(function(t){t.dispose()})),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"spacing",{get:function(){return this._spacing},set:function(t){t=it.clampDimension(t),this._spacing!==t&&(this._spacing=t,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return null===this._root},enumerable:!0,configurable:!0}),e.prototype.iter=function(){return this._root?this._root.iterAllWidgets():(0,y.empty)()},e.prototype.widgets=function(){return this._root?this._root.iterUserWidgets():(0,y.empty)()},e.prototype.selectedWidgets=function(){return this._root?this._root.iterSelectedWidgets():(0,y.empty)()},e.prototype.tabBars=function(){return this._root?this._root.iterTabBars():(0,y.empty)()},e.prototype.handles=function(){return this._root?this._root.iterHandles():(0,y.empty)()},e.prototype.moveHandle=function(t,e,n){var i=t.classList.contains("lm-mod-hidden");if(i=i||t.classList.contains("p-mod-hidden"),this._root&&!i){var r,s=this._root.findSplitNode(t);s&&0!=(r="horizontal"===s.node.orientation?e-t.offsetLeft:n-t.offsetTop)&&(s.node.holdSizes(),V.adjust(s.node.sizers,s.index,r),this.parent&&this.parent.update())}},e.prototype.saveLayout=function(){return this._root?(this._root.holdAllSizes(),{main:this._root.createConfig()}):{main:null}},e.prototype.restoreLayout=function(t){var e,n=this,i=new Set;e=t.main?xt.normalizeAreaConfig(t.main,i):null;var r=this.widgets(),s=this.tabBars(),o=this.handles();this._root=null,(0,y.each)(r,(function(t){i.has(t)||(t.parent=null)})),(0,y.each)(s,(function(t){t.dispose()})),(0,y.each)(o,(function(t){t.parentNode&&t.parentNode.removeChild(t)})),i.forEach((function(t){t.parent=n.parent})),this._root=e?xt.realizeAreaConfig(e,{createTabBar:function(){return n._createTabBar()},createHandle:function(){return n._createHandle()}}):null,this.parent&&(i.forEach((function(t){n.attachWidget(t)})),this.parent.fit())},e.prototype.addWidget=function(t,e){void 0===e&&(e={});var n=e.ref||null,i=e.mode||"tab-after",r=null;if(this._root&&n&&(r=this._root.findTabNode(n)),n&&!r)throw new Error("Reference widget is not in the layout.");switch(t.parent=this.parent,i){case"tab-after":this._insertTab(t,n,r,!0);break;case"tab-before":this._insertTab(t,n,r,!1);break;case"split-top":this._insertSplit(t,n,r,"vertical",!1);break;case"split-left":this._insertSplit(t,n,r,"horizontal",!1);break;case"split-right":this._insertSplit(t,n,r,"horizontal",!0);break;case"split-bottom":this._insertSplit(t,n,r,"vertical",!0)}this.parent&&(this.attachWidget(t),this.parent.fit())},e.prototype.removeWidget=function(t){this._removeWidget(t),this.parent&&(this.detachWidget(t),this.parent.fit())},e.prototype.hitTestTabAreas=function(t,e){if(!this._root||!this.parent||!this.parent.isVisible)return null;this._box||(this._box=v.boxSizing(this.parent.node));var n=this.parent.node.getBoundingClientRect(),i=t-n.left-this._box.borderLeft,r=e-n.top-this._box.borderTop,s=this._root.hitTestTabNodes(i,r);if(!s)return null;var o=s.tabBar,u=s.top,a=s.left,h=s.width,c=s.height,l=this._box.borderLeft+this._box.borderRight,f=this._box.borderTop+this._box.borderBottom;return{tabBar:o,x:i,y:r,top:u,left:a,right:n.width-l-(a+h),bottom:n.height-f-(u+c),width:h,height:c}},e.prototype.init=function(){var e=this;t.prototype.init.call(this),(0,y.each)(this,(function(t){e.attachWidget(t)})),(0,y.each)(this.handles(),(function(t){e.parent.node.appendChild(t)})),this.parent.fit()},e.prototype.attachWidget=function(t){this.parent.node!==t.node.parentNode&&(this._items.set(t,new Q(t)),this.parent.isAttached&&_.sendMessage(t,K.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.isAttached&&_.sendMessage(t,K.Msg.AfterAttach))},e.prototype.detachWidget=function(t){if(this.parent.node===t.node.parentNode){this.parent.isAttached&&_.sendMessage(t,K.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&_.sendMessage(t,K.Msg.AfterDetach);var e=this._items.get(t);e&&(this._items.delete(t),e.dispose())}},e.prototype.onBeforeShow=function(e){t.prototype.onBeforeShow.call(this,e),this.parent.update()},e.prototype.onBeforeAttach=function(e){t.prototype.onBeforeAttach.call(this,e),this.parent.fit()},e.prototype.onChildShown=function(t){this.parent.fit()},e.prototype.onChildHidden=function(t){this.parent.fit()},e.prototype.onResize=function(t){this.parent.isVisible&&this._update(t.width,t.height)},e.prototype.onUpdateRequest=function(t){this.parent.isVisible&&this._update(-1,-1)},e.prototype.onFitRequest=function(t){this.parent.isAttached&&this._fit()},e.prototype._removeWidget=function(t){if(this._root){var e=this._root.findTabNode(t);if(e)if(xt.removeAria(t),e.tabBar.titles.length>1)e.tabBar.removeTab(t.title);else if(e.tabBar.dispose(),this._root!==e){this._root.holdAllSizes();var n=e.parent;e.parent=null;var i=y.ArrayExt.removeFirstOf(n.children,e),r=y.ArrayExt.removeAt(n.handles,i);if(y.ArrayExt.removeAt(n.sizers,i),r.parentNode&&r.parentNode.removeChild(r),n.children.length>1)n.syncHandles();else{var s=n.parent;n.parent=null;var o=n.children[0],u=n.handles[0];if(n.children.length=0,n.handles.length=0,n.sizers.length=0,u.parentNode&&u.parentNode.removeChild(u),this._root===n)return o.parent=null,void(this._root=o);var a=s,h=a.children.indexOf(n);if(o instanceof xt.TabLayoutNode)return o.parent=a,void(a.children[h]=o);var c=y.ArrayExt.removeAt(a.handles,h);y.ArrayExt.removeAt(a.children,h),y.ArrayExt.removeAt(a.sizers,h),c.parentNode&&c.parentNode.removeChild(c);for(var l=0,f=o.children.length;l<f;++l){var d=o.children[l],p=o.handles[l],m=o.sizers[l];y.ArrayExt.insert(a.children,h+l,d),y.ArrayExt.insert(a.handles,h+l,p),y.ArrayExt.insert(a.sizers,h+l,m),d.parent=a}o.children.length=0,o.handles.length=0,o.sizers.length=0,o.parent=null,a.syncHandles()}}else this._root=null}},e.prototype._insertTab=function(t,e,n,i){if(t!==e){if(!this._root){var r=new xt.TabLayoutNode(this._createTabBar());return r.tabBar.addTab(t.title),this._root=r,void xt.addAria(t,r.tabBar)}var s;n||(n=this._root.findFirstTabNode()),-1===n.tabBar.titles.indexOf(t.title)&&(this._removeWidget(t),t.hide()),s=e?n.tabBar.titles.indexOf(e.title):n.tabBar.currentIndex,n.tabBar.insertTab(s+(i?1:0),t.title),xt.addAria(t,n.tabBar)}},e.prototype._insertSplit=function(t,e,n,i,r){if(t!==e||!n||1!==n.tabBar.titles.length){this._removeWidget(t);var s=new xt.TabLayoutNode(this._createTabBar());if(s.tabBar.addTab(t.title),xt.addAria(t,s.tabBar),this._root){if(!n||!n.parent){var o=this._splitRoot(i),u=r?o.children.length:0;o.normalizeSizes();var a=xt.createSizer(n?1:xt.GOLDEN_RATIO);return y.ArrayExt.insert(o.children,u,s),y.ArrayExt.insert(o.sizers,u,a),y.ArrayExt.insert(o.handles,u,this._createHandle()),s.parent=o,o.normalizeSizes(),void o.syncHandles()}var h=n.parent;if(h.orientation===i){var c=h.children.indexOf(n);h.normalizeSizes();var l=h.sizers[c].sizeHint/=2,f=c+(r?1:0);return y.ArrayExt.insert(h.children,f,s),y.ArrayExt.insert(h.sizers,f,xt.createSizer(l)),y.ArrayExt.insert(h.handles,f,this._createHandle()),s.parent=h,void h.syncHandles()}var d=y.ArrayExt.removeFirstOf(h.children,n),p=new xt.SplitLayoutNode(i);p.normalized=!0,p.children.push(n),p.sizers.push(xt.createSizer(.5)),p.handles.push(this._createHandle()),n.parent=p;var m=r?1:0;y.ArrayExt.insert(p.children,m,s),y.ArrayExt.insert(p.sizers,m,xt.createSizer(.5)),y.ArrayExt.insert(p.handles,m,this._createHandle()),s.parent=p,p.syncHandles(),y.ArrayExt.insert(h.children,d,p),p.parent=h}else this._root=s}},e.prototype._splitRoot=function(t){var e=this._root;if(e instanceof xt.SplitLayoutNode&&e.orientation===t)return e;var n=this._root=new xt.SplitLayoutNode(t);return e&&(n.children.push(e),n.sizers.push(xt.createSizer(0)),n.handles.push(this._createHandle()),e.parent=n),n},e.prototype._fit=function(){var t=0,e=0;if(this._root){var n=this._root.fit(this._spacing,this._items);t=n.minWidth,e=n.minHeight}var i=this._box=v.boxSizing(this.parent.node);t+=i.horizontalSum,e+=i.verticalSum;var r=this.parent.node.style;r.minWidth=t+"px",r.minHeight=e+"px",this._dirty=!0,this.parent.parent&&_.sendMessage(this.parent.parent,K.Msg.FitRequest),this._dirty&&_.sendMessage(this.parent,K.Msg.UpdateRequest)},e.prototype._update=function(t,e){if(this._dirty=!1,this._root){t<0&&(t=this.parent.node.offsetWidth),e<0&&(e=this.parent.node.offsetHeight),this._box||(this._box=v.boxSizing(this.parent.node));var n=this._box.paddingTop,i=this._box.paddingLeft,r=t-this._box.horizontalSum,s=e-this._box.verticalSum;this._root.update(n,i,r,s,this._spacing,this._items)}},e.prototype._createTabBar=function(){var t=this.renderer.createTabBar();return t.orientation="horizontal",this.parent&&(t.parent=this.parent,this.attachWidget(t)),t},e.prototype._createHandle=function(){var t=this.renderer.createHandle(),e=t.style;return e.position="absolute",e.top="0",e.left="0",e.width="0",e.height="0",this.parent&&this.parent.node.appendChild(t),t},e}(X);!function(t){function e(t){var e=new G;return e.sizeHint=t,e.size=t,e}t.GOLDEN_RATIO=.618,t.createSizer=e,t.normalizeAreaConfig=function t(e,n){return"tab-area"===e.type?function(t,e){if(0===t.widgets.length)return null;var n=[];if((0,y.each)(t.widgets,(function(t){e.has(t)||(e.add(t),n.push(t))})),0===n.length)return null;var i=t.currentIndex;return-1!==i&&(i<0||i>=n.length)&&(i=0),{type:"tab-area",widgets:n,currentIndex:i}}(e,n):function(e,n){for(var i=e.orientation,r=[],s=[],o=0,u=e.children.length;o<u;++o){var a=t(e.children[o],n);a&&("tab-area"===a.type||a.orientation!==i?(r.push(a),s.push(Math.abs(e.sizes[o]||0))):(r.push.apply(r,a.children),s.push.apply(s,a.sizes)))}return 0===r.length?null:1===r.length?r[0]:{type:"split-area",orientation:i,children:r,sizes:s}}(e,n)},t.realizeAreaConfig=function r(s,o){return"tab-area"===s.type?function(e,i){var r=i.createTabBar();return(0,y.each)(e.widgets,(function(e){e.hide(),r.addTab(e.title),t.addAria(e,r)})),r.currentIndex=e.currentIndex,new n(r)}(s,o):function(t,n){var s=new i(t.orientation);return(0,y.each)(t.children,(function(i,o){var u=r(i,n),a=e(t.sizes[o]),h=n.createHandle();s.children.push(u),s.handles.push(h),s.sizers.push(a),u.parent=s})),s.syncHandles(),s.normalizeSizes(),s}(s,o)};var n=function(){function t(t){this.parent=null,this._top=0,this._left=0,this._width=0,this._height=0;var e=new G,n=new G;e.stretch=0,n.stretch=1,this.tabBar=t,this.sizers=[e,n]}return Object.defineProperty(t.prototype,"top",{get:function(){return this._top},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this._left},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),t.prototype.iterAllWidgets=function(){return(0,y.chain)((0,y.once)(this.tabBar),this.iterUserWidgets())},t.prototype.iterUserWidgets=function(){return(0,y.map)(this.tabBar.titles,(function(t){return t.owner}))},t.prototype.iterSelectedWidgets=function(){var t=this.tabBar.currentTitle;return t?(0,y.once)(t.owner):(0,y.empty)()},t.prototype.iterTabBars=function(){return(0,y.once)(this.tabBar)},t.prototype.iterHandles=function(){return(0,y.empty)()},t.prototype.findTabNode=function(t){return-1!==this.tabBar.titles.indexOf(t.title)?this:null},t.prototype.findSplitNode=function(t){return null},t.prototype.findFirstTabNode=function(){return this},t.prototype.hitTestTabNodes=function(t,e){return t<this._left||t>=this._left+this._width||e<this._top||e>=this._top+this._height?null:this},t.prototype.createConfig=function(){return{type:"tab-area",widgets:this.tabBar.titles.map((function(t){return t.owner})),currentIndex:this.tabBar.currentIndex}},t.prototype.holdAllSizes=function(){},t.prototype.fit=function(t,e){var n=0,i=0,r=e.get(this.tabBar),s=this.tabBar.currentTitle,o=s?e.get(s.owner):void 0,u=this.sizers,a=u[0],h=u[1];return r&&r.fit(),o&&o.fit(),r&&!r.isHidden?(n=Math.max(n,r.minWidth),i+=r.minHeight,a.minSize=r.minHeight,a.maxSize=r.maxHeight):(a.minSize=0,a.maxSize=0),o&&!o.isHidden?(n=Math.max(n,o.minWidth),i+=o.minHeight,h.minSize=o.minHeight,h.maxSize=1/0):(h.minSize=0,h.maxSize=1/0),{minWidth:n,minHeight:i,maxWidth:1/0,maxHeight:1/0}},t.prototype.update=function(t,e,n,i,r,s){this._top=e,this._left=t,this._width=n,this._height=i;var o=s.get(this.tabBar),u=this.tabBar.currentTitle,a=u?s.get(u.owner):void 0;if(V.calc(this.sizers,i),o&&!o.isHidden){var h=this.sizers[0].size;o.update(t,e,n,h),e+=h}a&&!a.isHidden&&(h=this.sizers[1].size,a.update(t,e,n,h))},t}();t.TabLayoutNode=n;var i=function(){function t(t){this.parent=null,this.normalized=!1,this.children=[],this.sizers=[],this.handles=[],this.orientation=t}return t.prototype.iterAllWidgets=function(){var t=(0,y.map)(this.children,(function(t){return t.iterAllWidgets()}));return new y.ChainIterator(t)},t.prototype.iterUserWidgets=function(){var t=(0,y.map)(this.children,(function(t){return t.iterUserWidgets()}));return new y.ChainIterator(t)},t.prototype.iterSelectedWidgets=function(){var t=(0,y.map)(this.children,(function(t){return t.iterSelectedWidgets()}));return new y.ChainIterator(t)},t.prototype.iterTabBars=function(){var t=(0,y.map)(this.children,(function(t){return t.iterTabBars()}));return new y.ChainIterator(t)},t.prototype.iterHandles=function(){var t=(0,y.map)(this.children,(function(t){return t.iterHandles()}));return(0,y.chain)(this.handles,new y.ChainIterator(t))},t.prototype.findTabNode=function(t){for(var e=0,n=this.children.length;e<n;++e){var i=this.children[e].findTabNode(t);if(i)return i}return null},t.prototype.findSplitNode=function(t){var e=this.handles.indexOf(t);if(-1!==e)return{index:e,node:this};for(var n=0,i=this.children.length;n<i;++n){var r=this.children[n].findSplitNode(t);if(r)return r}return null},t.prototype.findFirstTabNode=function(){return 0===this.children.length?null:this.children[0].findFirstTabNode()},t.prototype.hitTestTabNodes=function(t,e){for(var n=0,i=this.children.length;n<i;++n){var r=this.children[n].hitTestTabNodes(t,e);if(r)return r}return null},t.prototype.createConfig=function(){var t=this.orientation,e=this.createNormalizedSizes();return{type:"split-area",orientation:t,children:this.children.map((function(t){return t.createConfig()})),sizes:e}},t.prototype.syncHandles=function(){var t=this;(0,y.each)(this.handles,(function(e,n){e.setAttribute("data-orientation",t.orientation),n===t.handles.length-1?(e.classList.add("lm-mod-hidden"),e.classList.add("p-mod-hidden")):(e.classList.remove("lm-mod-hidden"),e.classList.remove("p-mod-hidden"))}))},t.prototype.holdSizes=function(){(0,y.each)(this.sizers,(function(t){t.sizeHint=t.size}))},t.prototype.holdAllSizes=function(){(0,y.each)(this.children,(function(t){return t.holdAllSizes()})),this.holdSizes()},t.prototype.normalizeSizes=function(){var t=this.sizers.length;if(0!==t){this.holdSizes();var e=(0,y.reduce)(this.sizers,(function(t,e){return t+e.sizeHint}),0);0===e?(0,y.each)(this.sizers,(function(e){e.size=e.sizeHint=1/t})):(0,y.each)(this.sizers,(function(t){t.size=t.sizeHint/=e})),this.normalized=!0}},t.prototype.createNormalizedSizes=function(){var t=this.sizers.length;if(0===t)return[];var e=this.sizers.map((function(t){return t.size})),n=(0,y.reduce)(e,(function(t,e){return t+e}),0);return 0===n?(0,y.each)(e,(function(n,i){e[i]=1/t})):(0,y.each)(e,(function(t,i){e[i]=t/n})),e},t.prototype.fit=function(t,e){for(var n="horizontal"===this.orientation,i=Math.max(0,this.children.length-1)*t,r=n?i:0,s=n?0:i,o=0,u=this.children.length;o<u;++o){var a=this.children[o].fit(t,e);n?(s=Math.max(s,a.minHeight),r+=a.minWidth,this.sizers[o].minSize=a.minWidth):(r=Math.max(r,a.minWidth),s+=a.minHeight,this.sizers[o].minSize=a.minHeight)}return{minWidth:r,minHeight:s,maxWidth:1/0,maxHeight:1/0}},t.prototype.update=function(t,e,n,i,r,s){var o="horizontal"===this.orientation,u=Math.max(0,this.children.length-1)*r,a=Math.max(0,(o?n:i)-u);this.normalized&&((0,y.each)(this.sizers,(function(t){t.sizeHint*=a})),this.normalized=!1),V.calc(this.sizers,a);for(var h=0,c=this.children.length;h<c;++h){var l=this.children[h],f=this.sizers[h].size,d=this.handles[h].style;o?(l.update(t,e,f,i,r,s),t+=f,d.top=e+"px",d.left=t+"px",d.width=r+"px",d.height=i+"px",t+=r):(l.update(t,e,n,f,r,s),e+=f,d.top=e+"px",d.left=t+"px",d.width=n+"px",d.height=r+"px",e+=r)}},t}();t.SplitLayoutNode=i,t.addAria=function(t,e){t.node.setAttribute("role","tabpanel");var n=e.renderer;if(n instanceof jt.Renderer){var i=n.createTabKey({title:t.title,current:!1,zIndex:0});t.node.setAttribute("aria-labelledby",i)}},t.removeAria=function(t){t.node.removeAttribute("role"),t.node.removeAttribute("aria-labelledby")}}(xt||(xt={}));var Mt,At=function(t){function e(n){void 0===n&&(n={});var i=t.call(this)||this;i._drag=null,i._tabsMovable=!0,i._tabsConstrained=!1,i._addButtonEnabled=!1,i._pressData=null,i._layoutModified=new R.Signal(i),i._addRequested=new R.Signal(i),i.addClass("lm-DockPanel"),i.addClass("p-DockPanel"),i._mode=n.mode||"multiple-document",i._renderer=n.renderer||e.defaultRenderer,i._edges=n.edges||Mt.DEFAULT_EDGES,void 0!==n.tabsMovable&&(i._tabsMovable=n.tabsMovable),void 0!==n.tabsConstrained&&(i._tabsConstrained=n.tabsConstrained),void 0!==n.addButtonEnabled&&(i._addButtonEnabled=n.addButtonEnabled),i.dataset.mode=i._mode;var r={createTabBar:function(){return i._createTabBar()},createHandle:function(){return i._createHandle()}};return i.layout=new _t({renderer:r,spacing:n.spacing}),i.overlay=n.overlay||new e.Overlay,i.node.appendChild(i.overlay.node),i}return H(e,t),e.prototype.dispose=function(){this._releaseMouse(),this.overlay.hide(0),this._drag&&this._drag.dispose(),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"layoutModified",{get:function(){return this._layoutModified},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addRequested",{get:function(){return this._addRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(t){this.layout.spacing=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mode",{get:function(){return this._mode},set:function(t){if(this._mode!==t){this._mode=t,this.dataset.mode=t;var e=this.layout;switch(t){case"multiple-document":(0,y.each)(e.tabBars(),(function(t){t.show()}));break;case"single-document":e.restoreLayout(Mt.createSingleDocumentConfig(this));break;default:throw"unreachable"}_.postMessage(this,Mt.LayoutModified)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabsMovable",{get:function(){return this._tabsMovable},set:function(t){this._tabsMovable=t,(0,y.each)(this.tabBars(),(function(e){e.tabsMovable=t}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabsConstrained",{get:function(){return this._tabsConstrained},set:function(t){this._tabsConstrained=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addButtonEnabled",{get:function(){return this._addButtonEnabled},set:function(t){this._addButtonEnabled=t,(0,y.each)(this.tabBars(),(function(e){e.addButtonEnabled=t}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this.layout.isEmpty},enumerable:!0,configurable:!0}),e.prototype.widgets=function(){return this.layout.widgets()},e.prototype.selectedWidgets=function(){return this.layout.selectedWidgets()},e.prototype.tabBars=function(){return this.layout.tabBars()},e.prototype.handles=function(){return this.layout.handles()},e.prototype.selectWidget=function(t){var e=(0,y.find)(this.tabBars(),(function(e){return-1!==e.titles.indexOf(t.title)}));if(!e)throw new Error("Widget is not contained in the dock panel.");e.currentTitle=t.title},e.prototype.activateWidget=function(t){this.selectWidget(t),t.activate()},e.prototype.saveLayout=function(){return this.layout.saveLayout()},e.prototype.restoreLayout=function(t){this._mode="multiple-document",this.layout.restoreLayout(t),(g.IS_EDGE||g.IS_IE)&&_.flush(),_.postMessage(this,Mt.LayoutModified)},e.prototype.addWidget=function(t,e){void 0===e&&(e={}),"single-document"===this._mode?this.layout.addWidget(t):this.layout.addWidget(t,e),_.postMessage(this,Mt.LayoutModified)},e.prototype.processMessage=function(e){"layout-modified"===e.type?this._layoutModified.emit(void 0):t.prototype.processMessage.call(this,e)},e.prototype.handleEvent=function(t){switch(t.type){case"lm-dragenter":this._evtDragEnter(t);break;case"lm-dragleave":this._evtDragLeave(t);break;case"lm-dragover":this._evtDragOver(t);break;case"lm-drop":this._evtDrop(t);break;case"mousedown":this._evtMouseDown(t);break;case"mousemove":this._evtMouseMove(t);break;case"mouseup":this._evtMouseUp(t);break;case"keydown":this._evtKeyDown(t);break;case"contextmenu":t.preventDefault(),t.stopPropagation()}},e.prototype.onBeforeAttach=function(t){this.node.addEventListener("lm-dragenter",this),this.node.addEventListener("lm-dragleave",this),this.node.addEventListener("lm-dragover",this),this.node.addEventListener("lm-drop",this),this.node.addEventListener("mousedown",this)},e.prototype.onAfterDetach=function(t){this.node.removeEventListener("lm-dragenter",this),this.node.removeEventListener("lm-dragleave",this),this.node.removeEventListener("lm-dragover",this),this.node.removeEventListener("lm-drop",this),this.node.removeEventListener("mousedown",this),this._releaseMouse()},e.prototype.onChildAdded=function(t){Mt.isGeneratedTabBarProperty.get(t.child)||(t.child.addClass("lm-DockPanel-widget"),t.child.addClass("p-DockPanel-widget"))},e.prototype.onChildRemoved=function(t){Mt.isGeneratedTabBarProperty.get(t.child)||(t.child.removeClass("lm-DockPanel-widget"),t.child.removeClass("p-DockPanel-widget"),_.postMessage(this,Mt.LayoutModified))},e.prototype._evtDragEnter=function(t){t.mimeData.hasData("application/vnd.lumino.widget-factory")&&(t.preventDefault(),t.stopPropagation())},e.prototype._evtDragLeave=function(t){t.preventDefault(),t.stopPropagation(),this.overlay.hide(1)},e.prototype._evtDragOver=function(t){t.preventDefault(),t.stopPropagation(),this._tabsConstrained&&t.source!==this||"invalid"===this._showOverlay(t.clientX,t.clientY)?t.dropAction="none":t.dropAction=t.proposedAction},e.prototype._evtDrop=function(t){if(t.preventDefault(),t.stopPropagation(),this.overlay.hide(0),"none"!==t.proposedAction){var e=t.clientX,n=t.clientY,i=Mt.findDropTarget(this,e,n,this._edges),r=i.zone,s=i.target;if("invalid"!==r){var o=t.mimeData.getData("application/vnd.lumino.widget-factory");if("function"==typeof o){var u=o();if(u instanceof K)if(u.contains(this))t.dropAction="none";else{var a=s?Mt.getDropRef(s.tabBar):null;switch(r){case"root-all":this.addWidget(u);break;case"root-top":this.addWidget(u,{mode:"split-top"});break;case"root-left":this.addWidget(u,{mode:"split-left"});break;case"root-right":this.addWidget(u,{mode:"split-right"});break;case"root-bottom":this.addWidget(u,{mode:"split-bottom"});break;case"widget-all":case"widget-tab":this.addWidget(u,{mode:"tab-after",ref:a});break;case"widget-top":this.addWidget(u,{mode:"split-top",ref:a});break;case"widget-left":this.addWidget(u,{mode:"split-left",ref:a});break;case"widget-right":this.addWidget(u,{mode:"split-right",ref:a});break;case"widget-bottom":this.addWidget(u,{mode:"split-bottom",ref:a});break;default:throw"unreachable"}t.dropAction=t.proposedAction,this.activateWidget(u)}else t.dropAction="none"}else t.dropAction="none"}else t.dropAction="none"}else t.dropAction="none"},e.prototype._evtKeyDown=function(t){t.preventDefault(),t.stopPropagation(),27===t.keyCode&&(this._releaseMouse(),_.postMessage(this,Mt.LayoutModified))},e.prototype._evtMouseDown=function(t){if(0===t.button){var e=this.layout,n=t.target,i=(0,y.find)(e.handles(),(function(t){return t.contains(n)}));if(i){t.preventDefault(),t.stopPropagation(),document.addEventListener("keydown",this,!0),document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0),document.addEventListener("contextmenu",this,!0);var r=i.getBoundingClientRect(),s=t.clientX-r.left,o=t.clientY-r.top,u=window.getComputedStyle(i),a=f.Drag.overrideCursor(u.cursor);this._pressData={handle:i,deltaX:s,deltaY:o,override:a}}}},e.prototype._evtMouseMove=function(t){if(this._pressData){t.preventDefault(),t.stopPropagation();var e=this.node.getBoundingClientRect(),n=t.clientX-e.left-this._pressData.deltaX,i=t.clientY-e.top-this._pressData.deltaY;this.layout.moveHandle(this._pressData.handle,n,i)}},e.prototype._evtMouseUp=function(t){0===t.button&&(t.preventDefault(),t.stopPropagation(),this._releaseMouse(),_.postMessage(this,Mt.LayoutModified))},e.prototype._releaseMouse=function(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,document.removeEventListener("keydown",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("contextmenu",this,!0))},e.prototype._showOverlay=function(t,e){var n,i,r,s,o=Mt.findDropTarget(this,t,e,this._edges),u=o.zone,a=o.target;if("invalid"===u)return this.overlay.hide(100),u;var h=v.boxSizing(this.node),c=this.node.getBoundingClientRect();switch(u){case"root-all":n=h.paddingTop,i=h.paddingLeft,r=h.paddingRight,s=h.paddingBottom;break;case"root-top":n=h.paddingTop,i=h.paddingLeft,r=h.paddingRight,s=c.height*Mt.GOLDEN_RATIO;break;case"root-left":n=h.paddingTop,i=h.paddingLeft,r=c.width*Mt.GOLDEN_RATIO,s=h.paddingBottom;break;case"root-right":n=h.paddingTop,i=c.width*Mt.GOLDEN_RATIO,r=h.paddingRight,s=h.paddingBottom;break;case"root-bottom":n=c.height*Mt.GOLDEN_RATIO,i=h.paddingLeft,r=h.paddingRight,s=h.paddingBottom;break;case"widget-all":n=a.top,i=a.left,r=a.right,s=a.bottom;break;case"widget-top":n=a.top,i=a.left,r=a.right,s=a.bottom+a.height/2;break;case"widget-left":n=a.top,i=a.left,r=a.right+a.width/2,s=a.bottom;break;case"widget-right":n=a.top,i=a.left+a.width/2,r=a.right,s=a.bottom;break;case"widget-bottom":n=a.top+a.height/2,i=a.left,r=a.right,s=a.bottom;break;case"widget-tab":var l=a.tabBar.node.getBoundingClientRect().height;n=a.top,i=a.left,r=a.right,s=a.bottom+a.height-l;break;default:throw"unreachable"}return this.overlay.show({top:n,left:i,right:r,bottom:s}),u},e.prototype._createTabBar=function(){var t=this._renderer.createTabBar();return Mt.isGeneratedTabBarProperty.set(t,!0),"single-document"===this._mode&&t.hide(),t.tabsMovable=this._tabsMovable,t.allowDeselect=!1,t.addButtonEnabled=this._addButtonEnabled,t.removeBehavior="select-previous-tab",t.insertBehavior="select-tab-if-needed",t.tabMoved.connect(this._onTabMoved,this),t.currentChanged.connect(this._onCurrentChanged,this),t.tabCloseRequested.connect(this._onTabCloseRequested,this),t.tabDetachRequested.connect(this._onTabDetachRequested,this),t.tabActivateRequested.connect(this._onTabActivateRequested,this),t.addRequested.connect(this._onTabAddRequested,this),t},e.prototype._createHandle=function(){return this._renderer.createHandle()},e.prototype._onTabMoved=function(){_.postMessage(this,Mt.LayoutModified)},e.prototype._onCurrentChanged=function(t,e){var n=e.previousTitle,i=e.currentTitle;n&&n.owner.hide(),i&&i.owner.show(),(g.IS_EDGE||g.IS_IE)&&_.flush(),_.postMessage(this,Mt.LayoutModified)},e.prototype._onTabAddRequested=function(t){this._addRequested.emit(t)},e.prototype._onTabActivateRequested=function(t,e){e.title.owner.activate()},e.prototype._onTabCloseRequested=function(t,e){e.title.owner.close()},e.prototype._onTabDetachRequested=function(t,e){var n=this;if(!this._drag){t.releaseMouse();var i=e.title,r=e.tab,s=e.clientX,o=e.clientY,u=new F.MimeData;u.setData("application/vnd.lumino.widget-factory",(function(){return i.owner}));var a=r.cloneNode(!0);this._drag=new f.Drag({mimeData:u,dragImage:a,proposedAction:"move",supportedActions:"move",source:this}),r.classList.add("lm-mod-hidden"),r.classList.add("p-mod-hidden"),this._drag.start(s,o).then((function(){n._drag=null,r.classList.remove("lm-mod-hidden"),r.classList.remove("p-mod-hidden")}))}},e}(K);!function(t){var e=function(){function t(){this._timer=-1,this._hidden=!0,this.node=document.createElement("div"),this.node.classList.add("lm-DockPanel-overlay"),this.node.classList.add("lm-mod-hidden"),this.node.classList.add("p-DockPanel-overlay"),this.node.classList.add("p-mod-hidden"),this.node.style.position="absolute"}return t.prototype.show=function(t){var e=this.node.style;e.top=t.top+"px",e.left=t.left+"px",e.right=t.right+"px",e.bottom=t.bottom+"px",clearTimeout(this._timer),this._timer=-1,this._hidden&&(this._hidden=!1,this.node.classList.remove("lm-mod-hidden"),this.node.classList.remove("p-mod-hidden"))},t.prototype.hide=function(t){var e=this;if(!this._hidden)return t<=0?(clearTimeout(this._timer),this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden"),void this.node.classList.add("p-mod-hidden")):void(-1===this._timer&&(this._timer=window.setTimeout((function(){e._timer=-1,e._hidden=!0,e.node.classList.add("lm-mod-hidden"),e.node.classList.add("p-mod-hidden")}),t)))},t}();t.Overlay=e;var n=function(){function t(){}return t.prototype.createTabBar=function(){var t=new jt;return t.addClass("lm-DockPanel-tabBar"),t.addClass("p-DockPanel-tabBar"),t},t.prototype.createHandle=function(){var t=document.createElement("div");return t.className="lm-DockPanel-handle",t.classList.add("p-DockPanel-handle"),t},t}();t.Renderer=n,t.defaultRenderer=new n}(At||(At={})),function(t){t.GOLDEN_RATIO=.618,t.DEFAULT_EDGES={top:12,right:40,bottom:40,left:40},t.LayoutModified=new C("layout-modified"),t.isGeneratedTabBarProperty=new T.AttachedProperty({name:"isGeneratedTabBar",create:function(){return!1}}),t.createSingleDocumentConfig=function(t){if(t.isEmpty)return{main:null};var e=(0,y.toArray)(t.widgets()),n=t.selectedWidgets().next(),i=n?e.indexOf(n):-1;return{main:{type:"tab-area",widgets:e,currentIndex:i}}},t.findDropTarget=function(t,e,n,i){if(!v.hitTest(t.node,e,n))return{zone:"invalid",target:null};var r=t.layout;if(r.isEmpty)return{zone:"root-all",target:null};if("multiple-document"===t.mode){var s=t.node.getBoundingClientRect(),o=e-s.left+1,u=n-s.top+1,a=s.right-e,h=s.bottom-n;switch(Math.min(u,a,h,o)){case u:if(u<i.top)return{zone:"root-top",target:null};break;case a:if(a<i.right)return{zone:"root-right",target:null};break;case h:if(h<i.bottom)return{zone:"root-bottom",target:null};break;case o:if(o<i.left)return{zone:"root-left",target:null};break;default:throw"unreachable"}}var c=r.hitTestTabAreas(e,n);if(!c)return{zone:"invalid",target:null};if("single-document"===t.mode)return{zone:"widget-all",target:c};var l=c.x-c.left+1,f=c.y-c.top+1,d=c.left+c.width-c.x,p=c.top+c.height-c.y;if(f<c.tabBar.node.getBoundingClientRect().height)return{zone:"widget-tab",target:c};var m,g=Math.round(c.width/3),b=Math.round(c.height/3);if(l>g&&d>g&&f>b&&p>b)return{zone:"widget-all",target:c};switch(l/=g,f/=b,d/=g,p/=b,Math.min(l,f,d,p)){case l:m="widget-left";break;case f:m="widget-top";break;case d:m="widget-right";break;case p:m="widget-bottom";break;default:throw"unreachable"}return{zone:m,target:c}},t.getDropRef=function(t){return 0===t.titles.length?null:t.currentTitle?t.currentTitle.owner:t.titles[t.titles.length-1].owner}}(Mt||(Mt={}));var Ct,Et=function(){function t(){this._counter=0,this._widgets=[],this._activeWidget=null,this._currentWidget=null,this._numbers=new Map,this._nodes=new Map,this._activeChanged=new R.Signal(this),this._currentChanged=new R.Signal(this)}return t.prototype.dispose=function(){var t=this;this._counter<0||(this._counter=-1,R.Signal.clearData(this),(0,y.each)(this._widgets,(function(e){e.node.removeEventListener("focus",t,!0),e.node.removeEventListener("blur",t,!0)})),this._activeWidget=null,this._currentWidget=null,this._nodes.clear(),this._numbers.clear(),this._widgets.length=0)},Object.defineProperty(t.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeChanged",{get:function(){return this._activeChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._counter<0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentWidget",{get:function(){return this._currentWidget},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeWidget",{get:function(){return this._activeWidget},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widgets",{get:function(){return this._widgets},enumerable:!0,configurable:!0}),t.prototype.focusNumber=function(t){var e=this._numbers.get(t);return void 0===e?-1:e},t.prototype.has=function(t){return this._numbers.has(t)},t.prototype.add=function(t){if(!this._numbers.has(t)){var e=t.node.contains(document.activeElement),n=e?this._counter++:-1;this._widgets.push(t),this._numbers.set(t,n),this._nodes.set(t.node,t),t.node.addEventListener("focus",this,!0),t.node.addEventListener("blur",this,!0),t.disposed.connect(this._onWidgetDisposed,this),e&&this._setWidgets(t,t)}},t.prototype.remove=function(t){var e=this;if(this._numbers.has(t)&&(t.disposed.disconnect(this._onWidgetDisposed,this),t.node.removeEventListener("focus",this,!0),t.node.removeEventListener("blur",this,!0),y.ArrayExt.removeFirstOf(this._widgets,t),this._nodes.delete(t.node),this._numbers.delete(t),this._currentWidget===t)){var n=(0,y.filter)(this._widgets,(function(t){return-1!==e._numbers.get(t)})),i=(0,y.max)(n,(function(t,n){return e._numbers.get(t)-e._numbers.get(n)}))||null;this._setWidgets(i,null)}},t.prototype.handleEvent=function(t){switch(t.type){case"focus":this._evtFocus(t);break;case"blur":this._evtBlur(t)}},t.prototype._setWidgets=function(t,e){var n=this._currentWidget;this._currentWidget=t;var i=this._activeWidget;this._activeWidget=e,n!==t&&this._currentChanged.emit({oldValue:n,newValue:t}),i!==e&&this._activeChanged.emit({oldValue:i,newValue:e})},t.prototype._evtFocus=function(t){var e=this._nodes.get(t.currentTarget);e!==this._currentWidget&&this._numbers.set(e,this._counter++),this._setWidgets(e,e)},t.prototype._evtBlur=function(t){var e=this._nodes.get(t.currentTarget),n=t.relatedTarget;n&&(e.node.contains(n)||(0,y.find)(this._widgets,(function(t){return t.node.contains(n)})))||this._setWidgets(this._currentWidget,null)},t.prototype._onWidgetDisposed=function(t){this.remove(t)},t}(),Ot=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n._dirty=!1,n._rowSpacing=4,n._columnSpacing=4,n._items=[],n._rowStarts=[],n._columnStarts=[],n._rowSizers=[new G],n._columnSizers=[new G],n._box=null,void 0!==e.rowCount&&Ct.reallocSizers(n._rowSizers,e.rowCount),void 0!==e.columnCount&&Ct.reallocSizers(n._columnSizers,e.columnCount),void 0!==e.rowSpacing&&(n._rowSpacing=Ct.clampValue(e.rowSpacing)),void 0!==e.columnSpacing&&(n._columnSpacing=Ct.clampValue(e.columnSpacing)),n}return H(e,t),e.prototype.dispose=function(){(0,y.each)(this._items,(function(t){var e=t.widget;t.dispose(),e.dispose()})),this._box=null,this._items.length=0,this._rowStarts.length=0,this._rowSizers.length=0,this._columnStarts.length=0,this._columnSizers.length=0,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"rowCount",{get:function(){return this._rowSizers.length},set:function(t){t!==this.rowCount&&(Ct.reallocSizers(this._rowSizers,t),this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnCount",{get:function(){return this._columnSizers.length},set:function(t){t!==this.columnCount&&(Ct.reallocSizers(this._columnSizers,t),this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowSpacing",{get:function(){return this._rowSpacing},set:function(t){t=Ct.clampValue(t),this._rowSpacing!==t&&(this._rowSpacing=t,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnSpacing",{get:function(){return this._columnSpacing},set:function(t){t=Ct.clampValue(t),this._columnSpacing!==t&&(this._columnSpacing=t,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),e.prototype.rowStretch=function(t){var e=this._rowSizers[t];return e?e.stretch:-1},e.prototype.setRowStretch=function(t,e){var n=this._rowSizers[t];n&&(e=Ct.clampValue(e),n.stretch!==e&&(n.stretch=e,this.parent&&this.parent.update()))},e.prototype.columnStretch=function(t){var e=this._columnSizers[t];return e?e.stretch:-1},e.prototype.setColumnStretch=function(t,e){var n=this._columnSizers[t];n&&(e=Ct.clampValue(e),n.stretch!==e&&(n.stretch=e,this.parent&&this.parent.update()))},e.prototype.iter=function(){return(0,y.map)(this._items,(function(t){return t.widget}))},e.prototype.addWidget=function(t){-1===y.ArrayExt.findFirstIndex(this._items,(function(e){return e.widget===t}))&&(this._items.push(new Q(t)),this.parent&&this.attachWidget(t))},e.prototype.removeWidget=function(t){var e=y.ArrayExt.findFirstIndex(this._items,(function(e){return e.widget===t}));if(-1!==e){var n=y.ArrayExt.removeAt(this._items,e);this.parent&&this.detachWidget(t),n.dispose()}},e.prototype.init=function(){var e=this;t.prototype.init.call(this),(0,y.each)(this,(function(t){e.attachWidget(t)}))},e.prototype.attachWidget=function(t){this.parent.isAttached&&_.sendMessage(t,K.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.isAttached&&_.sendMessage(t,K.Msg.AfterAttach),this.parent.fit()},e.prototype.detachWidget=function(t){this.parent.isAttached&&_.sendMessage(t,K.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&_.sendMessage(t,K.Msg.AfterDetach),this.parent.fit()},e.prototype.onBeforeShow=function(e){t.prototype.onBeforeShow.call(this,e),this.parent.update()},e.prototype.onBeforeAttach=function(e){t.prototype.onBeforeAttach.call(this,e),this.parent.fit()},e.prototype.onChildShown=function(t){this.parent.fit()},e.prototype.onChildHidden=function(t){this.parent.fit()},e.prototype.onResize=function(t){this.parent.isVisible&&this._update(t.width,t.height)},e.prototype.onUpdateRequest=function(t){this.parent.isVisible&&this._update(-1,-1)},e.prototype.onFitRequest=function(t){this.parent.isAttached&&this._fit()},e.prototype._fit=function(){for(var t=0,n=this.rowCount;t<n;++t)this._rowSizers[t].minSize=0;for(t=0,n=this.columnCount;t<n;++t)this._columnSizers[t].minSize=0;var i=this._items.filter((function(t){return!t.isHidden}));for(t=0,n=i.length;t<n;++t)i[t].fit();var r=this.rowCount-1,s=this.columnCount-1;for(i.sort(Ct.rowSpanCmp),t=0,n=i.length;t<n;++t){var o=i[t],u=e.getCellConfig(o.widget),a=Math.min(u.row,r),h=Math.min(u.row+u.rowSpan-1,r);Ct.distributeMin(this._rowSizers,a,h,o.minHeight)}for(i.sort(Ct.columnSpanCmp),t=0,n=i.length;t<n;++t){o=i[t],u=e.getCellConfig(o.widget);var c=Math.min(u.column,s),l=Math.min(u.column+u.columnSpan-1,s);Ct.distributeMin(this._columnSizers,c,l,o.minWidth)}if("set-no-constraint"!==this.fitPolicy){var f=r*this._rowSpacing,d=s*this._columnSpacing;for(t=0,n=this.rowCount;t<n;++t)f+=this._rowSizers[t].minSize;for(t=0,n=this.columnCount;t<n;++t)d+=this._columnSizers[t].minSize;var p=this._box=v.boxSizing(this.parent.node);d+=p.horizontalSum,f+=p.verticalSum;var m=this.parent.node.style;m.minWidth=d+"px",m.minHeight=f+"px",this._dirty=!0,this.parent.parent&&_.sendMessage(this.parent.parent,K.Msg.FitRequest),this._dirty&&_.sendMessage(this.parent,K.Msg.UpdateRequest)}else _.sendMessage(this.parent,K.Msg.UpdateRequest)},e.prototype._update=function(t,n){this._dirty=!1,t<0&&(t=this.parent.node.offsetWidth),n<0&&(n=this.parent.node.offsetHeight),this._box||(this._box=v.boxSizing(this.parent.node));var i=this._box.paddingTop,r=this._box.paddingLeft,s=t-this._box.horizontalSum,o=n-this._box.verticalSum,u=this.rowCount-1,a=this.columnCount-1,h=u*this._rowSpacing,c=a*this._columnSpacing;V.calc(this._rowSizers,Math.max(0,o-h)),V.calc(this._columnSizers,Math.max(0,s-c));for(var l=0,f=i,d=this.rowCount;l<d;++l)this._rowStarts[l]=f,f+=this._rowSizers[l].size+this._rowSpacing;for(l=0,f=r,d=this.columnCount;l<d;++l)this._columnStarts[l]=f,f+=this._columnSizers[l].size+this._columnSpacing;for(l=0,d=this._items.length;l<d;++l){var p=this._items[l];if(!p.isHidden){var m=e.getCellConfig(p.widget),g=Math.min(m.row,u),b=Math.min(m.column,a),w=Math.min(m.row+m.rowSpan-1,u),y=Math.min(m.column+m.columnSpan-1,a),k=this._columnStarts[b],D=this._rowStarts[g],j=this._columnStarts[y]+this._columnSizers[y].size-k,x=this._rowStarts[w]+this._rowSizers[w].size-D;p.update(k,D,j,x)}}},e}(X);!function(t){t.getCellConfig=function(t){return Ct.cellConfigProperty.get(t)},t.setCellConfig=function(t,e){Ct.cellConfigProperty.set(t,Ct.normalizeConfig(e))}}(Ot||(Ot={})),function(t){t.cellConfigProperty=new T.AttachedProperty({name:"cellConfig",create:function(){return{row:0,column:0,rowSpan:1,columnSpan:1}},changed:function(t){t.parent&&t.parent.layout instanceof Ot&&t.parent.fit()}}),t.normalizeConfig=function(t){return{row:Math.max(0,Math.floor(t.row||0)),column:Math.max(0,Math.floor(t.column||0)),rowSpan:Math.max(1,Math.floor(t.rowSpan||0)),columnSpan:Math.max(1,Math.floor(t.columnSpan||0))}},t.clampValue=function(t){return Math.max(0,Math.floor(t))},t.rowSpanCmp=function(e,n){var i=t.cellConfigProperty.get(e.widget),r=t.cellConfigProperty.get(n.widget);return i.rowSpan-r.rowSpan},t.columnSpanCmp=function(e,n){var i=t.cellConfigProperty.get(e.widget),r=t.cellConfigProperty.get(n.widget);return i.columnSpan-r.columnSpan},t.reallocSizers=function(t,e){for(e=Math.max(1,Math.floor(e));t.length<e;)t.push(new G);t.length>e&&(t.length=e)},t.distributeMin=function(t,e,n,i){if(!(n<e))if(e!==n){for(var r=0,s=e;s<=n;++s)r+=t[s].minSize;if(!(r>=i)){var o=(i-r)/(n-e+1);for(s=e;s<=n;++s)t[s].minSize+=o}}else{var u=t[e];u.minSize=Math.max(u.minSize,i)}}}(Ct||(Ct={}));var St,Tt,Rt=function(t){function e(n){void 0===n&&(n={});var i=t.call(this,{node:St.createNode()})||this;return i._activeIndex=-1,i._menus=[],i._childMenu=null,i.addClass("lm-MenuBar"),i.addClass("p-MenuBar"),i.setFlag(K.Flag.DisallowLayout),i.renderer=n.renderer||e.defaultRenderer,i._forceItemsPosition=n.forceItemsPosition||{forceX:!0,forceY:!0},i}return H(e,t),e.prototype.dispose=function(){this._closeChildMenu(),this._menus.length=0,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"childMenu",{get:function(){return this._childMenu},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-MenuBar-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeMenu",{get:function(){return this._menus[this._activeIndex]||null},set:function(t){this.activeIndex=t?this._menus.indexOf(t):-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(t){(t<0||t>=this._menus.length)&&(t=-1),this._activeIndex!==t&&(this._activeIndex=t,this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"menus",{get:function(){return this._menus},enumerable:!0,configurable:!0}),e.prototype.openActiveMenu=function(){-1!==this._activeIndex&&(this._openChildMenu(),this._childMenu&&(this._childMenu.activeIndex=-1,this._childMenu.activateNextItem()))},e.prototype.addMenu=function(t){this.insertMenu(this._menus.length,t)},e.prototype.insertMenu=function(t,e){this._closeChildMenu();var n=this._menus.indexOf(e),i=Math.max(0,Math.min(t,this._menus.length));if(-1===n)return y.ArrayExt.insert(this._menus,i,e),e.addClass("lm-MenuBar-menu"),e.addClass("p-MenuBar-menu"),e.aboutToClose.connect(this._onMenuAboutToClose,this),e.menuRequested.connect(this._onMenuMenuRequested,this),e.title.changed.connect(this._onTitleChanged,this),void this.update();i===this._menus.length&&i--,n!==i&&(y.ArrayExt.move(this._menus,n,i),this.update())},e.prototype.removeMenu=function(t){this.removeMenuAt(this._menus.indexOf(t))},e.prototype.removeMenuAt=function(t){this._closeChildMenu();var e=y.ArrayExt.removeAt(this._menus,t);e&&(e.aboutToClose.disconnect(this._onMenuAboutToClose,this),e.menuRequested.disconnect(this._onMenuMenuRequested,this),e.title.changed.disconnect(this._onTitleChanged,this),e.removeClass("lm-MenuBar-menu"),e.removeClass("p-MenuBar-menu"),this.update())},e.prototype.clearMenus=function(){if(0!==this._menus.length){this._closeChildMenu();for(var t=0,e=this._menus;t<e.length;t++){var n=e[t];n.aboutToClose.disconnect(this._onMenuAboutToClose,this),n.menuRequested.disconnect(this._onMenuMenuRequested,this),n.title.changed.disconnect(this._onTitleChanged,this),n.removeClass("lm-MenuBar-menu"),n.removeClass("p-MenuBar-menu")}this._menus.length=0,this.update()}},e.prototype.handleEvent=function(t){switch(t.type){case"keydown":this._evtKeyDown(t);break;case"mousedown":this._evtMouseDown(t);break;case"mousemove":this._evtMouseMove(t);break;case"mouseleave":this._evtMouseLeave(t);break;case"contextmenu":t.preventDefault(),t.stopPropagation()}},e.prototype.onBeforeAttach=function(t){this.node.addEventListener("keydown",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this)},e.prototype.onAfterDetach=function(t){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),this._closeChildMenu()},e.prototype.onActivateRequest=function(t){this.isAttached&&this.node.focus()},e.prototype.onUpdateRequest=function(t){for(var e=this,n=this._menus,i=this.renderer,r=this._activeIndex,s=new Array(n.length),o=function(t,o){var u=n[t].title,a=t===r;s[t]=i.renderItem({title:u,active:a,onfocus:function(){e.activeIndex=t}})},u=0,a=n.length;u<a;++u)o(u);E.render(s,this.contentNode)},e.prototype._evtKeyDown=function(t){t.preventDefault(),t.stopPropagation();var e=t.keyCode;if(13!==e&&38!==e&&40!==e){if(27===e)return this._closeChildMenu(),this.activeIndex=-1,void this.node.blur();if(37!==e)if(39!==e){var n=I().keyForKeydownEvent(t);if(n){var i=this._activeIndex+1,r=St.findMnemonic(this._menus,n,i);-1===r.index||r.multiple?-1!==r.index?this.activeIndex=r.index:-1!==r.auto&&(this.activeIndex=r.auto):(this.activeIndex=r.index,this.openActiveMenu())}}else s=this._activeIndex,o=this._menus.length,this.activeIndex=s===o-1?0:s+1;else{var s=this._activeIndex,o=this._menus.length;this.activeIndex=0===s?o-1:s-1}}else this.openActiveMenu()},e.prototype._evtMouseDown=function(t){if(v.hitTest(this.node,t.clientX,t.clientY)){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation();var e=y.ArrayExt.findFirstIndex(this.contentNode.children,(function(e){return v.hitTest(e,t.clientX,t.clientY)}));-1!==e?0===t.button&&(this._childMenu?(this._closeChildMenu(),this.activeIndex=e):(this.activeIndex=e,this._openChildMenu())):this._closeChildMenu()}},e.prototype._evtMouseMove=function(t){var e=y.ArrayExt.findFirstIndex(this.contentNode.children,(function(e){return v.hitTest(e,t.clientX,t.clientY)}));e!==this._activeIndex&&(-1===e&&this._childMenu||(this.activeIndex=e,this._childMenu&&this._openChildMenu()))},e.prototype._evtMouseLeave=function(t){this._childMenu||(this.activeIndex=-1)},e.prototype._openChildMenu=function(){var t=this.activeMenu;if(t){var e=this._childMenu;if(e!==t){this._childMenu=t,e?e.close():(this.addClass("lm-mod-active"),this.addClass("p-mod-active"),document.addEventListener("mousedown",this,!0)),_.sendMessage(this,K.Msg.UpdateRequest);var n=this.contentNode.children[this._activeIndex].getBoundingClientRect(),i=n.left,r=n.bottom;t.open(i,r,this._forceItemsPosition)}}else this._closeChildMenu()},e.prototype._closeChildMenu=function(){if(this._childMenu){this.removeClass("lm-mod-active"),this.removeClass("p-mod-active"),document.removeEventListener("mousedown",this,!0);var t=this._childMenu;this._childMenu=null,t.close(),this.activeIndex=-1}},e.prototype._onMenuAboutToClose=function(t){t===this._childMenu&&(this.removeClass("lm-mod-active"),this.removeClass("p-mod-active"),document.removeEventListener("mousedown",this,!0),this._childMenu=null,this.activeIndex=-1)},e.prototype._onMenuMenuRequested=function(t,e){if(t===this._childMenu){var n=this._activeIndex,i=this._menus.length;switch(e){case"next":this.activeIndex=n===i-1?0:n+1;break;case"previous":this.activeIndex=0===n?i-1:n-1}this.openActiveMenu()}},e.prototype._onTitleChanged=function(){this.update()},e}(K);!function(t){var e=function(){function t(){}return t.prototype.renderItem=function(t){var e=this.createItemClass(t),n=this.createItemDataset(t),i=this.createItemARIA(t);return L.li(J({className:e,dataset:n,tabindex:"0",onfocus:t.onfocus},i),this.renderIcon(t),this.renderLabel(t))},t.prototype.renderIcon=function(t){var e=this.createIconClass(t);return"string"==typeof t.title.icon?L.div({className:e},t.title.iconLabel):L.div({className:e},t.title.icon,t.title.iconLabel)},t.prototype.renderLabel=function(t){var e=this.formatLabel(t);return L.div({className:"lm-MenuBar-itemLabel p-MenuBar-itemLabel"},e)},t.prototype.createItemClass=function(t){var e="lm-MenuBar-item";return e+=" p-MenuBar-item",t.title.className&&(e+=" "+t.title.className),t.active&&(e+=" lm-mod-active",e+=" p-mod-active"),e},t.prototype.createItemDataset=function(t){return t.title.dataset},t.prototype.createItemARIA=function(t){return{role:"menuitem","aria-haspopup":"true"}},t.prototype.createIconClass=function(t){var e="lm-MenuBar-itemIcon";e+=" p-MenuBar-itemIcon";var n=t.title.iconClass;return n?e+" "+n:e},t.prototype.formatLabel=function(t){var e=t.title,n=e.label,i=e.mnemonic;if(i<0||i>=n.length)return n;var r=n.slice(0,i),s=n.slice(i+1),o=n[i];return[r,L.span({className:"lm-MenuBar-itemMnemonic p-MenuBar-itemMnemonic"},o),s]},t}();t.Renderer=e,t.defaultRenderer=new e}(Rt||(Rt={})),function(t){t.createNode=function(){var t=document.createElement("div"),e=document.createElement("ul");return e.className="lm-MenuBar-content",e.classList.add("p-MenuBar-content"),t.appendChild(e),e.setAttribute("role","menubar"),t.tabIndex=0,e.tabIndex=0,t},t.findMnemonic=function(t,e,n){for(var i=-1,r=-1,s=!1,o=e.toUpperCase(),u=0,a=t.length;u<a;++u){var h=(u+n)%a,c=t[h].title;if(0!==c.label.length){var l=c.mnemonic;l>=0&&l<c.label.length?c.label[l].toUpperCase()===o&&(-1===i?i=h:s=!0):-1===r&&c.label[0].toUpperCase()===o&&(r=h)}}return{index:i,multiple:s,auto:r}}}(St||(St={})),function(t){function e(e){void 0===e&&(e={});var n=t.call(this,{node:Tt.createNode()})||this;return n._onRepeat=function(){if(n._repeatTimer=-1,n._pressData){var t=n._pressData.part;if("thumb"!==t){n._repeatTimer=window.setTimeout(n._onRepeat,20);var e=n._pressData.mouseX,i=n._pressData.mouseY;if("decrement"!==t)if("increment"!==t){if("track"===t){if(!v.hitTest(n.trackNode,e,i))return;var r=n.thumbNode;if(v.hitTest(r,e,i))return;var s,o=r.getBoundingClientRect();return s="horizontal"===n._orientation?e<o.left?"decrement":"increment":i<o.top?"decrement":"increment",void n._pageRequested.emit(s)}}else{if(!v.hitTest(n.incrementNode,e,i))return;n._stepRequested.emit("increment")}else{if(!v.hitTest(n.decrementNode,e,i))return;n._stepRequested.emit("decrement")}}}},n._value=0,n._page=10,n._maximum=100,n._repeatTimer=-1,n._pressData=null,n._thumbMoved=new R.Signal(n),n._stepRequested=new R.Signal(n),n._pageRequested=new R.Signal(n),n.addClass("lm-ScrollBar"),n.addClass("p-ScrollBar"),n.setFlag(K.Flag.DisallowLayout),n._orientation=e.orientation||"vertical",n.dataset.orientation=n._orientation,void 0!==e.maximum&&(n._maximum=Math.max(0,e.maximum)),void 0!==e.page&&(n._page=Math.max(0,e.page)),void 0!==e.value&&(n._value=Math.max(0,Math.min(e.value,n._maximum))),n}H(e,t),Object.defineProperty(e.prototype,"thumbMoved",{get:function(){return this._thumbMoved},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stepRequested",{get:function(){return this._stepRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageRequested",{get:function(){return this._pageRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){return this._orientation},set:function(t){this._orientation!==t&&(this._releaseMouse(),this._orientation=t,this.dataset.orientation=t,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){t=Math.max(0,Math.min(t,this._maximum)),this._value!==t&&(this._value=t,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"page",{get:function(){return this._page},set:function(t){t=Math.max(0,t),this._page!==t&&(this._page=t,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximum",{get:function(){return this._maximum},set:function(t){t=Math.max(0,t),this._maximum!==t&&(this._maximum=t,this._value=Math.min(this._value,t),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"decrementNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-button")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"incrementNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-button")[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trackNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-track")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"thumbNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-thumb")[0]},enumerable:!0,configurable:!0}),e.prototype.handleEvent=function(t){switch(t.type){case"mousedown":this._evtMouseDown(t);break;case"mousemove":this._evtMouseMove(t);break;case"mouseup":this._evtMouseUp(t);break;case"keydown":this._evtKeyDown(t);break;case"contextmenu":t.preventDefault(),t.stopPropagation()}},e.prototype.onBeforeAttach=function(t){this.node.addEventListener("mousedown",this),this.update()},e.prototype.onAfterDetach=function(t){this.node.removeEventListener("mousedown",this),this._releaseMouse()},e.prototype.onUpdateRequest=function(t){var e=100*this._value/this._maximum,n=100*this._page/(this._page+this._maximum);e=Math.max(0,Math.min(e,100)),n=Math.max(0,Math.min(n,100));var i=this.thumbNode.style;"horizontal"===this._orientation?(i.top="",i.height="",i.left=e+"%",i.width=n+"%",i.transform="translate("+-e+"%, 0%)"):(i.left="",i.width="",i.top=e+"%",i.height=n+"%",i.transform="translate(0%, "+-e+"%)")},e.prototype._evtKeyDown=function(t){if(t.preventDefault(),t.stopPropagation(),27===t.keyCode){var e=this._pressData?this._pressData.value:-1;this._releaseMouse(),-1!==e&&this._moveThumb(e)}},e.prototype._evtMouseDown=function(t){if(0===t.button&&(this.activate(),!this._pressData)){var e=Tt.findPart(this,t.target);if(e){t.preventDefault(),t.stopPropagation();var n,i=f.Drag.overrideCursor("default");if(this._pressData={part:e,override:i,delta:-1,value:-1,mouseX:t.clientX,mouseY:t.clientY},document.addEventListener("mousemove",this,!0),document.addEventListener("mouseup",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0),"thumb"===e){var r=this.thumbNode,s=r.getBoundingClientRect();return"horizontal"===this._orientation?this._pressData.delta=t.clientX-s.left:this._pressData.delta=t.clientY-s.top,r.classList.add("lm-mod-active"),r.classList.add("p-mod-active"),void(this._pressData.value=this._value)}return"track"===e?(s=this.thumbNode.getBoundingClientRect(),n="horizontal"===this._orientation?t.clientX<s.left?"decrement":"increment":t.clientY<s.top?"decrement":"increment",this._repeatTimer=window.setTimeout(this._onRepeat,350),void this._pageRequested.emit(n)):"decrement"===e?(this.decrementNode.classList.add("lm-mod-active"),this.decrementNode.classList.add("p-mod-active"),this._repeatTimer=window.setTimeout(this._onRepeat,350),void this._stepRequested.emit("decrement")):"increment"===e?(this.incrementNode.classList.add("lm-mod-active"),this.incrementNode.classList.add("p-mod-active"),this._repeatTimer=window.setTimeout(this._onRepeat,350),void this._stepRequested.emit("increment")):void 0}}},e.prototype._evtMouseMove=function(t){if(this._pressData&&(t.preventDefault(),t.stopPropagation(),this._pressData.mouseX=t.clientX,this._pressData.mouseY=t.clientY,"thumb"===this._pressData.part)){var e,n,i=this.thumbNode.getBoundingClientRect(),r=this.trackNode.getBoundingClientRect();"horizontal"===this._orientation?(e=t.clientX-r.left-this._pressData.delta,n=r.width-i.width):(e=t.clientY-r.top-this._pressData.delta,n=r.height-i.height);var s=0===n?0:e*this._maximum/n;this._moveThumb(s)}},e.prototype._evtMouseUp=function(t){0===t.button&&(t.preventDefault(),t.stopPropagation(),this._releaseMouse())},e.prototype._releaseMouse=function(){this._pressData&&(clearTimeout(this._repeatTimer),this._repeatTimer=-1,this._pressData.override.dispose(),this._pressData=null,document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("contextmenu",this,!0),this.thumbNode.classList.remove("lm-mod-active"),this.decrementNode.classList.remove("lm-mod-active"),this.incrementNode.classList.remove("lm-mod-active"),this.thumbNode.classList.remove("p-mod-active"),this.decrementNode.classList.remove("p-mod-active"),this.incrementNode.classList.remove("p-mod-active"))},e.prototype._moveThumb=function(t){t=Math.max(0,Math.min(t,this._maximum)),this._value!==t&&(this._value=t,this.update(),this._thumbMoved.emit(t))}}(K),function(t){t.createNode=function(){var t=document.createElement("div"),e=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div");return e.className="lm-ScrollBar-button",n.className="lm-ScrollBar-button",e.dataset.action="decrement",n.dataset.action="increment",i.className="lm-ScrollBar-track",r.className="lm-ScrollBar-thumb",e.classList.add("p-ScrollBar-button"),n.classList.add("p-ScrollBar-button"),i.classList.add("p-ScrollBar-track"),r.classList.add("p-ScrollBar-thumb"),i.appendChild(r),t.appendChild(e),t.appendChild(i),t.appendChild(n),t},t.findPart=function(t,e){return t.thumbNode.contains(e)?"thumb":t.trackNode.contains(e)?"track":t.decrementNode.contains(e)?"decrement":t.incrementNode.contains(e)?"increment":null}}(Tt||(Tt={})),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._widget=null,e}H(e,t),e.prototype.dispose=function(){if(this._widget){var e=this._widget;this._widget=null,e.dispose()}t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"widget",{get:function(){return this._widget},set:function(t){t&&(t.parent=this.parent),this._widget!==t&&(this._widget&&this._widget.dispose(),this._widget=t,this.parent&&t&&this.attachWidget(t))},enumerable:!0,configurable:!0}),e.prototype.iter=function(){return this._widget?(0,y.once)(this._widget):(0,y.empty)()},e.prototype.removeWidget=function(t){this._widget===t&&(this._widget=null,this.parent&&this.detachWidget(t))},e.prototype.init=function(){var e=this;t.prototype.init.call(this),(0,y.each)(this,(function(t){e.attachWidget(t)}))},e.prototype.attachWidget=function(t){this.parent.isAttached&&_.sendMessage(t,K.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.isAttached&&_.sendMessage(t,K.Msg.AfterAttach)},e.prototype.detachWidget=function(t){this.parent.isAttached&&_.sendMessage(t,K.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&_.sendMessage(t,K.Msg.AfterDetach)}}(X);var Ft,$t,Bt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._dirty=!1,e._items=[],e._box=null,e}return H(e,t),e.prototype.dispose=function(){(0,y.each)(this._items,(function(t){t.dispose()})),this._box=null,this._items.length=0,t.prototype.dispose.call(this)},e.prototype.attachWidget=function(t,e){y.ArrayExt.insert(this._items,t,new Q(e)),this.parent.isAttached&&_.sendMessage(e,K.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&_.sendMessage(e,K.Msg.AfterAttach),this.parent.fit()},e.prototype.moveWidget=function(t,e,n){y.ArrayExt.move(this._items,t,e),this.parent.update()},e.prototype.detachWidget=function(t,e){var n=y.ArrayExt.removeAt(this._items,t);this.parent.isAttached&&_.sendMessage(e,K.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&_.sendMessage(e,K.Msg.AfterDetach),n.widget.node.style.zIndex="",n.dispose(),this.parent.fit()},e.prototype.onBeforeShow=function(e){t.prototype.onBeforeShow.call(this,e),this.parent.update()},e.prototype.onBeforeAttach=function(e){t.prototype.onBeforeAttach.call(this,e),this.parent.fit()},e.prototype.onChildShown=function(t){this.parent.fit()},e.prototype.onChildHidden=function(t){this.parent.fit()},e.prototype.onResize=function(t){this.parent.isVisible&&this._update(t.width,t.height)},e.prototype.onUpdateRequest=function(t){this.parent.isVisible&&this._update(-1,-1)},e.prototype.onFitRequest=function(t){this.parent.isAttached&&this._fit()},e.prototype._fit=function(){for(var t=0,e=0,n=0,i=this._items.length;n<i;++n){var r=this._items[n];r.isHidden||(r.fit(),t=Math.max(t,r.minWidth),e=Math.max(e,r.minHeight))}var s=this._box=v.boxSizing(this.parent.node);t+=s.horizontalSum,e+=s.verticalSum;var o=this.parent.node.style;o.minWidth=t+"px",o.minHeight=e+"px",this._dirty=!0,this.parent.parent&&_.sendMessage(this.parent.parent,K.Msg.FitRequest),this._dirty&&_.sendMessage(this.parent,K.Msg.UpdateRequest)},e.prototype._update=function(t,e){this._dirty=!1;for(var n=0,i=0,r=this._items.length;i<r;++i)n+=+!this._items[i].isHidden;if(0!==n){t<0&&(t=this.parent.node.offsetWidth),e<0&&(e=this.parent.node.offsetHeight),this._box||(this._box=v.boxSizing(this.parent.node));var s=this._box.paddingTop,o=this._box.paddingLeft,u=t-this._box.horizontalSum,a=e-this._box.verticalSum;for(i=0,r=this._items.length;i<r;++i){var h=this._items[i];h.isHidden||(h.widget.node.style.zIndex=""+i,h.update(o,s,u,a))}}},e}(et),qt=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,{layout:Ft.createLayout(e)})||this;return n._widgetRemoved=new R.Signal(n),n.addClass("lm-StackedPanel"),n.addClass("p-StackedPanel"),n}return H(e,t),Object.defineProperty(e.prototype,"widgetRemoved",{get:function(){return this._widgetRemoved},enumerable:!0,configurable:!0}),e.prototype.onChildAdded=function(t){t.child.addClass("lm-StackedPanel-child"),t.child.addClass("p-StackedPanel-child")},e.prototype.onChildRemoved=function(t){t.child.removeClass("lm-StackedPanel-child"),t.child.removeClass("p-StackedPanel-child"),this._widgetRemoved.emit(t.child)},e}(at);!function(t){t.createLayout=function(t){return t.layout||new Bt}}(Ft||(Ft={})),function(t){function e(e){void 0===e&&(e={});var n=t.call(this)||this;n._currentChanged=new R.Signal(n),n._addRequested=new R.Signal(n),n.addClass("lm-TabPanel"),n.addClass("p-TabPanel"),n.tabBar=new jt(e),n.tabBar.addClass("lm-TabPanel-tabBar"),n.stackedPanel=new qt,n.stackedPanel.addClass("lm-TabPanel-stackedPanel"),n.tabBar.addClass("p-TabPanel-tabBar"),n.stackedPanel.addClass("p-TabPanel-stackedPanel"),n.tabBar.tabMoved.connect(n._onTabMoved,n),n.tabBar.currentChanged.connect(n._onCurrentChanged,n),n.tabBar.tabCloseRequested.connect(n._onTabCloseRequested,n),n.tabBar.tabActivateRequested.connect(n._onTabActivateRequested,n),n.tabBar.addRequested.connect(n._onTabAddRequested,n),n.stackedPanel.widgetRemoved.connect(n._onWidgetRemoved,n),n._tabPlacement=e.tabPlacement||"top";var i=$t.directionFromPlacement(n._tabPlacement),r=$t.orientationFromPlacement(n._tabPlacement);n.tabBar.orientation=r,n.tabBar.dataset.placement=n._tabPlacement;var s=new pt({direction:i,spacing:0});return pt.setStretch(n.tabBar,0),pt.setStretch(n.stackedPanel,1),s.addWidget(n.tabBar),s.addWidget(n.stackedPanel),n.layout=s,n}H(e,t),Object.defineProperty(e.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentIndex",{get:function(){return this.tabBar.currentIndex},set:function(t){this.tabBar.currentIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentWidget",{get:function(){var t=this.tabBar.currentTitle;return t?t.owner:null},set:function(t){this.tabBar.currentTitle=t?t.title:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabsMovable",{get:function(){return this.tabBar.tabsMovable},set:function(t){this.tabBar.tabsMovable=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addButtonEnabled",{get:function(){return this.tabBar.addButtonEnabled},set:function(t){this.tabBar.addButtonEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabPlacement",{get:function(){return this._tabPlacement},set:function(t){if(this._tabPlacement!==t){this._tabPlacement=t;var e=$t.directionFromPlacement(t),n=$t.orientationFromPlacement(t);this.tabBar.orientation=n,this.tabBar.dataset.placement=t,this.layout.direction=e}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addRequested",{get:function(){return this._addRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"widgets",{get:function(){return this.stackedPanel.widgets},enumerable:!0,configurable:!0}),e.prototype.addWidget=function(t){this.insertWidget(this.widgets.length,t)},e.prototype.insertWidget=function(t,e){e!==this.currentWidget&&e.hide(),this.stackedPanel.insertWidget(t,e),this.tabBar.insertTab(t,e.title),e.node.setAttribute("role","tabpanel");var n=this.tabBar.renderer;if(n instanceof jt.Renderer){var i=n.createTabKey({title:e.title,current:!1,zIndex:0});e.node.setAttribute("aria-labelledby",i)}},e.prototype._onCurrentChanged=function(t,e){var n=e.previousIndex,i=e.previousTitle,r=e.currentIndex,s=e.currentTitle,o=i?i.owner:null,u=s?s.owner:null;o&&o.hide(),u&&u.show(),this._currentChanged.emit({previousIndex:n,previousWidget:o,currentIndex:r,currentWidget:u}),(g.IS_EDGE||g.IS_IE)&&_.flush()},e.prototype._onTabAddRequested=function(t,e){this._addRequested.emit(t)},e.prototype._onTabActivateRequested=function(t,e){e.title.owner.activate()},e.prototype._onTabCloseRequested=function(t,e){e.title.owner.close()},e.prototype._onTabMoved=function(t,e){this.stackedPanel.insertWidget(e.toIndex,e.title.owner)},e.prototype._onWidgetRemoved=function(t,e){e.node.removeAttribute("role"),e.node.removeAttribute("aria-labelledby"),this.tabBar.removeTab(e.title)}}(K),function(t){t.orientationFromPlacement=function(t){return e[t]},t.directionFromPlacement=function(t){return n[t]};var e={top:"horizontal",left:"vertical",right:"vertical",bottom:"horizontal"},n={top:"top-to-bottom",left:"left-to-right",right:"right-to-left",bottom:"bottom-to-top"}}($t||($t={}));var Lt=__webpack_require__(8686),It=__webpack_require__.n(Lt),zt=__webpack_require__(7084),Nt=__webpack_require__.n(zt);const Pt=/(\$\$?|\\(?:begin|end)\{[a-z]*\*?\}|\\[{}$]|[{}]|(?:\n\s*)+|@@\d+@@|\\\\(?:\(|\)|\[|\]))/i;function Ut(t,e,n,i,r){let s=r.slice(t,e+1).join("").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");for(navigator&&"Microsoft Internet Explorer"===navigator.appName&&(s=s.replace(/(%[^\n]*)\n/g,"$1<br/>\n"));e>t;)r[e]="",e--;return r[t]="@@"+i.length+"@@",n&&(s=n(s)),i.push(s),r}var Ht;function Vt(t){let{host:e,source:n,trusted:i,sanitizer:r,resolver:s,linkHandler:o,shouldTypeset:u,latexTypesetter:a,translator:h}=t;h=h||f.nullTranslator;const c=null==h?void 0:h.load("jupyterlab");let l,d=n;if(!n)return e.textContent="",Promise.resolve(void 0);if(i||(d=`${n}`,n=r.sanitize(n)),e.innerHTML=n,e.getElementsByTagName("script").length>0)if(i)Ht.evalInnerHTMLScriptTags(e);else{const t=document.createElement("div"),n=document.createElement("pre");n.textContent=c.H("This HTML output contains inline scripts. Are you sure that you want to run arbitrary Javascript within your JupyterLab session?");const i=document.createElement("button");i.textContent=c.H("Run"),i.onclick=t=>{e.innerHTML=d,Ht.evalInnerHTMLScriptTags(e),e.firstChild&&e.removeChild(e.firstChild)},t.appendChild(n),t.appendChild(i),e.insertBefore(t,e.firstChild)}return Ht.handleDefaults(e,s),l=s?Ht.handleUrls(e,s,o):Promise.resolve(void 0),l.then((()=>{u&&a&&a.typeset(e)}))}function Jt(t){const{host:e,sanitizer:n,source:i}=t,r=n.sanitize(Ht.ansiSpan(i),{allowedTags:["span"]}),s=document.createElement("pre");return s.innerHTML=function(t){const e="\\u0000-\\u0020\\u007f-\\u009f",n=new RegExp("(?:[a-zA-Z][a-zA-Z0-9+.-]{2,}:\\/\\/|data:|www\\.)[^\\s"+e+'"]{2,}[^\\s'+e+"\"'(){}\\[\\],:;.!?]","ug");return t.replace(n,(t=>{const e=t.slice(-3),n=-1!==["&gt","&lt"].indexOf(e),i=n?e:"",r=n?t.length-3:t.length;return`<a href="${t.slice(0,r)}" rel="noopener" target="_blank">${t.slice(0,r)}</a>${i}`}))}(r),e.appendChild(s),Promise.resolve(void 0)}!function(t){async function e(t,e,n){const i=t.getAttribute(e)||"",r=n.isLocal?n.isLocal(i):l.URLExt.isLocal(i);if(i&&r)try{const r=await n.resolveUrl(i);let s=await n.getDownloadUrl(r);"data:"!==l.URLExt.parse(s).protocol&&(s+=(/\?/.test(s)?"&":"?")+(new Date).getTime()),t.setAttribute(e,s)}catch(n){throw t.setAttribute(e,""),n}}function n(t,e,n){let i=t.getAttribute("href")||"";const r=e.isLocal?e.isLocal(i):l.URLExt.isLocal(i);if(!i||!r)return Promise.resolve(void 0);const s=t.hash;if(s){if(s===i)return t.target="_self",Promise.resolve(void 0);i=i.replace(s,"")}return e.resolveUrl(i).then((i=>{const r=decodeURIComponent(i);return n&&n.handleLink(t,r,s),e.getDownloadUrl(i)})).then((e=>{t.href=e+s})).catch((e=>{t.href=""}))}t.evalInnerHTMLScriptTags=function(t){const e=(0,y.toArray)(t.getElementsByTagName("script"));for(const t of e){if(!t.parentNode)continue;const e=document.createElement("script"),n=t.attributes;for(let t=0,i=n.length;t<i;++t){const{name:i,value:r}=n[t];e.setAttribute(i,r)}e.textContent=t.textContent,t.parentNode.replaceChild(e,t)}},t.renderMarked=function(t){return i||(i=!0,Nt().setOptions({gfm:!0,sanitize:!1,langPrefix:`cm-s-${f.CodeMirrorEditor.defaultConfig.theme} language-`,highlight:(t,e,n)=>{const i=(t,e)=>(n&&n(t,e),e);return e?(f.Mode.ensure(e).then((n=>{const r=document.createElement("div");if(!n)return console.error(`No CodeMirror mode: ${e}`),i(null,t);try{return f.Mode.run(t,n.mime,r),i(null,r.innerHTML)}catch(n){return console.error(`Failed to highlight ${e} code`,n),i(n,t)}})).catch((n=>(console.error(`No CodeMirror mode: ${e}`),console.error(`Require CodeMirror mode error: ${n}`),i(null,t)))),t):i(null,t)}})),new Promise(((e,n)=>{Nt()(t,((t,i)=>{t?n(t):e(i)}))}))},t.handleDefaults=function(t,e){const n=t.getElementsByTagName("a");for(let t=0;t<n.length;t++){const i=n[t];if(!(i instanceof HTMLAnchorElement))continue;const r=i.href,s=e&&e.isLocal?e.isLocal(r):l.URLExt.isLocal(r);i.target||(i.target=s?"_self":"_blank"),s||(i.rel="noopener")}const i=t.getElementsByTagName("img");for(let t=0;t<i.length;t++)i[t].alt||(i[t].alt="Image")},t.handleUrls=function(t,i,r){const s=[],o=t.querySelectorAll("*[src]");for(let t=0;t<o.length;t++)s.push(e(o[t],"src",i));const u=t.getElementsByTagName("a");for(let t=0;t<u.length;t++)s.push(n(u[t],i,r));const a=t.getElementsByTagName("link");for(let t=0;t<a.length;t++)s.push(e(a[t],"href",i));return Promise.all(s).then((()=>{}))},t.headerAnchors=function(t){var e;const n=["h1","h2","h3","h4","h5","h6"];for(const i of n){const n=t.getElementsByTagName(i);for(let t=0;t<n.length;t++){const i=n[t];i.id=(null!==(e=i.textContent)&&void 0!==e?e:"").replace(/ /g,"-");const r=document.createElement("a");r.target="_self",r.textContent="¶",r.href="#"+i.id,r.classList.add("jp-InternalAnchorLink"),i.appendChild(r)}}};let i=!1;const r=["ansi-black","ansi-red","ansi-green","ansi-yellow","ansi-blue","ansi-magenta","ansi-cyan","ansi-white","ansi-black-intense","ansi-red-intense","ansi-green-intense","ansi-yellow-intense","ansi-blue-intense","ansi-magenta-intense","ansi-cyan-intense","ansi-white-intense"];function s(t,e,n,i,s,o,u){if(t){const a=[],h=[];i&&"number"==typeof e&&0<=e&&e<8&&(e+=8),o&&([e,n]=[n,e]),"number"==typeof e?a.push(r[e]+"-fg"):e.length?h.push(`color: rgb(${e})`):o&&a.push("ansi-default-inverse-fg"),"number"==typeof n?a.push(r[n]+"-bg"):n.length?h.push(`background-color: rgb(${n})`):o&&a.push("ansi-default-inverse-bg"),i&&a.push("ansi-bold"),s&&a.push("ansi-underline"),a.length||h.length?(u.push("<span"),a.length&&u.push(` class="${a.join(" ")}"`),h.length&&u.push(` style="${h.join("; ")}"`),u.push(">"),u.push(t),u.push("</span>")):u.push(t)}}function o(t){let e,n,i;const r=t.shift();if(2===r&&t.length>=3){if(e=t.shift(),n=t.shift(),i=t.shift(),[e,n,i].some((t=>t<0||255<t)))throw new RangeError("Invalid range for RGB colors")}else{if(!(5===r&&t.length>=1))throw new RangeError("Invalid extended color specification");{const r=t.shift();if(r<0)throw new RangeError("Color index must be >= 0");if(r<16)return r;if(r<232)e=Math.floor((r-16)/36),e=e>0?55+40*e:0,n=Math.floor((r-16)%36/6),n=n>0?55+40*n:0,i=(r-16)%6,i=i>0?55+40*i:0;else{if(!(r<256))throw new RangeError("Color index must be < 256");e=n=i=10*(r-232)+8}}}return[e,n,i]}t.ansiSpan=function(t){const e=/\x1b\[(.*?)([@-~])/g;let n,i=[],r=[],u=!1,a=!1,h=!1;const c=[],l=[];let f=0;for(t=It()(t),t+="[m";n=e.exec(t);){if("m"===n[2]){const t=n[1].split(";");for(let e=0;e<t.length;e++){const n=t[e];if(""===n)l.push(0);else{if(-1===n.search(/^\d+$/)){l.length=0;break}l.push(parseInt(n,10))}}}for(s(t.substring(f,n.index),i,r,u,a,h,c),f=e.lastIndex;l.length;){const e=l.shift();switch(e){case 0:i=r=[],u=!1,a=!1,h=!1;break;case 1:case 5:u=!0;break;case 4:a=!0;break;case 7:h=!0;break;case 21:case 22:u=!1;break;case 24:a=!1;break;case 27:h=!1;break;case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:i=e-30;break;case 38:try{i=o(l)}catch(t){l.length=0}break;case 39:i=[];break;case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:r=e-40;break;case 48:try{r=o(l)}catch(t){l.length=0}break;case 49:r=[];break;case 90:case 91:case 92:case 93:case 94:case 95:case 96:case 97:i=e-90+8;break;case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:r=e-100+8}}}return c.join("")}}(Ht||(Ht={}));class Gt extends K{constructor(t){super(),this.mimeType=t.mimeType,this.sanitizer=t.sanitizer,this.resolver=t.resolver,this.linkHandler=t.linkHandler,this.translator=t.translator||f.nullTranslator,this.latexTypesetter=t.latexTypesetter,this.node.dataset.mimeType=this.mimeType}async renderModel(t){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.toggleClass("jp-mod-trusted",t.trusted),await this.render(t);const{fragment:e}=t.metadata;e&&this.setFragment(e)}setFragment(t){}}class Wt extends Gt{constructor(t){super(t),this.addClass("jp-RenderedHTMLCommon")}setFragment(t){let e;try{e=this.node.querySelector(t)}catch(t){console.warn("Unable to set URI fragment identifier.",t)}e&&e.scrollIntoView()}}class Zt extends Wt{constructor(t){super(t),this.addClass("jp-RenderedHTML")}render(t){return Vt({host:this.node,source:String(t.data[this.mimeType]),trusted:t.trusted,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter,translator:this.translator})}onAfterAttach(t){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)}}class Kt extends Gt{constructor(t){super(t),this.addClass("jp-RenderedLatex")}render(t){return function(t){const{host:e,source:n,shouldTypeset:i,latexTypesetter:r}=t;return e.textContent=n,i&&r&&r.typeset(e),Promise.resolve(void 0)}({host:this.node,source:String(t.data[this.mimeType]),shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter})}onAfterAttach(t){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)}}class Xt extends Gt{constructor(t){super(t),this.addClass("jp-RenderedImage")}render(t){const e=t.metadata[this.mimeType];return function(t){const{host:e,mimeType:n,source:i,width:r,height:s,needsBackground:o,unconfined:u}=t;e.textContent="";const a=document.createElement("img");return a.src=`data:${n};base64,${i}`,"number"==typeof s&&(a.height=s),"number"==typeof r&&(a.width=r),"light"===o?a.classList.add("jp-needs-light-background"):"dark"===o&&a.classList.add("jp-needs-dark-background"),!0===u&&a.classList.add("jp-mod-unconfined"),e.appendChild(a),Promise.resolve(void 0)}({host:this.node,mimeType:this.mimeType,source:String(t.data[this.mimeType]),width:e&&e.width,height:e&&e.height,needsBackground:t.metadata.needs_background,unconfined:e&&e.unconfined})}}class Yt extends Wt{constructor(t){super(t),this.addClass("jp-RenderedMarkdown")}render(t){return async function(t){const{host:e,source:n}=t,i=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}(t,["host","source"]);if(!n)return void(e.textContent="");const r=function(t){const e=[];let n,i=null,r=null,s=null,o=0;/`/.test(t)?(t=t.replace(/~/g,"~T").replace(/(^|[^\\])(`+)([^\n]*?[^`\n])\2(?!`)/gm,(t=>t.replace(/\$/g,"~D"))),n=t=>t.replace(/~([TD])/g,((t,e)=>"T"===e?"~":"$"))):n=t=>t;let u=t.replace(/\r\n?/g,"\n").split(Pt);for(let t=1,a=u.length;t<a;t+=2){const a=u[t];"@"===a.charAt(0)?(u[t]="@@"+e.length+"@@",e.push(a)):null!==i?a===r?o?s=t:(u=Ut(i,t,n,e,u),i=null,r=null,s=null):a.match(/\n.*\n/)?(null!==s&&(t=s,u=Ut(i,t,n,e,u)),i=null,r=null,s=null,o=0):"{"===a?o++:"}"===a&&o&&o--:"$"===a||"$$"===a?(i=t,r=a,o=0):"\\\\("===a||"\\\\["===a?(i=t,r="("===a.slice(-1)?"\\\\)":"\\\\]",o=0):"begin"===a.substr(1,5)&&(i=t,r="\\end"+a.substr(6),o=0)}return null!==i&&null!==s&&(u=Ut(i,s,n,e,u),i=null,r=null,s=null),{text:n(u.join("")),math:e}}(n);let s=await Ht.renderMarked(r.text);var o,u;o=s,u=r.math,s=o.replace(/@@(\d+)@@/g,((t,e)=>{let n=u[e];return"\\\\("===n.substr(0,3)&&"\\\\)"===n.substr(n.length-3)?n="\\("+n.substring(3,n.length-3)+"\\)":"\\\\["===n.substr(0,3)&&"\\\\]"===n.substr(n.length-3)&&(n="\\["+n.substring(3,n.length-3)+"\\]"),n})),await Vt(Object.assign({host:e,source:s},i)),Ht.headerAnchors(e)}({host:this.node,source:String(t.data[this.mimeType]),trusted:t.trusted,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter,translator:this.translator})}onAfterAttach(t){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)}}class Qt extends Gt{constructor(t){super(t),this.addClass("jp-RenderedSVG")}render(t){const e=t.metadata[this.mimeType];return function(t){let{host:e,source:n,trusted:i,unconfined:r}=t;if(!n)return e.textContent="",Promise.resolve(void 0);if(!i)return e.textContent="Cannot display an untrusted SVG. Maybe you need to run the cell?",Promise.resolve(void 0);n.search("<svg[^>]+xmlns=[^>]+svg")<0&&(n=n.replace("<svg",'<svg xmlns="http://www.w3.org/2000/svg"'));const s=new Image;return s.src=`data:image/svg+xml,${encodeURIComponent(n)}`,e.appendChild(s),!0===r&&e.classList.add("jp-mod-unconfined"),Promise.resolve()}({host:this.node,source:String(t.data[this.mimeType]),trusted:t.trusted,unconfined:e&&e.unconfined,translator:this.translator})}onAfterAttach(t){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)}}class te extends Gt{constructor(t){super(t),this.addClass("jp-RenderedText")}render(t){return Jt({host:this.node,sanitizer:this.sanitizer,source:String(t.data[this.mimeType]),translator:this.translator})}}class ee extends Gt{constructor(t){super(t),this.addClass("jp-RenderedJavaScript")}render(t){const e=this.translator.load("jupyterlab");return Jt({host:this.node,sanitizer:this.sanitizer,source:e.H("JavaScript output is disabled in JupyterLab"),translator:this.translator})}}const ne=[{safe:!0,mimeTypes:["text/html"],defaultRank:50,createRenderer:t=>new Zt(t)},{safe:!0,mimeTypes:["text/markdown"],defaultRank:60,createRenderer:t=>new Yt(t)},{safe:!0,mimeTypes:["text/latex"],defaultRank:70,createRenderer:t=>new Kt(t)},{safe:!1,mimeTypes:["image/svg+xml"],defaultRank:80,createRenderer:t=>new Qt(t)},{safe:!0,mimeTypes:["image/bmp","image/png","image/jpeg","image/gif"],defaultRank:90,createRenderer:t=>new Xt(t)},{safe:!1,mimeTypes:["text/javascript","application/javascript"],defaultRank:110,createRenderer:t=>new ee(t)},{safe:!0,mimeTypes:["text/plain","application/vnd.jupyter.stdout","application/vnd.jupyter.stderr"],defaultRank:120,createRenderer:t=>new te(t)}];class ie{constructor(t){this._initPromise=new F.PromiseDelegate,this._initialized=!1,this._url=t.url,this._config=t.config}typeset(t){this._initialized||this._init(),this._initPromise.promise.then((()=>{MathJax.Hub.Queue(["Typeset",MathJax.Hub,t]);try{MathJax.Hub.Queue(["Require",MathJax.Ajax,"[MathJax]/extensions/TeX/AMSmath.js"],(()=>{MathJax.InputJax.TeX.resetEquationNumbers()}))}catch(t){console.error("Error queueing resetEquationNumbers:",t)}}))}_init(){const t=document.getElementsByTagName("head")[0],e=document.createElement("script");e.type="text/javascript",e.src=`${this._url}?config=${this._config}&amp;delayStartupUntil=configured`,e.charset="utf-8",t.appendChild(e),e.addEventListener("load",(()=>{this._onLoad()})),this._initialized=!0}_onLoad(){MathJax.Hub.Config({tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0},displayAlign:"center",CommonHTML:{linebreaks:{automatic:!0}},"HTML-CSS":{availableFonts:[],imageFont:null,preferredFont:null,webFont:"STIX-Web",styles:{".MathJax_Display":{margin:0}},linebreaks:{automatic:!0}},skipStartupTypeset:!0,messageStyle:"none"}),MathJax.Hub.Configured(),this._initPromise.resolve(void 0)}}__webpack_require__(1249),__webpack_require__(4916),__webpack_require__(3123),__webpack_require__(5827),__webpack_require__(3210),__webpack_require__(5306),__webpack_require__(9720),__webpack_require__(8702),__webpack_require__(2479),__webpack_require__(6699);const re=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,se=Symbol(),oe=new Map;class ue{constructor(t,e){if(this._$cssResult$=!0,e!==se)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}get styleSheet(){let t=oe.get(this.cssText);return re&&void 0===t&&(oe.set(this.cssText,t=new CSSStyleSheet),t.replaceSync(this.cssText)),t}toString(){return this.cssText}}const ae=t=>new ue("string"==typeof t?t:t+"",se),he=re?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const n of t.cssRules)e+=n.cssText;return ae(e)})(t):t;var ce,le;const fe={toAttribute(t,e){switch(e){case Boolean:t=t?"":null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=null!==t;break;case Number:n=null===t?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch(t){n=null}}return n}},de=(t,e)=>e!==t&&(e==e||t==t),pe={attribute:!0,type:String,converter:fe,reflect:!1,hasChanged:de};class me extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(t){var e;null!==(e=this.l)&&void 0!==e||(this.l=[]),this.l.push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((e,n)=>{const i=this._$Eh(n,e);void 0!==i&&(this._$Eu.set(i,n),t.push(i))})),t}static createProperty(t,e=pe){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){const n="symbol"==typeof t?Symbol():"__"+t,i=this.getPropertyDescriptor(t,n,e);void 0!==i&&Object.defineProperty(this.prototype,t,i)}}static getPropertyDescriptor(t,e,n){return{get(){return this[e]},set(i){const r=this[t];this[e]=i,this.requestUpdate(t,r,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||pe}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){const t=this.properties,e=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const n of e)this.createProperty(n,t[n])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const n=new Set(t.flat(1/0).reverse());for(const t of n)e.unshift(he(t))}else void 0!==t&&e.push(he(t));return e}static _$Eh(t,e){const n=e.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof t?t.toLowerCase():void 0}o(){var t;this._$Ev=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Ep(),this.requestUpdate(),null===(t=this.constructor.l)||void 0===t||t.forEach((t=>t(this)))}addController(t){var e,n;(null!==(e=this._$Em)&&void 0!==e?e:this._$Em=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(n=t.hostConnected)||void 0===n||n.call(t))}removeController(t){var e;null===(e=this._$Em)||void 0===e||e.splice(this._$Em.indexOf(t)>>>0,1)}_$Ep(){this.constructor.elementProperties.forEach(((t,e)=>{this.hasOwnProperty(e)&&(this._$Et.set(e,this[e]),delete this[e])}))}createRenderRoot(){var t;const e=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return((t,e)=>{re?t.adoptedStyleSheets=e.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):e.forEach((e=>{const n=document.createElement("style"),i=window.litNonce;void 0!==i&&n.setAttribute("nonce",i),n.textContent=e.cssText,t.appendChild(n)}))})(e,this.constructor.elementStyles),e}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$Em)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostConnected)||void 0===e?void 0:e.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$Em)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostDisconnected)||void 0===e?void 0:e.call(t)}))}attributeChangedCallback(t,e,n){this._$AK(t,n)}_$Eg(t,e,n=pe){var i,r;const s=this.constructor._$Eh(t,n);if(void 0!==s&&!0===n.reflect){const o=(null!==(r=null===(i=n.converter)||void 0===i?void 0:i.toAttribute)&&void 0!==r?r:fe.toAttribute)(e,n.type);this._$Ei=t,null==o?this.removeAttribute(s):this.setAttribute(s,o),this._$Ei=null}}_$AK(t,e){var n,i,r;const s=this.constructor,o=s._$Eu.get(t);if(void 0!==o&&this._$Ei!==o){const t=s.getPropertyOptions(o),u=t.converter,a=null!==(r=null!==(i=null===(n=u)||void 0===n?void 0:n.fromAttribute)&&void 0!==i?i:"function"==typeof u?u:null)&&void 0!==r?r:fe.fromAttribute;this._$Ei=o,this[o]=a(e,t.type),this._$Ei=null}}requestUpdate(t,e,n){let i=!0;void 0!==t&&(((n=n||this.constructor.getPropertyOptions(t)).hasChanged||de)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),!0===n.reflect&&this._$Ei!==t&&(void 0===this._$ES&&(this._$ES=new Map),this._$ES.set(t,n))):i=!1),!this.isUpdatePending&&i&&(this._$Ev=this._$EC())}async _$EC(){this.isUpdatePending=!0;try{await this._$Ev}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Et&&(this._$Et.forEach(((t,e)=>this[e]=t)),this._$Et=void 0);let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),null===(t=this._$Em)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostUpdate)||void 0===e?void 0:e.call(t)})),this.update(n)):this._$ET()}catch(t){throw e=!1,this._$ET(),t}e&&this._$AE(n)}willUpdate(t){}_$AE(t){var e;null===(e=this._$Em)||void 0===e||e.forEach((t=>{var e;return null===(e=t.hostUpdated)||void 0===e?void 0:e.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$ET(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ev}shouldUpdate(t){return!0}update(t){void 0!==this._$ES&&(this._$ES.forEach(((t,e)=>this._$Eg(e,this[e],t))),this._$ES=void 0),this._$ET()}updated(t){}firstUpdated(t){}}var ve,ge;me.finalized=!0,me.elementProperties=new Map,me.elementStyles=[],me.shadowRootOptions={mode:"open"},null===(ce=globalThis.reactiveElementPolyfillSupport)||void 0===ce||ce.call(globalThis,{ReactiveElement:me}),(null!==(le=globalThis.reactiveElementVersions)&&void 0!==le?le:globalThis.reactiveElementVersions=[]).push("1.0.0");const be=globalThis.trustedTypes,we=be?be.createPolicy("lit-html",{createHTML:t=>t}):void 0,ye=`lit$${(Math.random()+"").slice(9)}$`,ke="?"+ye,De=`<${ke}>`,je=document,xe=(t="")=>je.createComment(t),_e=t=>null===t||"object"!=typeof t&&"function"!=typeof t,Me=Array.isArray,Ae=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Ce=/-->/g,Ee=/>/g,Oe=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,Se=/'/g,Te=/"/g,Re=/^(?:script|style|textarea)$/i,Fe=(t=>(e,...n)=>({_$litType$:t,strings:e,values:n}))(1),$e=Symbol.for("lit-noChange"),Be=Symbol.for("lit-nothing"),qe=new WeakMap,Le=je.createTreeWalker(je,129,null,!1);class Ie{constructor({strings:t,_$litType$:e},n){let i;this.parts=[];let r=0,s=0;const o=t.length-1,u=this.parts,[a,h]=((t,e)=>{const n=t.length-1,i=[];let r,s=2===e?"<svg>":"",o=Ae;for(let e=0;e<n;e++){const n=t[e];let u,a,h=-1,c=0;for(;c<n.length&&(o.lastIndex=c,a=o.exec(n),null!==a);)c=o.lastIndex,o===Ae?"!--"===a[1]?o=Ce:void 0!==a[1]?o=Ee:void 0!==a[2]?(Re.test(a[2])&&(r=RegExp("</"+a[2],"g")),o=Oe):void 0!==a[3]&&(o=Oe):o===Oe?">"===a[0]?(o=null!=r?r:Ae,h=-1):void 0===a[1]?h=-2:(h=o.lastIndex-a[2].length,u=a[1],o=void 0===a[3]?Oe:'"'===a[3]?Te:Se):o===Te||o===Se?o=Oe:o===Ce||o===Ee?o=Ae:(o=Oe,r=void 0);const l=o===Oe&&t[e+1].startsWith("/>")?" ":"";s+=o===Ae?n+De:h>=0?(i.push(u),n.slice(0,h)+"$lit$"+n.slice(h)+ye+l):n+ye+(-2===h?(i.push(void 0),e):l)}const u=s+(t[n]||"<?>")+(2===e?"</svg>":"");return[void 0!==we?we.createHTML(u):u,i]})(t,e);if(this.el=Ie.createElement(a,n),Le.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(i=Le.nextNode())&&u.length<o;){if(1===i.nodeType){if(i.hasAttributes()){const t=[];for(const e of i.getAttributeNames())if(e.endsWith("$lit$")||e.startsWith(ye)){const n=h[s++];if(t.push(e),void 0!==n){const t=i.getAttribute(n.toLowerCase()+"$lit$").split(ye),e=/([.?@])?(.*)/.exec(n);u.push({type:1,index:r,name:e[2],strings:t,ctor:"."===e[1]?He:"?"===e[1]?Ve:"@"===e[1]?Je:Ue})}else u.push({type:6,index:r})}for(const e of t)i.removeAttribute(e)}if(Re.test(i.tagName)){const t=i.textContent.split(ye),e=t.length-1;if(e>0){i.textContent=be?be.emptyScript:"";for(let n=0;n<e;n++)i.append(t[n],xe()),Le.nextNode(),u.push({type:2,index:++r});i.append(t[e],xe())}}}else if(8===i.nodeType)if(i.data===ke)u.push({type:2,index:r});else{let t=-1;for(;-1!==(t=i.data.indexOf(ye,t+1));)u.push({type:7,index:r}),t+=ye.length-1}r++}}static createElement(t,e){const n=je.createElement("template");return n.innerHTML=t,n}}function ze(t,e,n=t,i){var r,s,o,u;if(e===$e)return e;let a=void 0!==i?null===(r=n._$Cl)||void 0===r?void 0:r[i]:n._$Cu;const h=_e(e)?void 0:e._$litDirective$;return(null==a?void 0:a.constructor)!==h&&(null===(s=null==a?void 0:a._$AO)||void 0===s||s.call(a,!1),void 0===h?a=void 0:(a=new h(t),a._$AT(t,n,i)),void 0!==i?(null!==(o=(u=n)._$Cl)&&void 0!==o?o:u._$Cl=[])[i]=a:n._$Cu=a),void 0!==a&&(e=ze(t,a._$AS(t,e.values),a,i)),e}class Ne{constructor(t,e){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(t){var e;const{el:{content:n},parts:i}=this._$AD,r=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:je).importNode(n,!0);Le.currentNode=r;let s=Le.nextNode(),o=0,u=0,a=i[0];for(;void 0!==a;){if(o===a.index){let e;2===a.type?e=new Pe(s,s.nextSibling,this,t):1===a.type?e=new a.ctor(s,a.name,a.strings,this,t):6===a.type&&(e=new Ge(s,this,t)),this.v.push(e),a=i[++u]}o!==(null==a?void 0:a.index)&&(s=Le.nextNode(),o++)}return r}m(t){let e=0;for(const n of this.v)void 0!==n&&(void 0!==n.strings?(n._$AI(t,n,e),e+=n.strings.length-2):n._$AI(t[e])),e++}}class Pe{constructor(t,e,n,i){var r;this.type=2,this._$AH=Be,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=i,this._$Cg=null===(r=null==i?void 0:i.isConnected)||void 0===r||r}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cg}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=ze(this,t,e),_e(t)?t===Be||null==t||""===t?(this._$AH!==Be&&this._$AR(),this._$AH=Be):t!==this._$AH&&t!==$e&&this.$(t):void 0!==t._$litType$?this.T(t):void 0!==t.nodeType?this.S(t):(t=>{var e;return Me(t)||"function"==typeof(null===(e=t)||void 0===e?void 0:e[Symbol.iterator])})(t)?this.M(t):this.$(t)}A(t,e=this._$AB){return this._$AA.parentNode.insertBefore(t,e)}S(t){this._$AH!==t&&(this._$AR(),this._$AH=this.A(t))}$(t){this._$AH!==Be&&_e(this._$AH)?this._$AA.nextSibling.data=t:this.S(je.createTextNode(t)),this._$AH=t}T(t){var e;const{values:n,_$litType$:i}=t,r="number"==typeof i?this._$AC(t):(void 0===i.el&&(i.el=Ie.createElement(i.h,this.options)),i);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===r)this._$AH.m(n);else{const t=new Ne(r,this),e=t.p(this.options);t.m(n),this.S(e),this._$AH=t}}_$AC(t){let e=qe.get(t.strings);return void 0===e&&qe.set(t.strings,e=new Ie(t)),e}M(t){Me(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let n,i=0;for(const r of t)i===e.length?e.push(n=new Pe(this.A(xe()),this.A(xe()),this,this.options)):n=e[i],n._$AI(r),i++;i<e.length&&(this._$AR(n&&n._$AB.nextSibling,i),e.length=i)}_$AR(t=this._$AA.nextSibling,e){var n;for(null===(n=this._$AP)||void 0===n||n.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$Cg=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}class Ue{constructor(t,e,n,i,r){this.type=1,this._$AH=Be,this._$AN=void 0,this.element=t,this.name=e,this._$AM=i,this.options=r,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Be}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,n,i){const r=this.strings;let s=!1;if(void 0===r)t=ze(this,t,e,0),s=!_e(t)||t!==this._$AH&&t!==$e,s&&(this._$AH=t);else{const i=t;let o,u;for(t=r[0],o=0;o<r.length-1;o++)u=ze(this,i[n+o],e,o),u===$e&&(u=this._$AH[o]),s||(s=!_e(u)||u!==this._$AH[o]),u===Be?t=Be:t!==Be&&(t+=(null!=u?u:"")+r[o+1]),this._$AH[o]=u}s&&!i&&this.k(t)}k(t){t===Be?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class He extends Ue{constructor(){super(...arguments),this.type=3}k(t){this.element[this.name]=t===Be?void 0:t}}class Ve extends Ue{constructor(){super(...arguments),this.type=4}k(t){t&&t!==Be?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)}}class Je extends Ue{constructor(t,e,n,i,r){super(t,e,n,i,r),this.type=5}_$AI(t,e=this){var n;if((t=null!==(n=ze(this,t,e,0))&&void 0!==n?n:Be)===$e)return;const i=this._$AH,r=t===Be&&i!==Be||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,s=t!==Be&&(i===Be||r);r&&this.element.removeEventListener(this.name,this,i),s&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,n;"function"==typeof this._$AH?this._$AH.call(null!==(n=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==n?n:this.element,t):this._$AH.handleEvent(t)}}class Ge{constructor(t,e,n){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(t){ze(this,t)}}var We,Ze,Ke;null===(ve=globalThis.litHtmlPolyfillSupport)||void 0===ve||ve.call(globalThis,Ie,Pe),(null!==(ge=globalThis.litHtmlVersions)&&void 0!==ge?ge:globalThis.litHtmlVersions=[]).push("2.0.0");class Xe extends me{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var t,e;const n=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=n.firstChild),n}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Dt=((t,e,n)=>{var i,r;const s=null!==(i=null==n?void 0:n.renderBefore)&&void 0!==i?i:e;let o=s._$litPart$;if(void 0===o){const t=null!==(r=null==n?void 0:n.renderBefore)&&void 0!==r?r:null;s._$litPart$=o=new Pe(e.insertBefore(xe(),t),t,void 0,null!=n?n:{})}return o._$AI(t),o})(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!1)}render(){return $e}}Xe.finalized=!0,Xe._$litElement$=!0,null===(We=globalThis.litElementHydrateSupport)||void 0===We||We.call(globalThis,{LitElement:Xe}),null===(Ze=globalThis.litElementPolyfillSupport)||void 0===Ze||Ze.call(globalThis,{LitElement:Xe}),(null!==(Ke=globalThis.litElementVersions)&&void 0!==Ke?Ke:globalThis.litElementVersions=[]).push("3.0.0");class Ye extends class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,n){this._$Ct=t,this._$AM=e,this._$Ci=n}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}{constructor(t){if(super(t),this.it=Be,2!==t.type)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(t){if(t===Be||null==t)return this.vt=void 0,this.it=t;if(t===$e)return t;if("string"!=typeof t)throw Error(this.constructor.directiveName+"() called with a non-string value");if(t===this.it)return this.vt;this.it=t;const e=[t];return e.raw=e,this.vt={_$litType$:this.constructor.resultType,strings:e,values:[]}}}Ye.directiveName="unsafeHTML",Ye.resultType=1;const Qe=(tn=Ye,(...t)=>({_$litDirective$:tn,values:t}));var tn;class en extends CustomEvent{constructor(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.bubbles=!0,n.composed=!0,n.detail=e,super(t,n)}}let nn="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((t=>t?parseInt(t,36):1));for(let t=1;t<nn.length;t++)nn[t]+=nn[t-1];function rn(t){for(let e=1;e<nn.length;e+=2)if(nn[e]>t)return nn[e-1]<=t;return!1}function sn(t){return t>=127462&&t<=127487}function on(t,e,n=!0){return(n?un:an)(t,e)}function un(t,e){if(e==t.length)return e;e&&hn(t.charCodeAt(e))&&cn(t.charCodeAt(e-1))&&e--;let n=ln(t,e);for(e+=dn(n);e<t.length;){let i=ln(t,e);if(8205==n||8205==i||rn(i))e+=dn(i),n=i;else{if(!sn(i))break;{let n=0,i=e-2;for(;i>=0&&sn(ln(t,i));)n++,i-=2;if(n%2==0)break;e+=2}}}return e}function an(t,e){for(;e>0;){let n=un(t,e-2);if(n<e)return n;e--}return 0}function hn(t){return t>=56320&&t<57344}function cn(t){return t>=55296&&t<56320}function ln(t,e){let n=t.charCodeAt(e);if(!cn(n)||e+1==t.length)return n;let i=t.charCodeAt(e+1);return hn(i)?i-56320+(n-55296<<10)+65536:n}function fn(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}function dn(t){return t<65536?1:2}function pn(t,e,n=t.length){let i=0;for(let r=0;r<n;)9==t.charCodeAt(r)?(i+=e-i%e,r++):(i++,r=on(t,r));return i}function mn(t,e,n){for(let i=0,r=0;i<t.length;){if(r>=e)return i;r+=9==t.charCodeAt(i)?n-r%n:1,i=on(t,i)}return t.length}class vn{constructor(){}lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,n){let i=[];return this.decompose(0,t,i,2),n.length&&n.decompose(0,n.length,i,3),this.decompose(e,this.length,i,1),bn.from(i,this.length-(e-t)+n.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){let n=[];return this.decompose(t,e,n,0),bn.from(n,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=new kn(this),n=new kn(t);for(;;){if(e.next(),n.next(),e.lineBreak!=n.lineBreak||e.done!=n.done||e.value!=n.value)return!1;if(e.done)return!0}}iter(t=1){return new kn(this,t)}iterRange(t,e=this.length){return new Dn(this,t,e)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}static of(t){if(0==t.length)throw new RangeError("A document must have at least one line");return 1!=t.length||t[0]?t.length<=32?new gn(t):bn.from(gn.split(t,[])):vn.empty}}"undefined"!=typeof Symbol&&(vn.prototype[Symbol.iterator]=function(){return this.iter()});class gn extends vn{constructor(t,e=function(t){let e=-1;for(let n of t)e+=n.length+1;return e}(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,n,i){for(let r=0;;r++){let s=this.text[r],o=i+s.length;if((e?n:o)>=t)return new jn(i,o,n,s);i=o+1,n++}}decompose(t,e,n,i){let r=t<=0&&e>=this.length?this:new gn(yn(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(1&i){let t=n.pop(),e=wn(r.text,t.text.slice(),0,r.length);if(e.length<=32)n.push(new gn(e,t.length+r.length));else{let t=e.length>>1;n.push(new gn(e.slice(0,t)),new gn(e.slice(t)))}}else n.push(r)}replace(t,e,n){if(!(n instanceof gn))return super.replace(t,e,n);let i=wn(this.text,wn(n.text,yn(this.text,0,t)),e),r=this.length+n.length-(e-t);return i.length<=32?new gn(i,r):bn.from(gn.split(i,[]),r)}sliceString(t,e=this.length,n="\n"){let i="";for(let r=0,s=0;r<=e&&s<this.text.length;s++){let o=this.text[s],u=r+o.length;r>t&&s&&(i+=n),t<u&&e>r&&(i+=o.slice(Math.max(0,t-r),e-r)),r=u+1}return i}flatten(t){for(let e of this.text)t.push(e)}static split(t,e){let n=[],i=-1;for(let r of t)n.push(r),i+=r.length+1,32==n.length&&(e.push(new gn(n,i)),n=[],i=-1);return i>-1&&e.push(new gn(n,i)),e}}class bn extends vn{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let e of t)this.lines+=e.lines}lineInner(t,e,n,i){for(let r=0;;r++){let s=this.children[r],o=i+s.length,u=n+s.lines-1;if((e?u:o)>=t)return s.lineInner(t,e,n,i);i=o+1,n=u+1}}decompose(t,e,n,i){for(let r=0,s=0;s<=e&&r<this.children.length;r++){let o=this.children[r],u=s+o.length;if(t<=u&&e>=s){let r=i&((s<=t?1:0)|(u>=e?2:0));s>=t&&u<=e&&!r?n.push(o):o.decompose(t-s,e-s,n,r)}s=u+1}}replace(t,e,n){if(n.lines<this.lines)for(let i=0,r=0;i<this.children.length;i++){let s=this.children[i],o=r+s.length;if(t>=r&&e<=o){let u=s.replace(t-r,e-r,n),a=this.lines-s.lines+u.lines;if(u.lines<a>>4&&u.lines>a>>6){let r=this.children.slice();return r[i]=u,new bn(r,this.length-(e-t)+n.length)}return super.replace(r,o,u)}r=o+1}return super.replace(t,e,n)}sliceString(t,e=this.length,n="\n"){let i="";for(let r=0,s=0;r<this.children.length&&s<=e;r++){let o=this.children[r],u=s+o.length;s>t&&r&&(i+=n),t<u&&e>s&&(i+=o.sliceString(t-s,e-s,n)),s=u+1}return i}flatten(t){for(let e of this.children)e.flatten(t)}static from(t,e=t.reduce(((t,e)=>t+e.length+1),-1)){let n=0;for(let e of t)n+=e.lines;if(n<32){let n=[];for(let e of t)e.flatten(n);return new gn(n,e)}let i=Math.max(32,n>>5),r=i<<1,s=i>>1,o=[],u=0,a=-1,h=[];function c(t){let e;if(t.lines>r&&t instanceof bn)for(let e of t.children)c(e);else t.lines>s&&(u>s||!u)?(l(),o.push(t)):t instanceof gn&&u&&(e=h[h.length-1])instanceof gn&&t.lines+e.lines<=32?(u+=t.lines,a+=t.length+1,h[h.length-1]=new gn(e.text.concat(t.text),e.length+1+t.length)):(u+t.lines>i&&l(),u+=t.lines,a+=t.length+1,h.push(t))}function l(){0!=u&&(o.push(1==h.length?h[0]:bn.from(h,a)),a=-1,u=h.length=0)}for(let e of t)c(e);return l(),1==o.length?o[0]:new bn(o,e)}}function wn(t,e,n=0,i=1e9){for(let r=0,s=0,o=!0;s<t.length&&r<=i;s++){let u=t[s],a=r+u.length;a>=n&&(a>i&&(u=u.slice(0,i-r)),r<n&&(u=u.slice(n-r)),o?(e[e.length-1]+=u,o=!1):e.push(u)),r=a+1}return e}function yn(t,e,n){return wn(t,[""],e,n)}vn.empty=new gn([""],0);class kn{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof gn?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,i=this.nodes[n],r=this.offsets[n],s=r>>1,o=i instanceof gn?i.text.length:i.children.length;if(s==(e>0?o:0)){if(0==n)return this.done=!0,this.value="",this;e>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&r)==(e>0?0:1)){if(this.offsets[n]+=e,0==t)return this.lineBreak=!0,this.value="\n",this;t--}else if(i instanceof gn){let r=i.text[s+(e<0?-1:0)];if(this.offsets[n]+=e,r.length>Math.max(0,t))return this.value=0==t?r:e>0?r.slice(t):r.slice(0,r.length-t),this;t-=r.length}else{let r=i.children[s+(e<0?-1:0)];t>r.length?(t-=r.length,this.offsets[n]+=e):(e<0&&this.offsets[n]--,this.nodes.push(r),this.offsets.push(e>0?1:(r instanceof gn?r.text.length:r.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class Dn{constructor(t,e,n){this.value="",this.done=!1,this.cursor=new kn(t,e>n?-1:1),this.pos=e>n?t.length:0,this.from=Math.min(e,n),this.to=Math.max(e,n)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;this.done=!1,t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let n=e<0?this.pos-this.from:this.to-this.pos;t>n&&(t=n),n-=t;let{value:i}=this.cursor.next(t);return this.pos+=(i.length+t)*e,this.value=i.length<=n?i:e<0?i.slice(i.length-n):i.slice(0,n),this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class jn{constructor(t,e,n,i){this.from=t,this.to=e,this.number=n,this.text=i}get length(){return this.to-this.from}}const xn=/\r\n?|\n/;var _n=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(_n||(_n={}));class Mn{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e+1];t+=n<0?this.sections[e]:n}return t}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(t){for(let e=0,n=0,i=0;e<this.sections.length;){let r=this.sections[e++],s=this.sections[e++];s<0?(t(n,i,r),i+=r):i+=s,n+=r}}iterChangedRanges(t,e=!1){On(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let n=this.sections[e++],i=this.sections[e++];i<0?t.push(n,i):t.push(i,n)}return new Mn(t)}composeDesc(t){return this.empty?t:t.empty?this:Tn(this,t)}mapDesc(t,e=!1){return t.empty?this:Sn(this,t,e)}mapPos(t,e=-1,n=_n.Simple){let i=0,r=0;for(let s=0;s<this.sections.length;){let o=this.sections[s++],u=this.sections[s++],a=i+o;if(u<0){if(a>t)return r+(t-i);r+=o}else{if(n!=_n.Simple&&a>=t&&(n==_n.TrackDel&&i<t&&a>t||n==_n.TrackBefore&&i<t||n==_n.TrackAfter&&a>t))return null;if(a>t||a==t&&e<0&&!o)return t==i||e<0?r:r+u;r+=u}i=a}if(t>i)throw new RangeError(`Position ${t} is out of range for changeset of length ${i}`);return r}touchesRange(t,e=t){for(let n=0,i=0;n<this.sections.length&&i<=e;){let r=i+this.sections[n++];if(this.sections[n++]>=0&&i<=e&&r>=t)return!(i<t&&r>e)||"cover";i=r}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let n=this.sections[e++],i=this.sections[e++];t+=(t?" ":"")+n+(i>=0?":"+i:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some((t=>"number"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Mn(t)}}class An extends Mn{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return On(this,((e,n,i,r,s)=>t=t.replace(i,i+(n-e),s)),!1),t}mapDesc(t,e=!1){return Sn(this,t,e,!0)}invert(t){let e=this.sections.slice(),n=[];for(let i=0,r=0;i<e.length;i+=2){let s=e[i],o=e[i+1];if(o>=0){e[i]=o,e[i+1]=s;let u=i>>1;for(;n.length<u;)n.push(vn.empty);n.push(s?t.slice(r,r+s):vn.empty)}r+=s}return new An(e,n)}compose(t){return this.empty?t:t.empty?this:Tn(this,t,!0)}map(t,e=!1){return t.empty?this:Sn(this,t,e,!0)}iterChanges(t,e=!1){On(this,t,e)}get desc(){return new Mn(this.sections)}filter(t){let e=[],n=[],i=[],r=new Rn(this);t:for(let s=0,o=0;;){let u=s==t.length?1e9:t[s++];for(;o<u||o==u&&0==r.len;){if(r.done)break t;let t=Math.min(r.len,u-o);Cn(i,t,-1);let s=-1==r.ins?-1:0==r.off?r.ins:0;Cn(e,t,s),s>0&&En(n,e,r.text),r.forward(t),o+=t}let a=t[s++];for(;o<a;){if(r.done)break t;let t=Math.min(r.len,a-o);Cn(e,t,-1),Cn(i,t,-1==r.ins?-1:0==r.off?r.ins:0),r.forward(t),o+=t}}return{changes:new An(e,n),filtered:new Mn(i)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e],i=this.sections[e+1];i<0?t.push(n):0==i?t.push([n]):t.push([n].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,n){let i=[],r=[],s=0,o=null;function u(t=!1){if(!t&&!i.length)return;s<e&&Cn(i,e-s,-1);let n=new An(i,r);o=o?o.compose(n.map(o)):n,i=[],r=[],s=0}return function t(a){if(Array.isArray(a))for(let e of a)t(e);else if(a instanceof An){if(a.length!=e)throw new RangeError(`Mismatched change set length (got ${a.length}, expected ${e})`);u(),o=o?o.compose(a.map(o)):a}else{let{from:t,to:o=t,insert:h}=a;if(t>o||t<0||o>e)throw new RangeError(`Invalid change range ${t} to ${o} (in doc of length ${e})`);let c=h?"string"==typeof h?vn.of(h.split(n||xn)):h:vn.empty,l=c.length;if(t==o&&0==l)return;t<s&&u(),t>s&&Cn(i,t-s,-1),Cn(i,o-t,l),En(r,i,c),s=o}}(t),u(!o),o}static empty(t){return new An(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],n=[];for(let i=0;i<t.length;i++){let r=t[i];if("number"==typeof r)e.push(r,-1);else{if(!Array.isArray(r)||"number"!=typeof r[0]||r.some(((t,e)=>e&&"string"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==r.length)e.push(r[0],0);else{for(;n.length<i;)n.push(vn.empty);n[i]=vn.of(r.slice(1)),e.push(r[0],n[i].length)}}}return new An(e,n)}}function Cn(t,e,n,i=!1){if(0==e&&n<=0)return;let r=t.length-2;r>=0&&n<=0&&n==t[r+1]?t[r]+=e:0==e&&0==t[r]?t[r+1]+=n:i?(t[r]+=e,t[r+1]+=n):t.push(e,n)}function En(t,e,n){if(0==n.length)return;let i=e.length-2>>1;if(i<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<i;)t.push(vn.empty);t.push(n)}}function On(t,e,n){let i=t.inserted;for(let r=0,s=0,o=0;o<t.sections.length;){let u=t.sections[o++],a=t.sections[o++];if(a<0)r+=u,s+=u;else{let h=r,c=s,l=vn.empty;for(;h+=u,c+=a,a&&i&&(l=l.append(i[o-2>>1])),!(n||o==t.sections.length||t.sections[o+1]<0);)u=t.sections[o++],a=t.sections[o++];e(r,h,s,c,l),r=h,s=c}}}function Sn(t,e,n,i=!1){let r=[],s=i?[]:null,o=new Rn(t),u=new Rn(e);for(let t=0,e=0;;)if(-1==o.ins)t+=o.len,o.next();else if(-1==u.ins&&e<t){let n=Math.min(u.len,t-e);u.forward(n),Cn(r,n,-1),e+=n}else if(u.ins>=0&&(o.done||e<t||e==t&&(u.len<o.len||u.len==o.len&&!n))){for(Cn(r,u.ins,-1);t>e&&!o.done&&t+o.len<e+u.len;)t+=o.len,o.next();e+=u.len,u.next()}else{if(!(o.ins>=0)){if(o.done&&u.done)return s?new An(r,s):new Mn(r);throw new Error("Mismatched change set lengths")}{let n=0,i=t+o.len;for(;;)if(u.ins>=0&&e>t&&e+u.len<i)n+=u.ins,e+=u.len,u.next();else{if(!(-1==u.ins&&e<i))break;{let t=Math.min(u.len,i-e);n+=t,u.forward(t),e+=t}}Cn(r,n,o.ins),s&&En(s,r,o.text),t=i,o.next()}}}function Tn(t,e,n=!1){let i=[],r=n?[]:null,s=new Rn(t),o=new Rn(e);for(let t=!1;;){if(s.done&&o.done)return r?new An(i,r):new Mn(i);if(0==s.ins)Cn(i,s.len,0,t),s.next();else if(0!=o.len||o.done){if(s.done||o.done)throw new Error("Mismatched change set lengths");{let e=Math.min(s.len2,o.len),n=i.length;if(-1==s.ins){let n=-1==o.ins?-1:o.off?0:o.ins;Cn(i,e,n,t),r&&n&&En(r,i,o.text)}else-1==o.ins?(Cn(i,s.off?0:s.len,e,t),r&&En(r,i,s.textBit(e))):(Cn(i,s.off?0:s.len,o.off?0:o.ins,t),r&&!o.off&&En(r,i,o.text));t=(s.ins>e||o.ins>=0&&o.len>e)&&(t||i.length>n),s.forward2(e),o.forward(e)}}else Cn(i,0,o.ins,t),r&&En(r,i,o.text),o.next()}}class Rn{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?vn.empty:t[e]}textBit(t){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length&&!t?vn.empty:e[n].slice(this.off,null==t?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){-1==this.ins?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class Fn{constructor(t,e,n){this.from=t,this.to=e,this.flags=n}get anchor(){return 16&this.flags?this.to:this.from}get head(){return 16&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 4&this.flags?-1:8&this.flags?1:0}get bidiLevel(){let t=3&this.flags;return 3==t?null:t}get goalColumn(){let t=this.flags>>5;return 33554431==t?void 0:t}map(t,e=-1){let n=t.mapPos(this.from,e),i=t.mapPos(this.to,e);return n==this.from&&i==this.to?this:new Fn(n,i,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return $n.range(t,e);let n=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return $n.range(this.anchor,n)}eq(t){return this.anchor==t.anchor&&this.head==t.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||"number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid JSON representation for SelectionRange");return $n.range(t.anchor,t.head)}}class $n{constructor(t,e=0){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:$n.create(this.ranges.map((n=>n.map(t,e))),this.mainIndex)}eq(t){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let e=0;e<this.ranges.length;e++)if(!this.ranges[e].eq(t.ranges[e]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new $n([this.main])}addRange(t,e=!0){return $n.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let n=this.ranges.slice();return n[e]=t,$n.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((t=>t.toJSON())),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.main||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new $n(t.ranges.map((t=>Fn.fromJSON(t))),t.main)}static single(t,e=t){return new $n([$n.range(t,e)],0)}static create(t,e=0){if(0==t.length)throw new RangeError("A selection needs at least one range");for(let n=0,i=0;i<t.length;i++){let r=t[i];if(r.empty?r.from<=n:r.from<n)return Bn(t.slice(),e);n=r.to}return new $n(t,e)}static cursor(t,e=0,n,i){return new Fn(t,t,(0==e?0:e<0?4:8)|(null==n?3:Math.min(2,n))|(null!=i?i:33554431)<<5)}static range(t,e,n){let i=(null!=n?n:33554431)<<5;return e<t?new Fn(e,t,16|i):new Fn(t,e,i)}}function Bn(t,e=0){let n=t[e];t.sort(((t,e)=>t.from-e.from)),e=t.indexOf(n);for(let n=1;n<t.length;n++){let i=t[n],r=t[n-1];if(i.empty?i.from<=r.to:i.from<r.to){let s=r.from,o=Math.max(i.to,r.to);n<=e&&e--,t.splice(--n,2,i.anchor>i.head?$n.range(o,s):$n.range(s,o))}}return new $n(t,e)}function qn(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let Ln=0;class In{constructor(t,e,n,i,r){this.combine=t,this.compareInput=e,this.compare=n,this.isStatic=i,this.extensions=r,this.id=Ln++,this.default=t([])}static define(t={}){return new In(t.combine||(t=>t),t.compareInput||((t,e)=>t===e),t.compare||(t.combine?(t,e)=>t===e:zn),!!t.static,t.enables)}of(t){return new Nn([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new Nn(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new Nn(t,this,2,e)}from(t,e){return e||(e=t=>t),this.compute([t],(n=>e(n.field(t))))}}function zn(t,e){return t==e||t.length==e.length&&t.every(((t,n)=>t===e[n]))}class Nn{constructor(t,e,n,i){this.dependencies=t,this.facet=e,this.type=n,this.value=i,this.id=Ln++}dynamicSlot(t){var e;let n=this.value,i=this.facet.compareInput,r=t[this.id]>>1,s=2==this.type,o=!1,u=!1,a=[];for(let n of this.dependencies)"doc"==n?o=!0:"selection"==n?u=!0:0==(1&(null!==(e=t[n.id])&&void 0!==e?e:1))&&a.push(t[n.id]);return(t,e)=>{if(!e||e.reconfigured)return t.values[r]=n(t),1;{if(!(o&&e.docChanged||u&&(e.docChanged||e.selection)||a.some((e=>(1&Yn(t,e))>0))))return 0;let h=n(t),c=e.startState.values[r];return(s?function(t,e,n){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!n(t[i],e[i]))return!1;return!0}(h,c,i):i(h,c))?0:(t.values[r]=h,1)}}}}function Pn(t,e,n){let i=n.map((e=>t[e.id])),r=n.map((t=>t.type)),s=i.filter((t=>!(1&t))),o=t[e.id]>>1;return(t,n)=>{let u=n?n.reconfigured?n.startState.config.address[e.id]:o<<1:null,a=null==u;for(let e of s)1&Yn(t,e)&&(a=!0);if(!a)return 0;let h=[];for(let e=0;e<i.length;e++){let n=Qn(t,i[e]);if(2==r[e])for(let t of n)h.push(t);else h.push(n)}let c=e.combine(h);return null!=u&&e.compare(c,Qn(n.startState,u))?0:(t.values[o]=c,1)}}function Un(t,e){let n=t.config.address[e];return null==n?null:n>>1}const Hn=In.define({static:!0});class Vn{constructor(t,e,n,i,r){this.id=t,this.createF=e,this.updateF=n,this.compareF=i,this.spec=r,this.provides=void 0}static define(t){let e=new Vn(Ln++,t.create,t.update,t.compare||((t,e)=>t===e),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(Hn).find((t=>t.field==this));return((null==e?void 0:e.create)||this.createF)(t)}slot(t){let e=t[this.id]>>1;return(t,n)=>{if(!n||n.reconfigured&&null==Un(n.startState,this.id))return t.values[e]=this.create(t),1;let i,r=0;n.reconfigured?(i=n.startState.values[Un(n.startState,this.id)],r=1):i=n.startState.values[e];let s=this.updateF(i,n);return r||this.compareF(i,s)||(r=1),r&&(t.values[e]=s),r}}init(t){return[this,Hn.of({field:this,create:t})]}get extension(){return this}}function Jn(t){return e=>new Wn(e,t)}const Gn={fallback:Jn(3),default:Jn(2),extend:Jn(1),override:Jn(0)};class Wn{constructor(t,e){this.inner=t,this.prec=e}}class Zn{of(t){return new Kn(this,t)}reconfigure(t){return Zn.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class Kn{constructor(t,e){this.compartment=t,this.inner=e}}class Xn{constructor(t,e,n,i,r){for(this.base=t,this.compartments=e,this.dynamicSlots=n,this.address=i,this.staticValues=r,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return null==e?t.default:this.staticValues[e>>1]}static resolve(t,e,n){let i=[],r=Object.create(null),s=new Map;for(let n of function(t,e,n){let i=[[],[],[],[]],r=new Map;return function t(s,o){let u=r.get(s);if(null!=u){if(u>=o)return;let t=i[u].indexOf(s);t>-1&&i[u].splice(t,1),s instanceof Kn&&n.delete(s.compartment)}if(r.set(s,o),Array.isArray(s))for(let e of s)t(e,o);else if(s instanceof Kn){if(n.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let i=e.get(s.compartment)||s.inner;n.set(s.compartment,i),t(i,o)}else if(s instanceof Wn)t(s.inner,s.prec);else if(s instanceof Vn)i[o].push(s),s.provides&&t(s.provides,o);else if(s instanceof Nn)i[o].push(s),s.facet.extensions&&t(s.facet.extensions,o);else{let e=s.extension;if(!e)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);t(e,o)}}(t,2),i.reduce(((t,e)=>t.concat(e)))}(t,e,s))n instanceof Vn?i.push(n):(r[n.facet.id]||(r[n.facet.id]=[])).push(n);let o=Object.create(null),u=[],a=[];for(let t of i)o[t.id]=a.length<<1,a.push((e=>t.slot(e)));for(let t in r){let e=r[t],i=e[0].facet;if(e.every((t=>0==t.type))){o[i.id]=u.length<<1|1;let t=i.combine(e.map((t=>t.value))),r=n?n.config.address[i.id]:null;if(null!=r){let e=Qn(n,r);i.compare(t,e)&&(t=e)}u.push(t)}else{for(let t of e)0==t.type?(o[t.id]=u.length<<1|1,u.push(t.value)):(o[t.id]=a.length<<1,a.push((e=>t.dynamicSlot(e))));o[i.id]=a.length<<1,a.push((t=>Pn(t,i,e)))}}return new Xn(t,s,a.map((t=>t(o))),o,u)}}function Yn(t,e){if(1&e)return 2;let n=e>>1,i=t.status[n];if(4==i)throw new Error("Cyclic dependency between fields and/or facets");if(2&i)return i;t.status[n]=4;let r=t.config.dynamicSlots[n](t,t.applying);return t.status[n]=2|r}function Qn(t,e){return 1&e?t.config.staticValues[e>>1]:t.values[e>>1]}const ti=In.define(),ei=In.define({combine:t=>t.some((t=>t)),static:!0}),ni=In.define({combine:t=>t.length?t[0]:void 0,static:!0}),ii=In.define(),ri=In.define(),si=In.define();class oi{constructor(t,e){this.type=t,this.value=e}static define(){return new ui}}class ui{of(t){return new oi(this,t)}}class ai{constructor(t){this.map=t}of(t){return new hi(this,t)}}class hi{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return void 0===e?void 0:e==this.value?this:new hi(this.type,e)}is(t){return this.type==t}static define(t={}){return new ai(t.map||(t=>t))}static mapEffects(t,e){if(!t.length)return t;let n=[];for(let i of t){let t=i.map(e);t&&n.push(t)}return n}}hi.reconfigure=hi.define(),hi.appendConfig=hi.define();class ci{constructor(t,e,n,i,r,s){this.startState=t,this.changes=e,this.selection=n,this.effects=i,this.annotations=r,this.scrollIntoView=s,this._doc=null,this._state=null,n&&qn(n,e.newLength),r.some((t=>t.type==ci.time))||(this.annotations=r.concat(ci.time.of(Date.now())))}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(ci.userEvent);return e&&(e==t||e.length>t.length&&e.slice(0,t.length)==t&&"."==e[t.length])}}function li(t,e){let n=[];for(let i=0,r=0;;){let s,o;if(i<t.length&&(r==e.length||e[r]>=t[i]))s=t[i++],o=t[i++];else{if(!(r<e.length))return n;s=e[r++],o=e[r++]}!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function fi(t,e,n){var i;let r,s,o;return n?(r=e.changes,s=An.empty(e.changes.length),o=t.changes.compose(e.changes)):(r=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(r)),{changes:o,selection:e.selection?e.selection.map(s):null===(i=t.selection)||void 0===i?void 0:i.map(r),effects:hi.mapEffects(t.effects,r).concat(hi.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function di(t,e,n){let i=e.selection,r=vi(e.annotations);return e.userEvent&&(r=r.concat(ci.userEvent.of(e.userEvent))),{changes:e.changes instanceof An?e.changes:An.of(e.changes||[],n,t.facet(ni)),selection:i&&(i instanceof $n?i:$n.single(i.anchor,i.head)),effects:vi(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function pi(t,e,n){let i=di(t,e.length?e[0]:{},t.doc.length);e.length&&!1===e[0].filter&&(n=!1);for(let r=1;r<e.length;r++){!1===e[r].filter&&(n=!1);let s=!!e[r].sequential;i=fi(i,di(t,e[r],s?i.changes.newLength:t.doc.length),s)}let r=new ci(t,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return function(t){let e=t.startState,n=e.facet(si),i=t;for(let r=n.length-1;r>=0;r--){let s=n[r](t);s&&Object.keys(s).length&&(i=fi(t,di(e,s,t.changes.newLength),!0))}return i==t?t:new ci(e,t.changes,t.selection,i.effects,i.annotations,i.scrollIntoView)}(n?function(t){let e=t.startState,n=!0;for(let i of e.facet(ii)){let e=i(t);if(!1===e){n=!1;break}Array.isArray(e)&&(n=!0===n?e:li(n,e))}if(!0!==n){let i,r;if(!1===n)r=t.changes.invertedDesc,i=An.empty(e.doc.length);else{let e=t.changes.filter(n);i=e.changes,r=e.filtered.invertedDesc}t=new ci(e,i,t.selection&&t.selection.map(r),hi.mapEffects(t.effects,r),t.annotations,t.scrollIntoView)}let i=e.facet(ri);for(let n=i.length-1;n>=0;n--){let r=i[n](t);t=r instanceof ci?r:Array.isArray(r)&&1==r.length&&r[0]instanceof ci?r[0]:pi(e,vi(r),!1)}return t}(r):r)}ci.time=oi.define(),ci.userEvent=oi.define(),ci.addToHistory=oi.define(),ci.remote=oi.define();const mi=[];function vi(t){return null==t?mi:Array.isArray(t)?t:[t]}var gi=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(gi||(gi={}));const bi=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let wi;try{wi=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(Oe){}class yi{constructor(t,e,n,i=null){if(this.config=t,this.doc=e,this.selection=n,this.applying=null,this.status=t.statusTemplate.slice(),i&&i.startState.config==t)this.values=i.startState.values.slice();else if(this.values=t.dynamicSlots.map((t=>null)),i)for(let e in t.address){let n=t.address[e],r=i.startState.config.address[e];null!=r&&0==(1&n)&&(this.values[n>>1]=Qn(i.startState,r))}this.applying=i,i&&(i._state=this);for(let t=0;t<this.config.dynamicSlots.length;t++)Yn(this,t<<1);this.applying=null}field(t,e=!0){let n=this.config.address[t.id];if(null!=n)return Yn(this,n),Qn(this,n);if(e)throw new RangeError("Field is not present in this state")}update(...t){return pi(this,t,!0)}applyTransaction(t){let e=this.config,{base:n,compartments:i}=e;for(let r of t.effects)r.is(Zn.reconfigure)?(e&&(i=new Map,e.compartments.forEach(((t,e)=>i.set(e,t))),e=null),i.set(r.value.compartment,r.value.extension)):r.is(hi.reconfigure)?(e=null,n=r.value):r.is(hi.appendConfig)&&(e=null,n=vi(n).concat(r.value));new yi(e||Xn.resolve(n,i,this),t.newDoc,t.newSelection,t)}replaceSelection(t){return"string"==typeof t&&(t=this.toText(t)),this.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:t},range:$n.cursor(e.from+t.length)})))}changeByRange(t){let e=this.selection,n=t(e.ranges[0]),i=this.changes(n.changes),r=[n.range],s=vi(n.effects);for(let n=1;n<e.ranges.length;n++){let o=t(e.ranges[n]),u=this.changes(o.changes),a=u.map(i);for(let t=0;t<n;t++)r[t]=r[t].map(a);let h=i.mapDesc(u,!0);r.push(o.range.map(h)),i=i.compose(a),s=hi.mapEffects(s,a).concat(hi.mapEffects(vi(o.effects),h))}return{changes:i,selection:$n.create(r,e.mainIndex),effects:s}}changes(t=[]){return t instanceof An?t:An.of(t,this.doc.length,this.facet(yi.lineSeparator))}toText(t){return vn.of(t.split(this.facet(yi.lineSeparator)||xn))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return null==e?t.default:(Yn(this,e),Qn(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let n in t){let i=t[n];i instanceof Vn&&(e[n]=i.spec.toJSON(this.field(t[n]),this))}return e}static fromJSON(t,e={},n){if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(n)for(let e in n){let r=n[e],s=t[e];i.push(r.init((t=>r.spec.fromJSON(s,t))))}return yi.create({doc:t.doc,selection:$n.fromJSON(t.selection),extensions:e.extensions?i.concat([e.extensions]):i})}static create(t={}){let e=Xn.resolve(t.extensions||[],new Map),n=t.doc instanceof vn?t.doc:vn.of((t.doc||"").split(e.staticFacet(yi.lineSeparator)||xn)),i=t.selection?t.selection instanceof $n?t.selection:$n.single(t.selection.anchor,t.selection.head):$n.single(0);return qn(i,n.length),e.staticFacet(ei)||(i=i.asSingle()),new yi(e,n,i)}get tabSize(){return this.facet(yi.tabSize)}get lineBreak(){return this.facet(yi.lineSeparator)||"\n"}phrase(t){for(let e of this.facet(yi.phrases))if(Object.prototype.hasOwnProperty.call(e,t))return e[t];return t}languageDataAt(t,e,n=-1){let i=[];for(let r of this.facet(ti))for(let s of r(this,e,n))Object.prototype.hasOwnProperty.call(s,t)&&i.push(s[t]);return i}charCategorizer(t){return e=this.languageDataAt("wordChars",t).join(""),t=>{if(!/\S/.test(t))return gi.Space;if(function(t){if(wi)return wi.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||bi.test(n)))return!0}return!1}(t))return gi.Word;for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return gi.Word;return gi.Other};var e}wordAt(t){let{text:e,from:n,length:i}=this.doc.lineAt(t),r=this.charCategorizer(t),s=t-n,o=t-n;for(;s>0;){let t=on(e,s,!1);if(r(e.slice(t,s))!=gi.Word)break;s=t}for(;o<i;){let t=on(e,o);if(r(e.slice(o,t))!=gi.Word)break;o=t}return s==o?$n.range(s+n,o+n):null}}function ki(t,e,n={}){let i={};for(let e of t)for(let t of Object.keys(e)){let r=e[t],s=i[t];if(void 0===s)i[t]=r;else if(s===r||void 0===r);else{if(!Object.hasOwnProperty.call(n,t))throw new Error("Config merge conflict for field "+t);i[t]=n[t](s,r)}}for(let t in e)void 0===i[t]&&(i[t]=e[t]);return i}yi.allowMultipleSelections=ei,yi.tabSize=In.define({combine:t=>t.length?t[0]:4}),yi.lineSeparator=ni,yi.phrases=In.define(),yi.languageData=ti,yi.changeFilter=ii,yi.transactionFilter=ri,yi.transactionExtender=si,Zn.reconfigure=hi.define();const Di="undefined"==typeof Symbol?"__ͼ":Symbol.for("ͼ"),ji="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),xi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class _i{constructor(t,e){this.rules=[];let{finish:n}=e||{};function i(t){return/^@/.test(t)?[t]:t.split(/,\s*/)}function r(t,e,s,o){let u=[],a=/^@(\w+)\b/.exec(t[0]),h=a&&"keyframes"==a[1];if(a&&null==e)return s.push(t[0]+";");for(let n in e){let o=e[n];if(/&/.test(n))r(n.split(/,\s*/).map((e=>t.map((t=>e.replace(/&/,t))))).reduce(((t,e)=>t.concat(e))),o,s);else if(o&&"object"==typeof o){if(!a)throw new RangeError("The value of a property ("+n+") should be a primitive value.");r(i(n),o,u,h)}else null!=o&&u.push(n.replace(/_.*/,"").replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()))+": "+o+";")}(u.length||h)&&s.push((!n||a||o?t:t.map(n)).join(", ")+" {"+u.join(" ")+"}")}for(let e in t)r(i(e),t[e],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let t=xi[Di]||1;return xi[Di]=t+1,"ͼ"+t.toString(36)}static mount(t,e){(t[ji]||new Ai(t)).mount(Array.isArray(e)?e:[e])}}let Mi=null;class Ai{constructor(t){if(!t.head&&t.adoptedStyleSheets&&"undefined"!=typeof CSSStyleSheet){if(Mi)return t.adoptedStyleSheets=[Mi.sheet].concat(t.adoptedStyleSheets),t[ji]=Mi;this.sheet=new CSSStyleSheet,t.adoptedStyleSheets=[this.sheet].concat(t.adoptedStyleSheets),Mi=this}else{this.styleTag=(t.ownerDocument||t).createElement("style");let e=t.head||t;e.insertBefore(this.styleTag,e.firstChild)}this.modules=[],t[ji]=this}mount(t){let e=this.sheet,n=0,i=0;for(let r=0;r<t.length;r++){let s=t[r],o=this.modules.indexOf(s);if(o<i&&o>-1&&(this.modules.splice(o,1),i--,o=-1),-1==o){if(this.modules.splice(i++,0,s),e)for(let t=0;t<s.rules.length;t++)e.insertRule(s.rules[t],n++)}else{for(;i<o;)n+=this.modules[i++].rules.length;n+=s.rules.length,i++}}if(!e){let t="";for(let e=0;e<this.modules.length;e++)t+=this.modules[e].getRules()+"\n";this.styleTag.textContent=t}}}class Ci{eq(t){return this==t}range(t,e=t){return new Ei(t,e,this)}}Ci.prototype.startSide=Ci.prototype.endSide=0,Ci.prototype.point=!1,Ci.prototype.mapMode=_n.TrackDel;class Ei{constructor(t,e,n){this.from=t,this.to=e,this.value=n}}function Oi(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class Si{constructor(t,e,n,i){this.from=t,this.to=e,this.value=n,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(t,e,n,i=0){let r=n?this.to:this.from;for(let s=i,o=r.length;;){if(s==o)return s;let i=s+o>>1,u=r[i]-t||(n?this.value[i].endSide:this.value[i].startSide)-e;if(i==s)return u>=0?s:o;u>=0?o=i:s=i+1}}between(t,e,n,i){for(let r=this.findIndex(e,-1e9,!0),s=this.findIndex(n,1e9,!1,r);r<s;r++)if(!1===i(this.from[r]+t,this.to[r]+t,this.value[r]))return!1}map(t,e){let n=[],i=[],r=[],s=-1,o=-1;for(let u=0;u<this.value.length;u++){let a,h,c=this.value[u],l=this.from[u]+t,f=this.to[u]+t;if(l==f){let t=e.mapPos(l,c.startSide,c.mapMode);if(null==t)continue;a=h=t}else if(a=e.mapPos(l,c.startSide),h=e.mapPos(f,c.endSide),a>h||a==h&&c.startSide>0&&c.endSide<=0)continue;(h-a||c.endSide-c.startSide)<0||(s<0&&(s=a),c.point&&(o=Math.max(o,h-a)),n.push(c),i.push(a-s),r.push(h-s))}return{mapped:n.length?new Si(i,r,n,o):null,pos:s}}}class Ti{constructor(t,e,n=Ti.empty,i){this.chunkPos=t,this.chunk=e,this.nextLayer=n,this.maxPoint=i}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:n=!1,filterFrom:i=0,filterTo:r=this.length}=t,s=t.filter;if(0==e.length&&!s)return this;if(n&&e.slice().sort(Oi),this.isEmpty)return e.length?Ti.of(e):this;let o=new $i(this,null,-1).goto(0),u=0,a=[],h=new Ri;for(;o.value||u<e.length;)if(u<e.length&&(o.from-e[u].from||o.startSide-e[u].value.startSide)>=0){let t=e[u++];h.addInner(t.from,t.to,t.value)||a.push(t)}else 1==o.rangeIndex&&o.chunkIndex<this.chunk.length&&(u==e.length||this.chunkEnd(o.chunkIndex)<e[u].from)&&(!s||i>this.chunkEnd(o.chunkIndex)||r<this.chunkPos[o.chunkIndex])&&h.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!s||i>o.to||r<o.from||s(o.from,o.to,o.value))&&(h.addInner(o.from,o.to,o.value)||a.push(new Ei(o.from,o.to,o.value))),o.next());return h.finishInner(this.nextLayer.isEmpty&&!a.length?Ti.empty:this.nextLayer.update({add:a,filter:s,filterFrom:i,filterTo:r}))}map(t){if(0==t.length||this.isEmpty)return this;let e=[],n=[],i=-1;for(let r=0;r<this.chunk.length;r++){let s=this.chunkPos[r],o=this.chunk[r],u=t.touchesRange(s,s+o.length);if(!1===u)i=Math.max(i,o.maxPoint),e.push(o),n.push(t.mapPos(s));else if(!0===u){let{mapped:r,pos:u}=o.map(s,t);r&&(i=Math.max(i,r.maxPoint),e.push(r),n.push(u))}}let r=this.nextLayer.map(t);return 0==e.length?r:new Ti(n,e,r,i)}between(t,e,n){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let r=this.chunkPos[i],s=this.chunk[i];if(e>=r&&t<=r+s.length&&!1===s.between(r,t-r,e-r,n))return}this.nextLayer.between(t,e,n)}}iter(t=0){return Bi.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return Bi.from(t).goto(e)}static compare(t,e,n,i,r=-1){let s=t.filter((t=>t.maxPoint>=500||!t.isEmpty&&e.indexOf(t)<0&&t.maxPoint>=r)),o=e.filter((e=>e.maxPoint>=500||!e.isEmpty&&t.indexOf(e)<0&&e.maxPoint>=r)),u=Fi(s,o),a=new Li(s,u,r),h=new Li(o,u,r);n.iterGaps(((t,e,n)=>Ii(a,t,h,e,n,i))),n.empty&&0==n.length&&Ii(a,0,h,0,0,i)}static eq(t,e,n=0,i){null==i&&(i=1e9);let r=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0)),s=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0));if(r.length!=s.length)return!1;if(!r.length)return!0;let o=Fi(r,s),u=new Li(r,o,0).goto(n),a=new Li(s,o,0).goto(n);for(;;){if(u.to!=a.to||!zi(u.active,a.active)||u.point&&(!a.point||!u.point.eq(a.point)))return!1;if(u.to>=i)return!0;u.next(),a.next()}}static spans(t,e,n,i,r=-1){let s=new Li(t,null,r).goto(e),o=e,u=s.openStart;for(;;){let t=Math.min(s.to,n);if(s.point?(i.point(o,t,s.point,s.activeForPoint(s.to),u),u=s.openEnd(t)+(s.to>t?1:0)):t>o&&(i.span(o,t,s.active,u),u=s.openEnd(t)),s.to>n)break;o=s.to,s.next()}return u}static of(t,e=!1){let n=new Ri;for(let i of t instanceof Ei?[t]:e?function(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let i=t[n];if(Oi(e,i)>0)return t.slice().sort(Oi);e=i}return t}(t):t)n.add(i.from,i.to,i.value);return n.finish()}}Ti.empty=new Ti([],[],null,-1),Ti.empty.nextLayer=Ti.empty;class Ri{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(t){this.chunks.push(new Si(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}add(t,e,n){this.addInner(t,e,n)||(this.nextLayer||(this.nextLayer=new Ri)).add(t,e,n)}addInner(t,e,n){let i=t-this.lastTo||n.startSide-this.last.endSide;if(i<=0&&(t-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(i<0||(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=n,this.lastFrom=t,this.lastTo=e,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),0))}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let n=e.value.length-1;return this.last=e.value[n],this.lastFrom=e.from[n]+t,this.lastTo=e.to[n]+t,!0}finish(){return this.finishInner(Ti.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return t;let e=new Ti(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}function Fi(t,e){let n=new Map;for(let e of t)for(let t=0;t<e.chunk.length;t++)e.chunk[t].maxPoint<500&&n.set(e.chunk[t],e.chunkPos[t]);let i=new Set;for(let t of e)for(let e=0;e<t.chunk.length;e++)n.get(t.chunk[e])==t.chunkPos[e]&&i.add(t.chunk[e]);return i}class $i{constructor(t,e,n,i=0){this.layer=t,this.skip=e,this.minPoint=n,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,n){for(;this.chunkIndex<this.layer.chunk.length;){let e=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(e)||this.layer.chunkEnd(this.chunkIndex)<t||e.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}let i=this.chunkIndex==this.layer.chunk.length?0:this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!n||this.rangeIndex<i)&&(this.rangeIndex=i),this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],n=t+e.from[this.rangeIndex];if(this.from=n,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],++this.rangeIndex==e.value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}if(this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.to-t.to||this.endSide-t.endSide}}class Bi{constructor(t){this.heap=t}static from(t,e=null,n=-1){let i=[];for(let r=0;r<t.length;r++)for(let s=t[r];!s.isEmpty;s=s.nextLayer)s.maxPoint>=n&&i.push(new $i(s,e,n,r));return 1==i.length?i[0]:new Bi(i)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let n of this.heap)n.goto(t,e);for(let t=this.heap.length>>1;t>=0;t--)qi(this.heap,t);return this.next(),this}forward(t,e){for(let n of this.heap)n.forward(t,e);for(let t=this.heap.length>>1;t>=0;t--)qi(this.heap,t);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),qi(this.heap,0)}}}function qi(t,e){for(let n=t[e];;){let i=1+(e<<1);if(i>=t.length)break;let r=t[i];if(i+1<t.length&&r.compare(t[i+1])>=0&&(r=t[i+1],i++),n.compare(r)<0)break;t[i]=n,t[e]=r,e=i}}class Li{constructor(t,e,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Bi.from(t,e,n)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){Ni(this.active,t),Ni(this.activeTo,t),Ni(this.activeRank,t),this.minActive=Ui(this.active,this.activeTo)}addActive(t){let e=0,{value:n,to:i,rank:r}=this.cursor;for(;e<this.activeRank.length&&this.activeRank[e]<=r;)e++;Pi(this.active,e,n),Pi(this.activeTo,e,i),Pi(this.activeRank,e,r),t&&Pi(t,e,this.cursor.from),this.minActive=Ui(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let n=this.openStart<0?[]:null,i=0;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>t){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&Ni(n,r)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let r=this.cursor.value;if(r.point){if(!(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to&&r.endSide==this.endSide)){this.point=r,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=r.endSide,this.cursor.from<t&&(i=1),this.cursor.next(),this.to>t&&this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}}if(n){let e=0;for(;e<n.length&&n[e]<t;)e++;this.openStart=e+i}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>t||this.activeTo[n]==t&&this.active[n].endSide>=this.point.endSide)&&e.push(this.active[n]);return e.reverse()}openEnd(t){let e=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>t;n--)e++;return e}}function Ii(t,e,n,i,r,s){t.goto(e),n.goto(i);let o=i+r,u=i,a=i-e;for(;;){let e=t.to+a-n.to||t.endSide-n.endSide,i=e<0?t.to+a:n.to,r=Math.min(i,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&zi(t.activeForPoint(t.to+a),n.activeForPoint(n.to))||s.comparePoint(u,r,t.point,n.point):r>u&&!zi(t.active,n.active)&&s.compareRange(u,r,t.active,n.active),i>o)break;u=i,e<=0&&t.next(),e>=0&&n.next()}}function zi(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function Ni(t,e){for(let n=e,i=t.length-1;n<i;n++)t[n]=t[n+1];t.pop()}function Pi(t,e,n){for(let n=t.length-1;n>=e;n--)t[n+1]=t[n];t[e]=n}function Ui(t,e){let n=-1,i=1e9;for(let r=0;r<e.length;r++)(e[r]-i||t[r].endSide-t[n].endSide)<0&&(n=r,i=e[r]);return n}for(var Hi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},Vi={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},Ji="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),Gi="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),Wi="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),Zi="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),Ki="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Xi=Ji&&(Zi||+Ji[1]<57)||Wi&&Zi,Yi=0;Yi<10;Yi++)Hi[48+Yi]=Hi[96+Yi]=String(Yi);for(Yi=1;Yi<=24;Yi++)Hi[Yi+111]="F"+Yi;for(Yi=65;Yi<=90;Yi++)Hi[Yi]=String.fromCharCode(Yi+32),Vi[Yi]=String.fromCharCode(Yi);for(var Qi in Hi)Vi.hasOwnProperty(Qi)||(Vi[Qi]=Hi[Qi]);function tr(t){return t.getSelection?t.getSelection():document.getSelection()}function er(t,e){return!!e&&t.contains(1!=e.nodeType?e.parentNode:e)}function nr(t,e){if(!e.anchorNode)return!1;try{return er(t,e.anchorNode)}catch(t){return!1}}function ir(t){return 3==t.nodeType?mr(t,0,t.nodeValue.length).getClientRects():1==t.nodeType?t.getClientRects():[]}function rr(t,e,n,i){return!!n&&(or(t,e,n,i,-1)||or(t,e,n,i,1))}function sr(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e}function or(t,e,n,i,r){for(;;){if(t==n&&e==i)return!0;if(e==(r<0?0:ur(t))){if("DIV"==t.nodeName)return!1;let n=t.parentNode;if(!n||1!=n.nodeType)return!1;e=sr(t)+(r<0?0:1),t=n}else{if(1!=t.nodeType)return!1;if(1==(t=t.childNodes[e+(r<0?-1:0)]).nodeType&&"false"==t.contentEditable)return!1;e=r<0?ur(t):0}}}function ur(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}const ar={left:0,right:0,top:0,bottom:0};function hr(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function cr(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}class lr{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}}let fr,dr=null;function pr(t){if(t.setActive)return t.setActive();if(dr)return t.focus(dr);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(null==dr?{get preventScroll(){return dr={preventScroll:!0},!0}}:void 0),!dr){dr=!1;for(let t=0;t<e.length;){let n=e[t++],i=e[t++],r=e[t++];n.scrollTop!=i&&(n.scrollTop=i),n.scrollLeft!=r&&(n.scrollLeft=r)}}}function mr(t,e,n=e){let i=fr||(fr=document.createRange());return i.setEnd(t,n),i.setStart(t,e),i}function vr(t,e,n){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0},r=new KeyboardEvent("keydown",i);r.synthetic=!0,t.dispatchEvent(r);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,t.dispatchEvent(s),r.defaultPrevented||s.defaultPrevented}let gr=null;function br(){if(null==gr){gr=!1;let t=document.createElement("div");try{t.contentEditable="plaintext-only",gr="plaintext-only"==t.contentEditable}catch(t){}}return gr}class wr{constructor(t,e,n=!0){this.node=t,this.offset=e,this.precise=n}static before(t,e){return new wr(t.parentNode,sr(t),e)}static after(t,e){return new wr(t.parentNode,sr(t)+1,e)}}const yr=[];class kr{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let n of this.children){if(n==t)return e;e+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}coordsAt(t,e){return null}sync(t){var e;if(2&this.dirty){let n=this.dom,i=null;for(let r of this.children){if(r.dirty){let s=i?i.nextSibling:n.firstChild;r.dom||!s||(null===(e=kr.get(s))||void 0===e?void 0:e.parent)||r.reuseDOM(s),r.sync(t),r.dirty=0}t&&t.node==n&&i!=r.dom&&(t.written=!0),jr(n,i,r.dom),i=r.dom}let r=i?i.nextSibling:n.firstChild;for(r&&t&&t.node==n&&(t.written=!0);r;)r=Dr(r)}else if(1&this.dirty)for(let e of this.children)e.dirty&&(e.sync(t),e.dirty=0)}reuseDOM(t){return!1}localPosFromDOM(t,e){let n;if(t==this.dom)n=this.dom.childNodes[e];else{let i=0==ur(t)?0:0==e?-1:1;for(;;){let e=t.parentNode;if(e==this.dom)break;0==i&&e.firstChild!=e.lastChild&&(i=t==e.firstChild?-1:1),t=e}n=i<0?t:t.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!kr.get(n);)n=n.nextSibling;if(!n)return this.length;for(let t=0,e=0;;t++){let i=this.children[t];if(i.dom==n)return e;e+=i.length+i.breakAfter}}domBoundsAround(t,e,n=0){let i=-1,r=-1,s=-1,o=-1;for(let u=0,a=n,h=n;u<this.children.length;u++){let n=this.children[u],c=a+n.length;if(a<t&&c>e)return n.domBoundsAround(t,e,a);if(c>=t&&-1==i&&(i=u,r=a),a>e&&n.dom.parentNode==this.dom){s=u,o=h;break}h=c,a=c+n.breakAfter}return{from:r,to:o<0?n+this.length:o,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(t=!1){this.dirty|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.dirty|=2),1&e.dirty)return;e.dirty|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,this.dirty&&this.markParentsDirty(!0))}setDOM(t){this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,n=yr){this.markDirty();for(let n=t;n<e;n++){let t=this.children[n];t.parent==this&&(t.parent=null)}this.children.splice(t,e-t,...n);for(let t=0;t<n.length;t++)n[t].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new xr(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==t?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}}function Dr(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}function jr(t,e,n){let i=e?e.nextSibling:t.firstChild;if(n.parentNode==t)for(;i!=n;)i=Dr(i);else t.insertBefore(n,i)}kr.prototype.breakAfter=0;class xr{constructor(t,e,n){this.children=t,this.pos=e,this.i=n,this.off=0}findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}let[_r,Mr]="undefined"!=typeof navigator?[navigator,document]:[{userAgent:"",vendor:"",platform:""},{documentElement:{style:{}}}];const Ar=/Edge\/(\d+)/.exec(_r.userAgent),Cr=/MSIE \d/.test(_r.userAgent),Er=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(_r.userAgent),Or=!!(Cr||Er||Ar),Sr=!Or&&/gecko\/(\d+)/i.test(_r.userAgent),Tr=!Or&&/Chrome\/(\d+)/.exec(_r.userAgent),Rr="webkitFontSmoothing"in Mr.documentElement.style,Fr=!Or&&/Apple Computer/.test(_r.vendor);var $r={mac:/Mac/.test(_r.platform),ie:Or,ie_version:Cr?Mr.documentMode||6:Er?+Er[1]:Ar?+Ar[1]:0,gecko:Sr,gecko_version:Sr?+(/Firefox\/(\d+)/.exec(_r.userAgent)||[0,0])[1]:0,chrome:!!Tr,chrome_version:Tr?+Tr[1]:0,ios:Fr&&(/Mobile\/\w+/.test(_r.userAgent)||_r.maxTouchPoints>2),android:/Android\b/.test(_r.userAgent),webkit:Rr,safari:Fr,webkit_version:Rr?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=Mr.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};const Br=[];class qr extends kr{become(t){return!1}getSide(){return 0}}qr.prototype.children=Br;class Lr extends qr{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){return 3==t.nodeType&&(this.createDOM(t),!0)}merge(t,e,n){return(!n||n instanceof Lr&&!(this.length-(e-t)+n.length>256))&&(this.text=this.text.slice(0,t)+(n?n.text:"")+this.text.slice(e),this.markDirty(),!0)}slice(t){return new Lr(this.text.slice(t))}localPosFromDOM(t,e){return t==this.dom?e:e?this.text.length:0}domAtPos(t){return new wr(this.dom,t)}domBoundsAround(t,e,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return zr(this.dom,t,e)}}class Ir extends qr{constructor(t,e=[],n=0){super(),this.mark=t,this.children=e,this.length=n;for(let t of e)t.setParent(this)}createDOM(){let t=document.createElement(this.mark.tagName);if(this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);this.setDOM(t)}sync(t){(!this.dom||4&this.dirty)&&this.createDOM(),super.sync(t)}merge(t,e,n,i,r){return!(n&&(!(n instanceof Ir&&n.mark.eq(this.mark))||t&&i<=0||e<this.length&&r<=0)||(Ur(this,t,e,n?n.children:Br,i-1,r-1),this.markDirty(),0))}slice(t){return new Ir(this.mark,function(t,e){let n=[],i=0;for(let r of t){let t=i+r.length;t>e&&n.push(i<e?r.slice(e-i):r),i=t}return n}(this.children,t),this.length-t)}domAtPos(t){return Hr(this.dom,this.children,t)}coordsAt(t,e){return Jr(this,t,e)}}function zr(t,e,n){let i=t.nodeValue.length;e>i&&(e=i);let r=e,s=e,o=0;0==e&&n<0||e==i&&n>=0?$r.chrome||$r.gecko||(e?(r--,o=1):(s++,o=-1)):n<0?r--:s++;let u=mr(t,r,s).getClientRects();if(!u.length)return ar;let a=u[(o?o<0:n>=0)?0:u.length-1];return $r.safari&&!o&&0==a.width&&(a=Array.prototype.find.call(u,(t=>t.width))||a),o?hr(a,o<0):a}class Nr extends qr{constructor(t,e,n){super(),this.widget=t,this.length=e,this.side=n}static create(t,e,n){return new(t.customView||Nr)(t,e,n)}slice(t){return Nr.create(this.widget,this.length-t,this.side)}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(t,e,n,i,r){return!(n&&(!(n instanceof Nr&&this.widget.compare(n.widget))||t>0&&i<=0||e<this.length&&r<=0)||(this.length=t+(n?n.length:0)+(this.length-e),0))}become(t){return t.length==this.length&&t instanceof Nr&&t.side==this.side&&this.widget.constructor==t.widget.constructor&&(this.widget.eq(t.widget)||this.markDirty(!0),this.widget=t.widget,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(0==this.length)return vn.empty;let t=this;for(;t.parent;)t=t.parent;let e=t.editorView,n=e&&e.state.doc,i=this.posAtStart;return n?n.slice(i,i+this.length):vn.empty}domAtPos(t){return 0==t?wr.before(this.dom):wr.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let n=this.dom.getClientRects(),i=null;if(!n.length)return ar;for(let e=t>0?n.length-1:0;i=n[e],!(t>0?0==e:e==n.length-1||i.top<i.bottom);e+=t>0?-1:1);return 0==t&&e>0||t==this.length&&e<=0?i:hr(i,0==t)}}class Pr extends Nr{domAtPos(t){return new wr(this.widget.text,t)}sync(){this.dom||this.setDOM(this.widget.toDOM())}localPosFromDOM(t,e){return e?3==t.nodeType?Math.min(e,this.length):this.length:0}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(t,e){return zr(this.widget.text,t,e)}}function Ur(t,e,n,i,r,s){let o=t.childCursor(),{i:u,off:a}=o.findPos(n,1),{i:h,off:c}=o.findPos(e,-1),l=e-n;for(let t of i)l+=t.length;t.length+=l;let{children:f}=t;if(h==u&&c){let t=f[h];if(1==i.length&&t.merge(c,a,i[0],r,s))return;if(0==i.length)return void t.merge(c,a,null,r,s);let e=t.slice(a);e.merge(0,0,i[i.length-1],0,s)?i[i.length-1]=e:i.push(e),u++,s=a=0}if(a){let t=f[u];i.length&&t.merge(0,a,i[i.length-1],0,s)?(i.pop(),s=i.length?0:r):t.merge(0,a,null,0,0)}else u<f.length&&i.length&&f[u].merge(0,0,i[i.length-1],0,s)&&(i.pop(),s=i.length?0:r);if(c){let t=f[h];i.length&&t.merge(c,t.length,i[0],r,0)?(i.shift(),r=i.length?0:s):t.merge(c,t.length,null,0,0),h++}else if(h&&i.length){let t=f[h-1];t.merge(t.length,t.length,i[0],r,0)&&(i.shift(),r=i.length?0:s)}for(;h<u&&i.length&&f[u-1].become(i[i.length-1]);)i.pop(),u--,s=i.length?0:r;for(;h<u&&i.length&&f[h].become(i[0]);)i.shift(),h++,r=i.length?0:s;!i.length&&h&&u<f.length&&f[u].merge(0,0,f[h-1],r,s)&&h--,(i.length||h!=u)&&t.replaceChildren(h,u,i)}function Hr(t,e,n){let i=0;for(let r=0;i<e.length;i++){let s=e[i],o=r+s.length;if(!(o==r&&s.getSide()<=0)){if(n>r&&n<o&&s.dom.parentNode==t)return s.domAtPos(n-r);if(n<=r)break;r=o}}for(;i>0;i--){let n=e[i-1].dom;if(n.parentNode==t)return wr.after(n)}return new wr(t,0)}function Vr(t,e,n){let i,{children:r}=t;n>0&&e instanceof Ir&&r.length&&(i=r[r.length-1])instanceof Ir&&i.mark.eq(e.mark)?Vr(i,e.children[0],n-1):(r.push(e),e.setParent(t)),t.length+=e.length}function Jr(t,e,n){for(let i=0,r=0;r<t.children.length;r++){let s,o=t.children[r],u=i+o.length;if((n<=0||u==t.length||o.getSide()>0?u>=e:u>e)&&(e<u||r+1==t.children.length||(s=t.children[r+1]).length||s.getSide()>0)){let t=0;if(u==i){if(o.getSide()<=0)continue;t=n=-o.getSide()}let r=o.coordsAt(e-i,n);return t&&r?hr(r,n<0):r}i=u}let i=t.dom.lastChild;if(!i)return t.dom.getBoundingClientRect();let r=ir(i);return r[r.length-1]}function Gr(t,e){for(let n in t)"class"==n&&e.class?e.class+=" "+t.class:"style"==n&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}function Wr(t,e){if(t==e)return!0;if(!t||!e)return!1;let n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r of n)if(-1==i.indexOf(r)||t[r]!==e[r])return!1;return!0}function Zr(t,e,n){if(e)for(let i in e)n&&i in n||t.removeAttribute(i);if(n)for(let i in n)e&&e[i]==n[i]||t.setAttribute(i,n[i])}class Kr{eq(t){return!1}updateDOM(t){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}ignoreEvent(t){return!0}get customView(){return null}}var Xr=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Xr||(Xr={}));class Yr extends Ci{constructor(t,e,n,i){super(),this.startSide=t,this.endSide=e,this.widget=n,this.spec=i}get heightRelevant(){return!1}static mark(t){return new Qr(t)}static widget(t){let e=t.side||0;return t.block&&(e+=200000001*(e>0?1:-1)),new es(t,e,e,!!t.block,t.widget||null,!1)}static replace(t){let e=!!t.block,{start:n,end:i}=ns(t);return new es(t,e?-2e8*(n?2:1):1e8*(n?-1:1),e?2e8*(i?2:1):1e8*(i?1:-1),e,t.widget||null,!0)}static line(t){return new ts(t)}static set(t,e=!1){return Ti.of(t,e)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}Yr.none=Ti.empty;class Qr extends Yr{constructor(t){let{start:e,end:n}=ns(t);super(1e8*(e?-1:1),1e8*(n?1:-1),null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){return this==t||t instanceof Qr&&this.tagName==t.tagName&&this.class==t.class&&Wr(this.attrs,t.attrs)}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}}Qr.prototype.point=!1;class ts extends Yr{constructor(t){super(-1e8,-1e8,null,t)}eq(t){return t instanceof ts&&Wr(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}}ts.prototype.mapMode=_n.TrackBefore,ts.prototype.point=!0;class es extends Yr{constructor(t,e,n,i,r,s){super(e,n,r,t),this.block=i,this.isReplace=s,this.mapMode=i?e<0?_n.TrackBefore:_n.TrackAfter:_n.TrackDel}get type(){return this.startSide<this.endSide?Xr.WidgetRange:this.startSide<0?Xr.WidgetBefore:Xr.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(t){return t instanceof es&&function(t,e){return t==e||!!(t&&e&&t.compare(e))}(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}}function ns(t){let{inclusiveStart:e,inclusiveEnd:n}=t;return null==e&&(e=t.inclusive),null==n&&(n=t.inclusive),{start:e||!1,end:n||!1}}function is(t,e,n,i=0){let r=n.length-1;r>=0&&n[r]+i>t?n[r]=Math.max(n[r],e):n.push(t,e)}es.prototype.point=!0;class rs extends kr{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,n,i,r,s){if(n){if(!(n instanceof rs))return!1;this.dom||n.transferDOM(this)}return i&&this.setDeco(n?n.attrs:null),Ur(this,t,e,n?n.children:ss,r,s),!0}split(t){let e=new rs;if(e.breakAfter=this.breakAfter,0==this.length)return e;let{i:n,off:i}=this.childPos(t);i&&(e.append(this.children[n].slice(i),0),this.children[n].merge(i,this.children[n].length,null,0,0),n++);for(let t=n;t<this.children.length;t++)e.append(this.children[t],0);for(;n>0&&0==this.children[n-1].length;)this.children[n-1].parent=null,n--;return this.children.length=n,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(t.setDOM(this.dom),t.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){Wr(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,e){Vr(this,t,e)}addLineDeco(t){let e=t.spec.attributes;e&&(this.attrs=Gr(e,this.attrs||{}))}domAtPos(t){return Hr(this.dom,this.children,t)}sync(t){(!this.dom||4&this.dirty)&&(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(Zr(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t);let e=this.dom.lastChild;if(!e||"BR"!=e.nodeName&&kr.get(e)instanceof Nr&&(!$r.ios||!this.children.some((t=>t instanceof Lr)))){let t=document.createElement("BR");t.cmIgnore=!0,this.dom.appendChild(t)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let t=0;for(let e of this.children){if(!(e instanceof Lr))return null;let n=ir(e.dom);if(1!=n.length)return null;t+=n[0].width}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length}}coordsAt(t,e){return Jr(this,t,e)}match(t){return!1}get type(){return Xr.Text}static find(t,e){for(let n=0,i=0;;n++){let r=t.children[n],s=i+r.length;if(s>=e){if(r instanceof rs)return r;if(r.length)return null}i=s+r.breakAfter}}}const ss=[];class os extends kr{constructor(t,e,n){super(),this.widget=t,this.length=e,this.type=n,this.breakAfter=0}merge(t,e,n,i,r,s){return!(n&&(!(n instanceof os&&this.widget.compare(n.widget))||t>0&&r<=0||e<this.length&&s<=0)||(this.length=t+(n?n.length:0)+(this.length-e),0))}domAtPos(t){return 0==t?wr.before(this.dom):wr.after(this.dom,t==this.length)}split(t){let e=this.length-t;return this.length=t,new os(this.widget,e,this.type)}get children(){return ss}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):vn.empty}domBoundsAround(){return null}match(t){return t instanceof os&&t.type==this.type&&t.widget.constructor==this.widget.constructor&&(t.widget.eq(this.widget)||this.markDirty(!0),this.widget=t.widget,this.length=t.length,this.breakAfter=t.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}}class us{constructor(t,e,n){this.doc=t,this.pos=e,this.end=n,this.content=[],this.curLine=null,this.breakAtStart=0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!(t.breakAfter||t instanceof os&&t.type==Xr.WidgetBefore)}getLine(){return this.curLine||this.content.push(this.curLine=new rs),this.curLine}addWidget(t){this.curLine=null,this.content.push(t)}finish(){this.posCovered()||this.getLine()}wrapMarks(t,e){for(let n of e)t=new Ir(n,[t],t.length);return t}buildText(t,e,n){for(;t>0;){if(this.textOff==this.text.length){let{value:e,lineBreak:n,done:i}=this.cursor.next(this.skip);if(this.skip=0,i)throw new Error("Ran out of text content when drawing inline views");if(n){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.curLine=null,t--;continue}this.text=e,this.textOff=0}let i=Math.min(this.text.length-this.textOff,t,512);this.getLine().append(this.wrapMarks(new Lr(this.text.slice(this.textOff,this.textOff+i)),e),n),this.textOff+=i,t-=i,n=0}}span(t,e,n,i){this.buildText(e-t,n,i),this.pos=e,this.openStart<0&&(this.openStart=i)}point(t,e,n,i,r){let s=e-t;if(n instanceof es)if(n.block){let{type:t}=n;t!=Xr.WidgetAfter||this.posCovered()||this.getLine(),this.addWidget(new os(n.widget||new as("div"),s,t))}else{let t=this.wrapMarks(Nr.create(n.widget||new as("span"),s,n.startSide),i);this.getLine().append(t,r)}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);s&&(this.textOff+s<=this.text.length?this.textOff+=s:(this.skip+=s-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e),this.openStart<0&&(this.openStart=r)}static build(t,e,n,i){let r=new us(t,e,n);return r.openEnd=Ti.spans(i,e,n,r),r.openStart<0&&(r.openStart=r.openEnd),r.finish(),r}}class as extends Kr{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}}const hs=[],cs=In.define(),ls=In.define(),fs=In.define(),ds=In.define(),ps=In.define(),ms=In.define();function vs(t,e,n){let i=t.facet(ds);i.length?i[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const gs=In.define({combine:t=>!t.length||t[0]});class bs{constructor(t,e){this.field=t,this.get=e}}class ws{from(t){return new bs(this,t)}static define(){return new ws}}ws.decorations=ws.define(),ws.atomicRanges=ws.define(),ws.scrollMargins=ws.define();let ys=0;const ks=In.define();class Ds{constructor(t,e,n){this.id=t,this.create=e,this.fields=n,this.extension=ks.of(this)}static define(t,e){let{eventHandlers:n,provide:i,decorations:r}=e||{},s=[];if(i)for(let t of Array.isArray(i)?i:[i])s.push(t);return n&&s.push(js.from((t=>({plugin:t,handlers:n})))),r&&s.push(ws.decorations.from(r)),new Ds(ys++,t,s)}static fromClass(t,e){return Ds.define((e=>new t(e)),e)}}const js=ws.define();class xs{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}takeField(t,e){for(let{field:n,get:i}of this.spec.fields)n==t&&e.push(i(this.value))}update(t){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,!this.value.update)return this;try{this.value.update(e)}catch(n){if(vs(e.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(t){}return xs.dummy}}}else try{this.value=this.spec.create(t)}catch(e){return vs(t.state,e,"CodeMirror plugin crashed"),xs.dummy}return this}destroy(t){var e;if(null===(e=this.value)||void 0===e?void 0:e.destroy)try{this.value.destroy()}catch(e){vs(t.state,e,"CodeMirror plugin crashed")}}}xs.dummy=new xs(Ds.define((()=>({}))));const _s=In.define({combine:t=>t.reduce(((t,e)=>Gr(e,t)),{})}),Ms=In.define({combine:t=>t.reduce(((t,e)=>Gr(e,t)),{})}),As=In.define(),Cs=In.define();class Es{constructor(t,e,n,i){this.fromA=t,this.toA=e,this.fromB=n,this.toB=i}join(t){return new Es(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,n=this;for(;e>0;e--){let i=t[e-1];if(!(i.fromA>n.toA)){if(i.toA<n.fromA)break;n=n.join(i),t.splice(e-1,1)}}return t.splice(e,0,n),t}static extendWithRanges(t,e){if(0==e.length)return t;let n=[];for(let i=0,r=0,s=0,o=0;;i++){let u=i==t.length?null:t[i],a=s-o,h=u?u.fromB:1e9;for(;r<e.length&&e[r]<h;){let t=e[r],i=e[r+1],s=Math.max(o,t),u=Math.min(h,i);if(s<=u&&new Es(s+a,u+a,s,u).addToSet(n),i>h)break;r+=2}if(!u)return n;new Es(u.fromA,u.toA,u.fromB,u.toB).addToSet(n),s=u.toA,o=u.toB}}}class Os{constructor(t,e,n=hs){this.view=t,this.state=e,this.transactions=n,this.flags=0,this.startState=t.state,this.changes=An.empty(this.startState.doc.length);for(let t of n)this.changes=this.changes.compose(t.changes);let i=[];this.changes.iterChangedRanges(((t,e,n,r)=>i.push(new Es(t,e,n,r)))),this.changedRanges=i;let r=t.hasFocus;r!=t.inputState.notifiedFocused&&(t.inputState.notifiedFocused=r,this.flags|=1),this.docChanged&&(this.flags|=2)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(18&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return this.transactions.some((t=>t.docChanged))}get selectionSet(){return this.transactions.some((t=>t.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}class Ss extends kr{constructor(t){super(),this.view=t,this.compositionDeco=Yr.none,this.decorations=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.setDOM(t.contentDOM),this.children=[new rs],this.children[0].setParent(this),this.updateInner([new Es(0,0,0,t.state.doc.length)],this.updateDeco(),0)}get root(){return this.view.root}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(t){let e=t.changedRanges;this.minWidth>0&&e.length&&(e.every((({fromA:t,toA:e})=>e<this.minWidthFrom||t>this.minWidthTo))?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=0),this.view.inputState.composing<0?this.compositionDeco=Yr.none:t.transactions.length&&(this.compositionDeco=function(t,e){let n=t.observer.selectionRange,i=n.focusNode&&Fs(n.focusNode,n.focusOffset,0);if(!i)return Yr.none;let r,s,o=t.docView.nearest(i),u=i;if(o instanceof qr){for(;o.parent instanceof qr;)o=o.parent;r=o.posAtStart,s=r+o.length,u=o.dom}else{if(!(o instanceof rs))return Yr.none;{for(;u.parentNode!=o.dom;)u=u.parentNode;let t=u.previousSibling;for(;t&&!kr.get(t);)t=t.previousSibling;r=s=t?kr.get(t).posAtEnd:o.posAtStart}}let a=e.mapPos(r,1),h=Math.max(a,e.mapPos(s,-1)),c=i.nodeValue,{state:l}=t;if(h-a<c.length)if(l.sliceDoc(a,Math.min(l.doc.length,a+c.length))==c)h=a+c.length;else{if(l.sliceDoc(Math.max(0,h-c.length),h)!=c)return Yr.none;a=h-c.length}else if(l.sliceDoc(a,h)!=c)return Yr.none;return Yr.set(Yr.replace({widget:new Rs(u,i)}).range(a,h))}(this.view,t.changes));let n=($r.ie||$r.chrome)&&!this.compositionDeco.size&&t&&t.state.doc.lines!=t.startState.doc.lines,i=this.decorations,r=this.updateDeco(),s=function(t,e,n){let i=new $s;return Ti.compare(t,e,n,i),i.changes}(i,r,t.changes);e=Es.extendWithRanges(e,s);let o=t.transactions.some((t=>t.isUserEvent("select.pointer")));return 0==this.dirty&&0==e.length&&!(12&t.flags)&&t.state.selection.main.from>=this.view.viewport.from&&t.state.selection.main.to<=this.view.viewport.to?(this.updateSelection(n,o),!1):(this.updateInner(e,r,t.startState.doc.length,n,o),!0)}updateInner(t,e,n,i=!1,r=!1){this.updateChildren(t,e,n);let{observer:s}=this.view;s.ignore((()=>{this.dom.style.height=this.view.viewState.domHeight+"px",this.dom.style.minWidth=this.minWidth?this.minWidth+"px":"";let t=$r.chrome||$r.ios?{node:s.selectionRange.focusNode,written:!1}:void 0;this.sync(t),this.dirty=0,t&&(t.written||s.selectionRange.focusNode!=t.node)&&(i=!0),this.updateSelection(i,r),this.dom.style.height=""}))}updateChildren(t,e,n){let i=this.childCursor(n);for(let n=t.length-1;;n--){let r=n>=0?t[n]:null;if(!r)break;let{fromA:s,toA:o,fromB:u,toB:a}=r,{content:h,breakAtStart:c,openStart:l,openEnd:f}=us.build(this.view.state.doc,u,a,e),{i:d,off:p}=i.findPos(o,1),{i:m,off:v}=i.findPos(s,-1);this.replaceRange(m,v,d,p,h,c,l,f)}}replaceRange(t,e,n,i,r,s,o,u){let a=this.children[t],h=r.length?r[r.length-1]:null,c=h?h.breakAfter:s;if(t==n&&!s&&!c&&r.length<2&&a.merge(e,i,r.length?h:null,0==e,o,u))return;let l=this.children[n];for(i<l.length?(t==n&&(l=l.split(i),i=0),!c&&h&&l.merge(0,i,h,!0,0,u)?r[r.length-1]=l:(i&&l.merge(0,i,null,!1,0,u),r.push(l))):l.breakAfter&&(h?h.breakAfter=1:s=1),n++,a.breakAfter=s,e>0&&(!s&&r.length&&a.merge(e,a.length,r[0],!1,o,0)?a.breakAfter=r.shift().breakAfter:(e<a.length||a.children.length&&0==a.children[a.children.length-1].length)&&a.merge(e,a.length,null,!1,o,0),t++);t<n&&r.length;)if(this.children[n-1].match(r[r.length-1]))n--,r.pop();else{if(!this.children[t].match(r[0]))break;t++,r.shift()}(t<n||r.length)&&this.replaceChildren(t,n,r)}updateSelection(t=!1,e=!1){if(!e&&!this.mayControlSelection()||$r.ios&&this.view.inputState.rapidCompositionStart)return;let n=this.view.state.selection.main,i=this.domAtPos(n.anchor),r=n.empty?i:this.domAtPos(n.head);if($r.gecko&&n.empty&&1==(s=i).node.nodeType&&s.node.firstChild&&(0==s.offset||"false"==s.node.childNodes[s.offset-1].contentEditable)&&(s.offset==s.node.childNodes.length||"false"==s.node.childNodes[s.offset].contentEditable)){let e=document.createTextNode("");this.view.observer.ignore((()=>i.node.insertBefore(e,i.node.childNodes[i.offset]||null))),i=r=new wr(e,0),t=!0}var s;let o=this.view.observer.selectionRange;!t&&o.focusNode&&rr(i.node,i.offset,o.anchorNode,o.anchorOffset)&&rr(r.node,r.offset,o.focusNode,o.focusOffset)||(this.view.observer.ignore((()=>{let t=tr(this.root);if(n.empty){if($r.gecko){let t=(e=i.node,s=i.offset,1!=e.nodeType?0:(s&&"false"==e.childNodes[s-1].contentEditable?1:0)|(s<e.childNodes.length&&"false"==e.childNodes[s].contentEditable?2:0));if(t&&3!=t){let e=Fs(i.node,i.offset,1==t?1:-1);e&&(i=new wr(e,1==t?0:e.nodeValue.length))}}t.collapse(i.node,i.offset),null!=n.bidiLevel&&null!=o.cursorBidiLevel&&(o.cursorBidiLevel=n.bidiLevel)}else if(t.extend)t.collapse(i.node,i.offset),t.extend(r.node,r.offset);else{let e=document.createRange();n.anchor>n.head&&([i,r]=[r,i]),e.setEnd(r.node,r.offset),e.setStart(i.node,i.offset),t.removeAllRanges(),t.addRange(e)}var e,s})),this.view.observer.setSelectionRange(i,r)),this.impreciseAnchor=i.precise?null:new wr(o.anchorNode,o.anchorOffset),this.impreciseHead=r.precise?null:new wr(o.focusNode,o.focusOffset)}enforceCursorAssoc(){if(this.view.composing)return;let t=this.view.state.selection.main,e=tr(this.root);if(!t.empty||!t.assoc||!e.modify)return;let n=rs.find(this,t.head);if(!n)return;let i=n.posAtStart;if(t.head==i||t.head==i+n.length)return;let r=this.coordsAt(t.head,-1),s=this.coordsAt(t.head,1);if(!r||!s||r.bottom>s.top)return;let o=this.domAtPos(t.head+t.assoc);e.collapse(o.node,o.offset),e.modify("move",t.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){return this.view.state.facet(gs)?this.root.activeElement==this.dom:nr(this.dom,this.view.observer.selectionRange)}nearest(t){for(let e=t;e;){let t=kr.get(e);if(t&&t.rootView==this)return t;e=e.parentNode}return null}posFromDOM(t,e){let n=this.nearest(t);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(t,e)+n.posAtStart}domAtPos(t){let{i:e,off:n}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let t=this.children[e];if(n<t.length||t instanceof rs)break;e++,n=0}return this.children[e].domAtPos(n)}coordsAt(t,e){for(let n=this.length,i=this.children.length-1;;i--){let r=this.children[i],s=n-r.breakAfter-r.length;if(t>s||t==s&&r.type!=Xr.WidgetBefore&&r.type!=Xr.WidgetAfter&&(!i||2==e||this.children[i-1].breakAfter||this.children[i-1].type==Xr.WidgetBefore&&e>-2))return r.coordsAt(t-s,e);n=s}}measureVisibleLineHeights(){let t=[],{from:e,to:n}=this.view.viewState.viewport,i=Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1;for(let r=0,s=0;s<this.children.length;s++){let o=this.children[s],u=r+o.length;if(u>n)break;if(r>=e){t.push(o.dom.getBoundingClientRect().height);let e=o.dom.scrollWidth;e>i&&(this.minWidth=i=e,this.minWidthFrom=r,this.minWidthTo=u)}r=u+o.breakAfter}return t}measureTextSize(){for(let t of this.children)if(t instanceof rs){let e=t.measureTextSize();if(e)return e}let t,e,n=document.createElement("div");return n.className="cm-line",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(n);let i=ir(n.firstChild)[0];t=n.getBoundingClientRect().height,e=i?i.width/27:7,n.remove()})),{lineHeight:t,charWidth:e}}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new xr(this.children,t,e)}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let n=0,i=0;;i++){let r=i==e.viewports.length?null:e.viewports[i],s=r?r.from-1:this.length;if(s>n){let i=e.lineAt(s,0).bottom-e.lineAt(n,0).top;t.push(Yr.replace({widget:new Ts(i),block:!0,inclusive:!0}).range(n,s))}if(!r)break;n=r.to+1}return Yr.set(t)}updateDeco(){return this.decorations=[...this.view.pluginField(ws.decorations),...this.view.state.facet(As),this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollPosIntoView(t,e){let n=this.coordsAt(t,e);if(!n)return;let i=0,r=0,s=0,o=0;for(let t of this.view.pluginField(ws.scrollMargins))if(t){let{left:e,right:n,top:u,bottom:a}=t;null!=e&&(i=Math.max(i,e)),null!=n&&(r=Math.max(r,n)),null!=u&&(s=Math.max(s,u)),null!=a&&(o=Math.max(o,a))}!function(t,e){let n=t.ownerDocument.defaultView;for(let i=t.parentNode;i;)if(1==i.nodeType){let t,r=i==document.body;if(r)t=cr(n);else{if(i.scrollHeight<=i.clientHeight&&i.scrollWidth<=i.clientWidth){i=i.parentNode;continue}let e=i.getBoundingClientRect();t={left:e.left,right:e.left+i.clientWidth,top:e.top,bottom:e.top+i.clientHeight}}let s=0,o=0;if(e.top<t.top?o=-(t.top-e.top+5):e.bottom>t.bottom&&(o=e.bottom-t.bottom+5),e.left<t.left?s=-(t.left-e.left+5):e.right>t.right&&(s=e.right-t.right+5),s||o)if(r)n.scrollBy(s,o);else{if(o){let t=i.scrollTop;i.scrollTop+=o,o=i.scrollTop-t}if(s){let t=i.scrollLeft;i.scrollLeft+=s,s=i.scrollLeft-t}e={left:e.left-s,top:e.top-o,right:e.right-s,bottom:e.bottom-o}}if(r)break;i=i.assignedSlot||i.parentNode}else{if(11!=i.nodeType)break;i=i.host}}(this.dom,{left:n.left-i,top:n.top-s,right:n.right+r,bottom:n.bottom+o})}}class Ts extends Kr{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}class Rs extends Kr{constructor(t,e){super(),this.top=t,this.text=e}eq(t){return this.top==t.top&&this.text==t.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return Pr}}function Fs(t,e,n){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0&&n<=0)e=ur(t=t.childNodes[e-1]);else{if(!(1==t.nodeType&&e<t.childNodes.length&&n>=0))return null;t=t.childNodes[e],e=0}}}class $s{constructor(){this.changes=[]}compareRange(t,e){is(t,e,this.changes)}comparePoint(t,e){is(t,e,this.changes)}}var Bs=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(Bs||(Bs={}));const qs=Bs.LTR,Ls=Bs.RTL;function Is(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const zs=Is("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Ns=Is("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Ps=Object.create(null),Us=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);Ps[e]=n,Ps[n]=-e}const Hs=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;class Vs{constructor(t,e,n){this.from=t,this.to=e,this.level=n}get dir(){return this.level%2?Ls:qs}side(t,e){return this.dir==e==t?this.to:this.from}static find(t,e,n,i){let r=-1;for(let s=0;s<t.length;s++){let o=t[s];if(o.from<=e&&o.to>=e){if(o.level==n)return s;(r<0||(0!=i?i<0?o.from<e:o.to>e:t[r].level>o.level))&&(r=s)}}if(r<0)throw new RangeError("Index out of range");return r}}const Js=[];function Gs(t){return[new Vs(0,t,0)]}let Ws="";function Zs(t,e,n,i,r){var s;let o=i.head-t.from,u=-1;if(0==o){if(!r||!t.length)return null;e[0].level!=n&&(o=e[0].side(!1,n),u=0)}else if(o==t.length){if(r)return null;let t=e[e.length-1];t.level!=n&&(o=t.side(!0,n),u=e.length-1)}u<0&&(u=Vs.find(e,o,null!==(s=i.bidiLevel)&&void 0!==s?s:-1,i.assoc));let a=e[u];o==a.side(r,n)&&(a=e[u+=r?1:-1],o=a.side(!r,n));let h=r==(a.dir==n),c=on(t.text,o,h);if(Ws=t.text.slice(Math.min(o,c),Math.max(o,c)),c!=a.side(r,n))return $n.cursor(c+t.from,h?-1:1,a.level);let l=u==(r?e.length-1:0)?null:e[u+(r?1:-1)];return l||a.level==n?l&&l.level<a.level?$n.cursor(l.side(!r,n)+t.from,r?1:-1,l.level):$n.cursor(c+t.from,r?-1:1,a.level):$n.cursor(r?t.to:t.from,r?-1:1,n)}function Ks(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function Xs(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function Ys(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function Qs(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function to(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function eo(t,e,n){let i,r,s,o,u,a,h,c;for(let l=t.firstChild;l;l=l.nextSibling){let t=ir(l);for(let f=0;f<t.length;f++){let d=t[f];r&&Ys(r,d)&&(d=Qs(to(d,r.bottom),r.top));let p=Ks(e,d),m=Xs(n,d);if(0==p&&0==m)return 3==l.nodeType?no(l,e,n):eo(l,e,n);(!i||o>m||o==m&&s>p)&&(i=l,r=d,s=p,o=m),0==p?n>d.bottom&&(!h||h.bottom<d.bottom)?(u=l,h=d):n<d.top&&(!c||c.top>d.top)&&(a=l,c=d):h&&Ys(h,d)?h=to(h,d.bottom):c&&Ys(c,d)&&(c=Qs(c,d.top))}}if(h&&h.bottom>=n?(i=u,r=h):c&&c.top<=n&&(i=a,r=c),!i)return{node:t,offset:0};let l=Math.max(r.left,Math.min(r.right,e));return 3==i.nodeType?no(i,l,n):s||"true"!=i.contentEditable?{node:t,offset:Array.prototype.indexOf.call(t.childNodes,i)+(e>=(r.left+r.right)/2?1:0)}:eo(i,l,n)}function no(t,e,n){let i=t.nodeValue.length,r=-1,s=1e9,o=0;for(let u=0;u<i;u++){let i=mr(t,u,u+1).getClientRects();for(let a=0;a<i.length;a++){let h=i[a];if(h.top==h.bottom)continue;o||(o=e-h.left);let c=(h.top>n?h.top-n:n-h.bottom)-1;if(h.left-1<=e&&h.right+1>=e&&c<s){let n=e>=(h.left+h.right)/2,i=n;if(($r.chrome||$r.gecko)&&mr(t,u).getBoundingClientRect().left==h.right&&(i=!n),c<=0)return{node:t,offset:u+(i?1:0)};r=u+(i?1:0),s=c}}}return{node:t,offset:r>-1?r:o>0?t.nodeValue.length:0}}function io(t,{x:e,y:n},i,r=-1){let s,o=t.contentDOM.getBoundingClientRect(),u=t.defaultLineHeight/2;for(let e=!1;;){if(s=t.blockAtHeight(n,o.top),s.top>n||s.bottom<n){if(r=s.top>n?-1:1,n=Math.min(s.bottom-u,Math.max(s.top+u,n)),e)return i?null:0;e=!0}if(s.type==Xr.Text)break;n=r>0?s.bottom+u:s.top-u}let a=s.from;if(e=Math.max(o.left+1,Math.min(o.right-1,e)),a<t.viewport.from)return 0==t.viewport.from?0:ro(t,o,s,e,n);if(a>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:ro(t,o,s,e,n);let h,c=t.root,l=c.elementFromPoint(e,n),f=-1;if(l&&t.contentDOM.contains(l)&&!(t.docView.nearest(l)instanceof Nr))if(c.caretPositionFromPoint){let t=c.caretPositionFromPoint(e,n);t&&({offsetNode:h,offset:f}=t)}else if(c.caretRangeFromPoint){let t=c.caretRangeFromPoint(e,n);t&&(({startContainer:h,startOffset:f}=t),$r.safari&&function(t,e,n){let i;if(3!=t.nodeType||e!=(i=t.nodeValue.length))return!1;for(let e=t.nextSibling;e;e=e.nextSibling)if(1!=e.nodeType||"BR"!=e.nodeName)return!1;return mr(t,i-1,i).getBoundingClientRect().left>n}(h,f,e)&&(h=void 0))}if(!h||!t.docView.dom.contains(h)){let i=rs.find(t.docView,a);({node:h,offset:f}=eo(i.dom,e,n))}return t.docView.posFromDOM(h,f)}function ro(t,e,n,i,r){let s=Math.round((i-e.left)*t.defaultCharacterWidth);t.lineWrapping&&n.height>1.5*t.defaultLineHeight&&(s+=Math.floor((r-n.top)/t.defaultLineHeight)*t.viewState.heightOracle.lineLength);let o=t.state.sliceDoc(n.from,n.to);return n.from+mn(o,s,t.state.tabSize)}function so(t,e,n,i){let r=t.state.doc.lineAt(e.head),s=t.bidiSpans(r);for(let o=e,u=null;;){let e=Zs(r,s,t.textDirection,o,n),a=Ws;if(!e){if(r.number==(n?t.state.doc.lines:1))return o;a="\n",r=t.state.doc.line(r.number+(n?1:-1)),s=t.bidiSpans(r),e=$n.cursor(n?r.from:r.to)}if(u){if(!u(a))return o}else{if(!i)return e;u=i(a)}o=e}}function oo(t,e,n){let i=t.pluginField(ws.atomicRanges);for(;;){let t=!1;for(let r of i)r.between(n.from-1,n.from+1,((i,r,s)=>{n.from>i&&n.from<r&&(n=e.from>n.from?$n.cursor(i,1):$n.cursor(r,-1),t=!0)}));if(!t)return n}}class uo{constructor(t){this.lastKeyCode=0,this.lastKeyTime=0,this.pendingIOSKey=null,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;for(let e in lo){let n=lo[e];t.contentDOM.addEventListener(e,(i=>{"keydown"==e&&this.keydown(t,i)||co(t,i)&&!this.ignoreDuringComposition(i)&&(this.mustFlushObserver(i)&&t.observer.forceFlush(),this.runCustomHandlers(e,t,i)?i.preventDefault():n(t,i))})),this.registeredEvents.push(e)}this.notifiedFocused=t.hasFocus,this.ensureHandlers(t),$r.safari&&t.contentDOM.addEventListener("input",(()=>null))}setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}ensureHandlers(t){let e=this.customHandlers=t.pluginField(js);for(let n of e)for(let e in n.handlers)this.registeredEvents.indexOf(e)<0&&"scroll"!=e&&(this.registeredEvents.push(e),t.contentDOM.addEventListener(e,(n=>{co(t,n)&&this.runCustomHandlers(e,t,n)&&n.preventDefault()})))}runCustomHandlers(t,e,n){for(let i of this.customHandlers){let r=i.handlers[t],s=!1;if(r){try{s=r.call(i.plugin,n,e)}catch(t){vs(e.state,t)}if(s||n.defaultPrevented)return $r.android&&"keydown"==t&&13==n.keyCode&&e.observer.flushSoon(),!0}}return!1}runScrollHandlers(t,e){for(let n of this.customHandlers){let i=n.handlers.scroll;if(i)try{i.call(n.plugin,e,t)}catch(e){vs(t.state,e)}}}keydown(t,e){return this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),!!this.screenKeyEvent(t,e)||!(!$r.ios||13!=e.keyCode&&8!=e.keyCode||e.ctrlKey||e.altKey||e.metaKey||e.synthetic)&&(this.pendingIOSKey=13==e.keyCode?"enter":"backspace",setTimeout((()=>this.flushIOSKey(t)),250),!0)}flushIOSKey(t){if(!this.pendingIOSKey)return!1;let e=t.contentDOM,n=this.pendingIOSKey;return this.pendingIOSKey=null,"enter"==n?vr(e,"Enter",13):vr(e,"Backspace",8)}ignoreDuringComposition(t){return!!/^key/.test(t.type)&&(this.composing>0||!!($r.safari&&Date.now()-this.compositionEndedAt<500)&&(this.compositionEndedAt=0,!0))}screenKeyEvent(t,e){let n=9==e.keyCode&&Date.now()<this.lastEscPress+2e3;return 27==e.keyCode?this.lastEscPress=Date.now():ao.indexOf(e.keyCode)<0&&(this.lastEscPress=0),n}mustFlushObserver(t){return"keydown"==t.type&&229!=t.keyCode||"compositionend"==t.type&&!$r.ios}startMouseSelection(t,e,n){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=new ho(this,t,e,n)}update(t){this.mouseSelection&&this.mouseSelection.update(t),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const ao=[16,17,18,20,91,92,224,225];class ho{constructor(t,e,n,i){this.inputState=t,this.view=e,this.style=i,this.lastEvent=n;let r=e.contentDOM.ownerDocument;r.addEventListener("mousemove",this.move=this.move.bind(this)),r.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(yi.allowMultipleSelections)&&function(t,e){let n=t.state.facet(cs);return n.length?n[0](e):$r.mac?e.metaKey:e.ctrlKey}(e,n),this.dragMove=function(t,e){let n=t.state.facet(ls);return n.length?n[0](e):$r.mac?!e.altKey:!e.ctrlKey}(e,n),this.dragging=!!function(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let i=tr(t.root);if(0==i.rangeCount)return!0;let r=i.getRangeAt(0).getClientRects();for(let t=0;t<r.length;t++){let n=r[t];if(n.left<=e.clientX&&n.right>=e.clientX&&n.top<=e.clientY&&n.bottom>=e.clientY)return!0}return!1}(e,n)&&null,!1===this.dragging&&(n.preventDefault(),this.select(n))}move(t){if(0==t.buttons)return this.destroy();!1===this.dragging&&this.select(this.lastEvent=t)}up(t){null==this.dragging&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.inputState.mouseSelection=null}select(t){let e=this.style.get(t,this.extend,this.multiple);e.eq(this.view.state.selection)&&e.main.assoc==this.view.state.selection.main.assoc||this.view.dispatch({selection:e,userEvent:"select.pointer",scrollIntoView:!0})}update(t){t.docChanged&&this.dragging&&(this.dragging=this.dragging.map(t.changes)),this.style.update(t)&&setTimeout((()=>this.select(this.lastEvent)),20)}}function co(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n,i=e.target;i!=t.contentDOM;i=i.parentNode)if(!i||11==i.nodeType||(n=kr.get(i))&&n.ignoreEvent(e))return!1;return!0}const lo=Object.create(null),fo=$r.ie&&$r.ie_version<15||$r.ios&&$r.webkit_version<604;function po(t,e){let n,{state:i}=t,r=1,s=i.toText(e),o=s.lines==i.selection.ranges.length;if(Mo&&i.selection.ranges.every((t=>t.empty))&&Mo==s.toString()){let t=-1;n=i.changeByRange((n=>{let u=i.doc.lineAt(n.from);if(u.from==t)return{range:n};t=u.from;let a=i.toText((o?s.line(r++).text:e)+i.lineBreak);return{changes:{from:u.from,insert:a},range:$n.cursor(n.from+a.length)}}))}else n=o?i.changeByRange((t=>{let e=s.line(r++);return{changes:{from:t.from,to:t.to,insert:e.text},range:$n.cursor(t.from+e.length)}})):i.replaceSelection(s);t.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}lo.keydown=(t,e)=>{t.inputState.setSelectionOrigin("select")};let mo=0;function vo(t,e,n,i){if(1==i)return $n.cursor(e,n);if(2==i)return function(t,e,n=1){let i=t.charCategorizer(e),r=t.doc.lineAt(e),s=e-r.from;if(0==r.length)return $n.cursor(e);0==s?n=1:s==r.length&&(n=-1);let o=s,u=s;n<0?o=on(r.text,s,!1):u=on(r.text,s);let a=i(r.text.slice(o,u));for(;o>0;){let t=on(r.text,o,!1);if(i(r.text.slice(t,o))!=a)break;o=t}for(;u<r.length;){let t=on(r.text,u);if(i(r.text.slice(u,t))!=a)break;u=t}return $n.range(o+r.from,u+r.from)}(t.state,e,n);{let n=rs.find(t.docView,e),i=t.state.doc.lineAt(n?n.posAtEnd:e),r=n?n.posAtStart:i.from,s=n?n.posAtEnd:i.to;return s<t.state.doc.length&&s==i.to&&s++,$n.range(r,s)}}lo.touchstart=(t,e)=>{mo=Date.now(),t.inputState.setSelectionOrigin("select.pointer")},lo.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")},lo.mousedown=(t,e)=>{if(t.observer.flush(),mo>Date.now()-2e3)return;let n=null;for(let i of t.state.facet(fs))if(n=i(t,e),n)break;n||0!=e.button||(n=function(t,e){let n=yo(t,e),i=function(t){if(!ko)return t.detail;let e=Do,n=xo;return Do=t,xo=Date.now(),jo=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(jo+1)%3:1}(e),r=t.state.selection,s=n,o=e;return{update(t){t.changes&&(n&&(n.pos=t.changes.mapPos(n.pos)),r=r.map(t.changes),o=null)},get(e,u,a){let h;if(o&&e.clientX==o.clientX&&e.clientY==o.clientY?h=s:(h=s=yo(t,e),o=e),!h||!n)return r;let c=vo(t,h.pos,h.bias,i);if(n.pos!=h.pos&&!u){let e=vo(t,n.pos,n.bias,i),r=Math.min(e.from,c.from),s=Math.max(e.to,c.to);c=r<c.from?$n.range(r,s):$n.range(s,r)}return u?r.replaceRange(r.main.extend(c.from,c.to)):a?r.addRange(c):$n.create([c])}}}(t,e)),n&&(t.root.activeElement!=t.contentDOM&&t.observer.ignore((()=>pr(t.contentDOM))),t.inputState.startMouseSelection(t,e,n))};let go=(t,e)=>t>=e.top&&t<=e.bottom,bo=(t,e,n)=>go(e,n)&&t>=n.left&&t<=n.right;function wo(t,e,n,i){let r=rs.find(t.docView,e);if(!r)return 1;let s=e-r.posAtStart;if(0==s)return 1;if(s==r.length)return-1;let o=r.coordsAt(s,-1);if(o&&bo(n,i,o))return-1;let u=r.coordsAt(s,1);return u&&bo(n,i,u)?1:o&&go(i,o)?-1:1}function yo(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:wo(t,n,e.clientX,e.clientY)}}const ko=$r.ie&&$r.ie_version<=11;let Do=null,jo=0,xo=0;function _o(t,e,n,i){let r=t.posAtCoords({x:e.clientX,y:e.clientY});if(null==r||!n)return;e.preventDefault();let{mouseSelection:s}=t.inputState,o=i&&s&&s.dragging&&s.dragMove?{from:s.dragging.from,to:s.dragging.to}:null,u={from:r,insert:n},a=t.state.changes(o?[o,u]:u);t.focus(),t.dispatch({changes:a,selection:{anchor:a.mapPos(r,-1),head:a.mapPos(r,1)},userEvent:o?"move.drop":"input.drop"})}lo.dragstart=(t,e)=>{let{selection:{main:n}}=t.state,{mouseSelection:i}=t.inputState;i&&(i.dragging=n),e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove")},lo.drop=(t,e)=>{if(!e.dataTransfer||!t.state.facet(gs))return;let n=e.dataTransfer.files;if(n&&n.length){e.preventDefault();let i=Array(n.length),r=0,s=()=>{++r==n.length&&_o(t,e,i.filter((t=>null!=t)).join(t.state.lineBreak),!1)};for(let t=0;t<n.length;t++){let e=new FileReader;e.onerror=s,e.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(e.result)||(i[t]=e.result),s()},e.readAsText(n[t])}}else _o(t,e,e.dataTransfer.getData("Text"),!0)},lo.paste=(t,e)=>{if(!t.state.facet(gs))return;t.observer.flush();let n=fo?null:e.clipboardData,i=n&&n.getData("text/plain");i?(po(t,i),e.preventDefault()):function(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((()=>{t.focus(),n.remove(),po(t,n.value)}),50)}(t)};let Mo=null;function Ao(t,e){if(t.docView.compositionDeco.size){t.inputState.rapidCompositionStart=e;try{t.update([])}finally{t.inputState.rapidCompositionStart=!1}}}lo.copy=lo.cut=(t,e)=>{let{text:n,ranges:i,linewise:r}=function(t){let e=[],n=[],i=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let r=-1;for(let{from:i}of t.selection.ranges){let s=t.doc.lineAt(i);s.number>r&&(e.push(s.text),n.push({from:s.from,to:Math.min(t.doc.length,s.to+1)})),r=s.number}i=!0}return{text:e.join(t.lineBreak),ranges:n,linewise:i}}(t.state);if(!n)return;Mo=r?n:null;let s=fo?null:e.clipboardData;s?(e.preventDefault(),s.clearData(),s.setData("text/plain",n)):function(t,e){let n=t.dom.parentNode;if(!n)return;let i=n.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout((()=>{i.remove(),t.focus()}),50)}(t,n),"cut"==e.type&&t.state.facet(gs)&&t.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})},lo.focus=lo.blur=t=>{setTimeout((()=>{t.hasFocus!=t.inputState.notifiedFocused&&t.update([])}),10)},lo.beforeprint=t=>{t.viewState.printing=!0,t.requestMeasure(),setTimeout((()=>{t.viewState.printing=!1,t.requestMeasure()}),2e3)},lo.compositionstart=lo.compositionupdate=t=>{null==t.inputState.compositionFirstChange&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.docView.compositionDeco.size&&(t.observer.flush(),Ao(t,!0)),t.inputState.composing=0)},lo.compositionend=t=>{t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionFirstChange=null,setTimeout((()=>{t.inputState.composing<0&&Ao(t,!1)}),50)},lo.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};const Co=["pre-wrap","normal","pre-line"];class Eo{constructor(){this.doc=vn.empty,this.lineWrapping=!1,this.direction=Bs.LTR,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(t,e){let n=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(n+=Math.ceil((e-t-n*this.lineLength*.5)/this.lineLength)),this.lineHeight*n}heightForLine(t){return this.lineWrapping?(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(t){return this.doc=t,this}mustRefresh(t,e,n){let i=!1;for(let e=0;e<t.length;e++){let n=t[e];n<0?e++:this.heightSamples[Math.floor(10*n)]||(i=!0,this.heightSamples[Math.floor(10*n)]=!0)}return i||Co.indexOf(e)>-1!=this.lineWrapping||this.direction!=n}refresh(t,e,n,i,r,s){let o=Co.indexOf(t)>-1,u=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=o||this.direction!=e;if(this.lineWrapping=o,this.direction=e,this.lineHeight=n,this.charWidth=i,this.lineLength=r,u){this.heightSamples={};for(let t=0;t<s.length;t++){let e=s[t];e<0?t++:this.heightSamples[Math.floor(10*e)]=!0}}return u}}class Oo{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}}class So{constructor(t,e,n,i,r){this.from=t,this.length=e,this.top=n,this.height=i,this.type=r}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(t){let e=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(t.type)?t.type:[t]);return new So(this.from,this.length+t.length,this.top,this.height+t.height,e)}}var To=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(To||(To={}));class Ro{constructor(t,e,n=2){this.length=t,this.height=e,this.flags=n}get outdated(){return(2&this.flags)>0}set outdated(t){this.flags=(t?2:0)|-3&this.flags}setHeight(t,e){this.height!=e&&(Math.abs(this.height-e)>1e-4&&(t.heightChanged=!0),this.height=e)}replace(t,e,n){return Ro.of(n)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,n,i){let r=this;for(let s=i.length-1;s>=0;s--){let{fromA:o,toA:u,fromB:a,toB:h}=i[s],c=r.lineAt(o,To.ByPosNoHeight,e,0,0),l=c.to>=u?c:r.lineAt(u,To.ByPosNoHeight,e,0,0);for(h+=l.to-u,u=l.to;s>0&&c.from<=i[s-1].toA;)o=i[s-1].fromA,a=i[s-1].fromB,s--,o<c.from&&(c=r.lineAt(o,To.ByPosNoHeight,e,0,0));a+=c.from-o,o=c.from;let f=Io.build(n,t,a,h);r=r.replace(o,u,f)}return r.updateHeight(n,0)}static empty(){return new $o(0,0)}static of(t){if(1==t.length)return t[0];let e=0,n=t.length,i=0,r=0;for(;;)if(e==n)if(i>2*r){let r=t[e-1];r.break?t.splice(--e,1,r.left,null,r.right):t.splice(--e,1,r.left,r.right),n+=1+r.break,i-=r.size}else{if(!(r>2*i))break;{let e=t[n];e.break?t.splice(n,1,e.left,null,e.right):t.splice(n,1,e.left,e.right),n+=2+e.break,r-=e.size}}else if(i<r){let n=t[e++];n&&(i+=n.size)}else{let e=t[--n];e&&(r+=e.size)}let s=0;return null==t[e-1]?(s=1,e--):null==t[e]&&(s=1,n++),new qo(Ro.of(t.slice(0,e)),s,Ro.of(t.slice(n)))}}Ro.prototype.size=1;class Fo extends Ro{constructor(t,e,n){super(t,e),this.type=n}blockAt(t,e,n,i){return new So(i,this.length,n,this.height,this.type)}lineAt(t,e,n,i,r){return this.blockAt(0,n,i,r)}forEachLine(t,e,n,i,r,s){s(this.blockAt(0,n,i,r))}updateHeight(t,e=0,n=!1,i){return i&&i.from<=e&&i.more&&this.setHeight(t,i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class $o extends Fo{constructor(t,e){super(t,e,Xr.Text),this.collapsed=0,this.widgetHeight=0}replace(t,e,n){let i=n[0];return 1==n.length&&(i instanceof $o||i instanceof Bo&&4&i.flags)&&Math.abs(this.length-i.length)<10?(i instanceof Bo?i=new $o(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Ro.of(n)}updateHeight(t,e=0,n=!1,i){return i&&i.from<=e&&i.more?this.setHeight(t,i.heights[i.index++]):(n||this.outdated)&&this.setHeight(t,Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Bo extends Ro{constructor(t){super(t,0)}lines(t,e){let n=t.lineAt(e).number,i=t.lineAt(e+this.length).number;return{firstLine:n,lastLine:i,lineHeight:this.height/(i-n+1)}}blockAt(t,e,n,i){let{firstLine:r,lastLine:s,lineHeight:o}=this.lines(e,i),u=Math.max(0,Math.min(s-r,Math.floor((t-n)/o))),{from:a,length:h}=e.line(r+u);return new So(a,h,n+o*u,o,Xr.Text)}lineAt(t,e,n,i,r){if(e==To.ByHeight)return this.blockAt(t,n,i,r);if(e==To.ByPosNoHeight){let{from:e,to:i}=n.lineAt(t);return new So(e,i-e,0,0,Xr.Text)}let{firstLine:s,lineHeight:o}=this.lines(n,r),{from:u,length:a,number:h}=n.lineAt(t);return new So(u,a,i+o*(h-s),o,Xr.Text)}forEachLine(t,e,n,i,r,s){let{firstLine:o,lineHeight:u}=this.lines(n,r);for(let a=Math.max(t,r),h=Math.min(r+this.length,e);a<=h;){let e=n.lineAt(a);a==t&&(i+=u*(e.number-o)),s(new So(e.from,e.length,i,u,Xr.Text)),i+=u,a=e.to+1}}replace(t,e,n){let i=this.length-e;if(i>0){let t=n[n.length-1];t instanceof Bo?n[n.length-1]=new Bo(t.length+i):n.push(null,new Bo(i-1))}if(t>0){let e=n[0];e instanceof Bo?n[0]=new Bo(t+e.length):n.unshift(new Bo(t-1),null)}return Ro.of(n)}decomposeLeft(t,e){e.push(new Bo(t-1),null)}decomposeRight(t,e){e.push(null,new Bo(this.length-t-1))}updateHeight(t,e=0,n=!1,i){let r=e+this.length;if(i&&i.from<=e+this.length&&i.more){let n=[],s=Math.max(e,i.from);for(i.from>e&&n.push(new Bo(i.from-e-1).updateHeight(t,e));s<=r&&i.more;){let e=t.doc.lineAt(s).length;n.length&&n.push(null);let r=new $o(e,i.heights[i.index++]);r.outdated=!1,n.push(r),s+=e+1}return s<=r&&n.push(null,new Bo(r-s).updateHeight(t,s)),t.heightChanged=!0,Ro.of(n)}return(n||this.outdated)&&(this.setHeight(t,t.heightForGap(e,e+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class qo extends Ro{constructor(t,e,n){super(t.length+e+n.length,t.height+n.height,e|(t.outdated||n.outdated?2:0)),this.left=t,this.right=n,this.size=t.size+n.size}get break(){return 1&this.flags}blockAt(t,e,n,i){let r=n+this.left.height;return t<r||0==this.right.height?this.left.blockAt(t,e,n,i):this.right.blockAt(t,e,r,i+this.left.length+this.break)}lineAt(t,e,n,i,r){let s=i+this.left.height,o=r+this.left.length+this.break,u=e==To.ByHeight?t<s||0==this.right.height:t<o,a=u?this.left.lineAt(t,e,n,i,r):this.right.lineAt(t,e,n,s,o);if(this.break||(u?a.to<o:a.from>o))return a;let h=e==To.ByPosNoHeight?To.ByPosNoHeight:To.ByPos;return u?a.join(this.right.lineAt(o,h,n,s,o)):this.left.lineAt(o,h,n,i,r).join(a)}forEachLine(t,e,n,i,r,s){let o=i+this.left.height,u=r+this.left.length+this.break;if(this.break)t<u&&this.left.forEachLine(t,e,n,i,r,s),e>=u&&this.right.forEachLine(t,e,n,o,u,s);else{let a=this.lineAt(u,To.ByPos,n,i,r);t<a.from&&this.left.forEachLine(t,a.from-1,n,i,r,s),a.to>=t&&a.from<=e&&s(a),e>a.to&&this.right.forEachLine(a.to+1,e,n,o,u,s)}}replace(t,e,n){let i=this.left.length+this.break;if(e<i)return this.balanced(this.left.replace(t,e,n),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-i,e-i,n));let r=[];t>0&&this.decomposeLeft(t,r);let s=r.length;for(let t of n)r.push(t);if(t>0&&Lo(r,s-1),e<this.length){let t=r.length;this.decomposeRight(e,r),Lo(r,t)}return Ro.of(r)}decomposeLeft(t,e){let n=this.left.length;if(t<=n)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(n++,t>=n&&e.push(null)),t>n&&this.right.decomposeLeft(t-n,e)}decomposeRight(t,e){let n=this.left.length,i=n+this.break;if(t>=i)return this.right.decomposeRight(t-i,e);t<n&&this.left.decomposeRight(t,e),this.break&&t<i&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?Ro.of(this.break?[t,null,e]:[t,e]):(this.left=t,this.right=e,this.height=t.height+e.height,this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,n=!1,i){let{left:r,right:s}=this,o=e+r.length+this.break,u=null;return i&&i.from<=e+r.length&&i.more?u=r=r.updateHeight(t,e,n,i):r.updateHeight(t,e,n),i&&i.from<=o+s.length&&i.more?u=s=s.updateHeight(t,o,n,i):s.updateHeight(t,o,n),u?this.balanced(r,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Lo(t,e){let n,i;null==t[e]&&(n=t[e-1])instanceof Bo&&(i=t[e+1])instanceof Bo&&t.splice(e-1,3,new Bo(n.length+1+i.length))}class Io{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let t=Math.min(e,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof $o?n.length+=t-this.pos:(t>this.pos||!this.isCovered)&&this.nodes.push(new $o(t-this.pos,-1)),this.writtenTo=t,e>t&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,n){if(t<e||n.heightRelevant){let i=n.widget?Math.max(0,n.widget.estimatedHeight):0,r=e-t;n.block?this.addBlock(new Fo(r,i,n.type)):(r||i>=5)&&this.addLineDeco(i,r)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new $o(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,e){let n=new Bo(e-t);return this.oracle.doc.lineAt(t).to==e&&(n.flags|=4),n}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof $o)return t;let e=new $o(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine(),t.type!=Xr.WidgetAfter||this.isCovered||this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,t.type!=Xr.WidgetBefore&&(this.covering=t)}addLineDeco(t,e){let n=this.ensureLine();n.length+=e,n.collapsed+=e,n.widgetHeight=Math.max(n.widgetHeight,t),this.writtenTo=this.pos=this.pos+e}finish(t){let e=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||e instanceof $o||this.isCovered?(this.writtenTo<this.pos||null==e)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new $o(0,-1));let n=t;for(let t of this.nodes)t instanceof $o&&t.updateHeight(this.oracle,n),n+=t?t.length:1;return this.nodes}static build(t,e,n,i){let r=new Io(n,t);return Ti.spans(e,n,i,r,0),r.finish(n)}}class zo{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,n,i){(t<e||n&&n.heightRelevant||i&&i.heightRelevant)&&is(t,e,this.changes,5)}}class No{constructor(t,e,n){this.from=t,this.to=e,this.size=n}static same(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let i=t[n],r=e[n];if(i.from!=r.from||i.to!=r.to||i.size!=r.size)return!1}return!0}draw(t){return Yr.replace({widget:new Po(this.size,t)}).range(this.from,this.to)}}class Po extends Kr{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class Uo{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentWidth=0,this.heightOracle=new Eo,this.scaler=Wo,this.scrollTo=null,this.printing=!1,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.heightMap=Ro.empty().applyChanges(t.facet(As),vn.empty,this.heightOracle.setDoc(t.doc),[new Es(0,0,0,t.doc.length)]),this.viewport=this.getViewport(0,null),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Yr.set(this.lineGaps.map((t=>t.draw(!1)))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let n=0;n<=1;n++){let i=n?e.head:e.anchor;if(!t.some((({from:t,to:e})=>i>=t&&i<=e))){let{from:e,to:n}=this.lineAt(i,0);t.push(new Ho(e,n))}}this.viewports=t.sort(((t,e)=>t.from-e.from)),this.scaler=this.heightMap.height<=7e6?Wo:new Zo(this.heightOracle.doc,this.heightMap,this.viewports)}update(t,e=null){let n=this.state;this.state=t.state;let i=this.state.facet(As),r=t.changedRanges,s=Es.extendWithRanges(r,function(t,e,n){let i=new zo;return Ti.compare(t,e,n,i,0),i.changes}(t.startState.facet(As),i,t?t.changes:An.empty(this.state.doc.length))),o=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(i,n.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=o&&(t.flags|=2);let u=s.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.head<u.from||e.head>u.to)||!this.viewportIsAppropriate(u))&&(u=this.getViewport(0,e)),u.eq(this.viewport)||(this.viewport=u,t.flags|=4),this.updateForViewport(),(this.lineGaps.length||this.viewport.to-this.viewport.from>15e3)&&(t.flags|=this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes)))),this.computeVisibleRanges(),e&&(this.scrollTo=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(t,e){let n=t.dom,i="",r=Bs.LTR;if(!e){let t=window.getComputedStyle(n);i=t.whiteSpace,r="rtl"==t.direction?Bs.RTL:Bs.LTR,this.paddingTop=parseInt(t.paddingTop)||0,this.paddingBottom=parseInt(t.paddingBottom)||0}let s=this.printing?{top:-1e8,bottom:1e8,left:-1e8,right:1e8}:function(t,e){let n=t.getBoundingClientRect(),i=Math.max(0,n.left),r=Math.min(innerWidth,n.right),s=Math.max(0,n.top),o=Math.min(innerHeight,n.bottom);for(let e=t.parentNode;e;)if(1==e.nodeType){let t=window.getComputedStyle(e);if((e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)&&"visible"!=t.overflow){let t=e.getBoundingClientRect();i=Math.max(i,t.left),r=Math.min(r,t.right),s=Math.max(s,t.top),o=Math.min(o,t.bottom)}e="absolute"==t.position||"fixed"==t.position?e.offsetParent:e.parentNode}else{if(11!=e.nodeType)break;e=e.host}return{left:i-n.left,right:r-n.left,top:s-(n.top+e),bottom:o-(n.top+e)}}(n,this.paddingTop),o=s.top-this.pixelViewport.top,u=s.bottom-this.pixelViewport.bottom;if(this.pixelViewport=s,this.inView=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left,!this.inView)return 0;let a=t.measureVisibleLineHeights(),h=!1,c=0,l=0,f=this.heightOracle;if(!e){let e=t.dom.clientWidth;if(f.mustRefresh(a,i,r)||f.lineWrapping&&Math.abs(e-this.contentWidth)>f.charWidth){let{lineHeight:n,charWidth:s}=t.measureTextSize();h=f.refresh(i,r,n,s,e/s,a),h&&(t.minWidth=0,l|=16)}this.contentWidth!=e&&(this.contentWidth=e,l|=16),o>0&&u>0?c=Math.max(o,u):o<0&&u<0&&(c=Math.min(o,u))}if(f.heightChanged=!1,this.heightMap=this.heightMap.updateHeight(f,0,h,new Oo(this.viewport.from,a)),f.heightChanged&&(l|=2),!this.viewportIsAppropriate(this.viewport,c)||this.scrollTo&&(this.scrollTo.head<this.viewport.from||this.scrollTo.head>this.viewport.to)){let t=this.getViewport(c,this.scrollTo);t.from==this.viewport.from&&t.to==this.viewport.to||(this.viewport=t,l|=4)}return this.updateForViewport(),(this.lineGaps.length||this.viewport.to-this.viewport.from>15e3)&&(l|=this.updateLineGaps(this.ensureLineGaps(h?[]:this.lineGaps))),this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.enforceCursorAssoc()),l}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top,0)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom,0)}getViewport(t,e){let n=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),i=this.heightMap,r=this.state.doc,{visibleTop:s,visibleBottom:o}=this,u=new Ho(i.lineAt(s-1e3*n,To.ByHeight,r,0,0).from,i.lineAt(o+1e3*(1-n),To.ByHeight,r,0,0).to);if(e)if(e.head<u.from){let{top:t}=i.lineAt(e.head,To.ByPos,r,0,0);u=new Ho(i.lineAt(t-500,To.ByHeight,r,0,0).from,i.lineAt(t+(o-s)+500,To.ByHeight,r,0,0).to)}else if(e.head>u.to){let{bottom:t}=i.lineAt(e.head,To.ByPos,r,0,0);u=new Ho(i.lineAt(t-(o-s)-500,To.ByHeight,r,0,0).from,i.lineAt(t+500,To.ByHeight,r,0,0).to)}return u}mapViewport(t,e){let n=e.mapPos(t.from,-1),i=e.mapPos(t.to,1);return new Ho(this.heightMap.lineAt(n,To.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(i,To.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:t,to:e},n=0){let{top:i}=this.heightMap.lineAt(t,To.ByPos,this.state.doc,0,0),{bottom:r}=this.heightMap.lineAt(e,To.ByPos,this.state.doc,0,0),{visibleTop:s,visibleBottom:o}=this;return(0==t||i<=s-Math.max(10,Math.min(-n,250)))&&(e==this.state.doc.length||r>=o+Math.max(10,Math.min(n,250)))&&i>s-2e3&&r<o+2e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let n=[];for(let i of t)e.touchesRange(i.from,i.to)||n.push(new No(e.mapPos(i.from),e.mapPos(i.to),i.size));return n}ensureLineGaps(t){let e=[];return this.heightOracle.direction!=Bs.LTR||this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,(n=>{if(n.length<1e4)return;let i,r,s=function(t,e,n){let i=[],r=t,s=0;return Ti.spans(n.facet(As),t,e,{span(){},point(t,e){t>r&&(i.push({from:r,to:t}),s+=t-r),r=e}},20),r<e&&(i.push({from:r,to:e}),s+=e-r),{total:s,ranges:i}}(n.from,n.to,this.state);if(s.total<1e4)return;if(this.heightOracle.lineWrapping)i=n.from!=this.viewport.from?n.from:Vo(s,(this.visibleTop-n.top)/n.height),r=n.to!=this.viewport.to?n.to:Vo(s,(this.visibleBottom-n.top)/n.height);else{let t=s.total*this.heightOracle.charWidth;i=Vo(s,this.pixelViewport.left/t),r=Vo(s,this.pixelViewport.right/t)}let o=this.state.selection.main;o.from<=i&&o.to>=n.from&&(i=o.from),o.from<=n.to&&o.to>=r&&(r=o.to);let u=i-1e4,a=r+1e4;u>n.from+5e3&&e.push(Go(t,(t=>t.from==n.from&&t.to>u-5e3&&t.to<u+5e3))||new No(n.from,u,this.gapSize(n,u,!0,s))),a<n.to-5e3&&e.push(Go(t,(t=>t.to==n.to&&t.from>a-5e3&&t.from<a+5e3))||new No(a,n.to,this.gapSize(n,a,!1,s)))})),e}gapSize(t,e,n,i){if(this.heightOracle.lineWrapping){let r=t.height*Jo(i,e);return n?r:t.height-r}{let t=Jo(i,e);return i.total*this.heightOracle.charWidth*(n?t:1-t)}}updateLineGaps(t){return No.same(t,this.lineGaps)?0:(this.lineGaps=t,this.lineGapDeco=Yr.set(t.map((t=>t.draw(this.heightOracle.lineWrapping)))),8)}computeVisibleRanges(){let t=this.state.facet(As);this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let e=[];Ti.spans(t,this.viewport.from,this.viewport.to,{span(t,n){e.push({from:t,to:n})},point(){}},20),this.visibleRanges=e}lineAt(t,e){return e+=this.paddingTop,Ko(this.heightMap.lineAt(t,To.ByPos,this.state.doc,e,0),this.scaler,e)}lineAtHeight(t,e){return e+=this.paddingTop,Ko(this.heightMap.lineAt(this.scaler.fromDOM(t,e),To.ByHeight,this.state.doc,e,0),this.scaler,e)}blockAtHeight(t,e){return e+=this.paddingTop,Ko(this.heightMap.blockAt(this.scaler.fromDOM(t,e),this.state.doc,e,0),this.scaler,e)}forEachLine(t,e,n,i){return i+=this.paddingTop,this.heightMap.forEachLine(t,e,this.state.doc,i,0,1==this.scaler.scale?n:t=>n(Ko(t,this.scaler,i)))}get contentHeight(){return this.domHeight+this.paddingTop+this.paddingBottom}get domHeight(){return this.scaler.toDOM(this.heightMap.height,this.paddingTop)}}class Ho{constructor(t,e){this.from=t,this.to=e}eq(t){return this.from==t.from&&this.to==t.to}}function Vo({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let i=Math.floor(t*n);for(let t=0;;t++){let{from:n,to:r}=e[t],s=r-n;if(i<=s)return n+i;i-=s}}function Jo(t,e){let n=0;for(let{from:i,to:r}of t.ranges){if(e<=r){n+=e-i;break}n+=r-i}return n/t.total}function Go(t,e){for(let n of t)if(e(n))return n}const Wo={toDOM:t=>t,fromDOM:t=>t,scale:1};class Zo{constructor(t,e,n){let i=0,r=0,s=0;this.viewports=n.map((({from:n,to:r})=>{let s=e.lineAt(n,To.ByPos,t,0,0).top,o=e.lineAt(r,To.ByPos,t,0,0).bottom;return i+=o-s,{from:n,to:r,top:s,bottom:o,domTop:0,domBottom:0}})),this.scale=(7e6-i)/(e.height-i);for(let t of this.viewports)t.domTop=s+(t.top-r)*this.scale,s=t.domBottom=t.domTop+(t.bottom-t.top),r=t.bottom}toDOM(t,e){t-=e;for(let n=0,i=0,r=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||t<s.top)return r+(t-i)*this.scale+e;if(t<=s.bottom)return s.domTop+(t-s.top)+e;i=s.bottom,r=s.domBottom}}fromDOM(t,e){t-=e;for(let n=0,i=0,r=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||t<s.domTop)return i+(t-r)/this.scale+e;if(t<=s.domBottom)return s.top+(t-s.domTop)+e;i=s.bottom,r=s.domBottom}}}function Ko(t,e,n){if(1==e.scale)return t;let i=e.toDOM(t.top,n),r=e.toDOM(t.bottom,n);return new So(t.from,t.length,i,r-i,Array.isArray(t.type)?t.type.map((t=>Ko(t,e,n))):t.type)}const Xo=In.define({combine:t=>t.join(" ")}),Yo=In.define({combine:t=>t.indexOf(!0)>-1}),Qo=_i.newName(),tu=_i.newName(),eu=_i.newName(),nu={"&light":"."+tu,"&dark":"."+eu};function iu(t,e,n){return new _i(e,{finish:e=>/&/.test(e)?e.replace(/&\w*/,(e=>{if("&"==e)return t;if(!n||!n[e])throw new RangeError(`Unsupported selector: ${e}`);return n[e]})):t+" "+e})}const ru=iu("."+Qo,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none"},".cm-lineWrapping":{whiteSpace:"pre-wrap",wordBreak:"break-word",overflowWrap:"anywhere"},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},".cm-cursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none",display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-placeholder":{color:"#888",display:"inline-block"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"3px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},nu),su={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},ou=$r.ie&&$r.ie_version<=11;class uu{constructor(t,e,n){this.view=t,this.onChange=e,this.onScrollChanged=n,this.active=!1,this.ignoreSelection=new lr,this.delayedFlush=-1,this.queue=[],this.lastFlush=0,this.scrollTargets=[],this.intersection=null,this.intersecting=!1,this._selectionRange=null,this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver((e=>{for(let t of e)this.queue.push(t);this._selectionRange=null,($r.ie&&$r.ie_version<=11||$r.ios&&t.composing)&&e.some((t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length))?this.flushSoon():this.flush()})),ou&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.start(),this.onScroll=this.onScroll.bind(this),window.addEventListener("scroll",this.onScroll),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{}),this.intersection.observe(this.dom)),this.listenForScroll()}onScroll(t){this.intersecting&&this.flush(),this.onScrollChanged(t)}onSelectionChange(t){this.lastFlush<Date.now()-50&&(this._selectionRange=null);let{view:e}=this,n=this.selectionRange;if(e.state.facet(gs)?e.root.activeElement!=this.dom:!nr(e.dom,n))return;let i=n.anchorNode&&e.docView.nearest(n.anchorNode);i&&i.ignoreEvent(t)||($r.ie&&$r.ie_version<=11&&!e.state.selection.main.empty&&n.focusNode&&rr(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush())}get selectionRange(){if(!this._selectionRange){let{root:t}=this.view,e=tr(t);$r.safari&&11==t.nodeType&&function(){let t=document.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}()==this.view.contentDOM&&(e=function(t){let e=null;function n(t){t.preventDefault(),t.stopImmediatePropagation(),e=t.getTargetRanges()[0]}if(t.contentDOM.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",n,!0),!e)return null;let i=e.startContainer,r=e.startOffset,s=e.endContainer,o=e.endOffset,u=t.docView.domAtPos(t.state.selection.main.anchor);return rr(u.node,u.offset,s,o)&&([i,r,s,o]=[s,o,i,r]),{anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:o}}(this.view)||e),this._selectionRange=e}return this._selectionRange}setSelectionRange(t,e){var n;(null===(n=this._selectionRange)||void 0===n?void 0:n.type)||(this._selectionRange={anchorNode:t.node,anchorOffset:t.offset,focusNode:e.node,focusOffset:e.offset})}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let n=this.dom;n;)if(1==n.nodeType)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==n?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);for(let t of this.scrollTargets=e)t.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,su),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange),ou&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),ou&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clearSelection(){this.ignoreSelection.set(this.selectionRange)}clear(){this.observer.takeRecords(),this.queue.length=0,this.clearSelection()}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout((()=>{this.delayedFlush=-1,this.flush()}),20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1,this.flush())}flush(){if(this.delayedFlush>=0)return;this.lastFlush=Date.now();let t=this.queue;for(let e of this.observer.takeRecords())t.push(e);t.length&&(this.queue=[]);let e=this.selectionRange,n=!this.ignoreSelection.eq(e)&&nr(this.dom,e);if(0==t.length&&!n)return;let i=-1,r=-1,s=!1;for(let e of t){let t=this.readMutation(e);t&&(t.typeOver&&(s=!0),-1==i?({from:i,to:r}=t):(i=Math.min(t.from,i),r=Math.max(t.to,r)))}let o=this.view.state;(i>-1||n)&&this.onChange(i,r,s),this.view.state==o&&(this.view.docView.dirty&&(this.ignore((()=>this.view.docView.sync())),this.view.docView.dirty=0),n&&this.view.docView.updateSelection()),this.clearSelection()}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty("attributes"==t.type),"attributes"==t.type&&(e.dirty|=4),"childList"==t.type){let n=au(e,t.previousSibling||t.target.previousSibling,-1),i=au(e,t.nextSibling||t.target.nextSibling,1);return{from:n?e.posAfter(n):e.posAtStart,to:i?e.posBefore(i):e.posAtEnd,typeOver:!1}}return"characterData"==t.type?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}destroy(){this.stop(),this.intersection&&this.intersection.disconnect();for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);window.removeEventListener("scroll",this.onScroll),clearTimeout(this.parentCheck)}}function au(t,e,n){for(;e;){let i=kr.get(e);if(i&&i.parent==t)return i;let r=e.parentNode;e=r!=t.dom?r:n>0?e.nextSibling:e.previousSibling}return null}class hu{constructor(t,e){this.points=t,this.view=e,this.text="",this.lineBreak=e.state.lineBreak}readRange(t,e){if(!t)return;let n=t.parentNode;for(let i=t;;){this.findPointBefore(n,i),this.readNode(i);let t=i.nextSibling;if(t==e)break;let r=kr.get(i),s=kr.get(t);((r?r.breakAfter:cu(i))||(s?s.breakAfter:cu(t))&&("BR"!=i.nodeName||i.cmIgnore))&&(this.text+=this.lineBreak),i=t}this.findPointBefore(n,e)}readNode(t){if(t.cmIgnore)return;let e,n=kr.get(t),i=n&&n.overrideDOMText;null!=i?e=i.sliceString(0,void 0,this.lineBreak):3==t.nodeType?e=t.nodeValue:"BR"==t.nodeName?e=t.nextSibling?this.lineBreak:"":1==t.nodeType&&this.readRange(t.firstChild,null),null!=e&&(this.findPointIn(t,e.length),this.text+=e,$r.chrome&&13==this.view.inputState.lastKeyCode&&!t.nextSibling&&/\n\n$/.test(this.text)&&(this.text=this.text.slice(0,-1)))}findPointBefore(t,e){for(let n of this.points)n.node==t&&t.childNodes[n.offset]==e&&(n.pos=this.text.length)}findPointIn(t,e){for(let n of this.points)n.node==t&&(n.pos=this.text.length+Math.min(n.offset,e))}}function cu(t){return 1==t.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}class lu{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}}class fu{constructor(t={}){this.plugins=[],this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=t.dispatch||(t=>this.update([t])),this.dispatch=this.dispatch.bind(this),this.root=t.root||document,this.viewState=new Uo(t.state||yi.create()),this.plugins=this.state.facet(ks).map((t=>new xs(t).update(this))),this.observer=new uu(this,((t,e,n)=>{!function(t,e,n,i){let r,s,o,u=t.state.selection.main;if(e>-1&&(o=t.docView.domBoundsAround(e,n,0))){let{from:e,to:n}=o,i=t.docView.impreciseHead||t.docView.impreciseAnchor?[]:function(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:s}=t.observer.selectionRange;return n&&(e.push(new lu(n,i)),r==n&&s==i||e.push(new lu(r,s))),e}(t),a=new hu(i,t);a.readRange(o.startDOM,o.endDOM),s=function(t,e){if(0==t.length)return null;let n=t[0].pos,i=2==t.length?t[1].pos:n;return n>-1&&i>-1?$n.single(n+e,i+e):null}(i,e);let h=u.from,c=null;(8===t.inputState.lastKeyCode&&t.inputState.lastKeyTime>Date.now()-100||$r.android&&a.text.length<n-e)&&(h=u.to,c="end");let l=function(t,e,n,i){let r=Math.min(t.length,e.length),s=0;for(;s<r&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==r&&t.length==e.length)return null;let o=t.length,u=e.length;for(;o>0&&u>0&&t.charCodeAt(o-1)==e.charCodeAt(u-1);)o--,u--;return"end"==i&&(n-=o+Math.max(0,s-Math.min(o,u))-s),o<s&&t.length<e.length?(s-=n<=s&&n>=o?s-n:0,u=s+(u-o),o=s):u<s&&(s-=n<=s&&n>=u?s-n:0,o=s+(o-u),u=s),{from:s,toA:o,toB:u}}(t.state.sliceDoc(e,n),a.text,h-e,c);l&&(r={from:e+l.from,to:e+l.toA,insert:t.state.toText(a.text.slice(l.from,l.toB))})}else if(t.hasFocus||!t.state.facet(gs)){let e=t.observer.selectionRange,{impreciseHead:n,impreciseAnchor:i}=t.docView,r=n&&n.node==e.focusNode&&n.offset==e.focusOffset||!er(t.contentDOM,e.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(e.focusNode,e.focusOffset),o=i&&i.node==e.anchorNode&&i.offset==e.anchorOffset||!er(t.contentDOM,e.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(e.anchorNode,e.anchorOffset);r==u.head&&o==u.anchor||(s=$n.single(o,r))}if(r||s)if(!r&&i&&!u.empty&&s&&s.main.empty?r={from:u.from,to:u.to,insert:t.state.doc.slice(u.from,u.to)}:r&&r.from>=u.from&&r.to<=u.to&&(r.from!=u.from||r.to!=u.to)&&u.to-u.from-(r.to-r.from)<=4&&(r={from:u.from,to:u.to,insert:t.state.doc.slice(u.from,r.from).append(r.insert).append(t.state.doc.slice(r.to,u.to))}),r){let e=t.state;if($r.android&&(r.from==u.from&&r.to==u.to&&1==r.insert.length&&2==r.insert.lines&&vr(t.contentDOM,"Enter",13)||r.from==u.from-1&&r.to==u.to&&0==r.insert.length&&vr(t.contentDOM,"Backspace",8)||r.from==u.from&&r.to==u.to+1&&0==r.insert.length&&vr(t.contentDOM,"Delete",46))||$r.ios&&t.inputState.flushIOSKey(t))return;let n,i=r.insert.toString();if(t.state.facet(ms).some((e=>e(t,r.from,r.to,i))))return;if(t.inputState.composing>=0&&t.inputState.composing++,r.from>=u.from&&r.to<=u.to&&r.to-r.from>=(u.to-u.from)/3&&(!s||s.main.empty&&s.main.from==r.from+r.insert.length)){let i=u.from<r.from?e.sliceDoc(u.from,r.from):"",s=u.to>r.to?e.sliceDoc(r.to,u.to):"";n=e.replaceSelection(t.state.toText(i+r.insert.sliceString(0,void 0,t.state.lineBreak)+s))}else{let t=e.changes(r);n={changes:t,selection:s&&!e.selection.main.eq(s.main)&&s.main.to<=t.newLength?e.selection.replaceRange(s.main):void 0}}let o="input.type";t.composing&&(o+=".compose",t.inputState.compositionFirstChange&&(o+=".start",t.inputState.compositionFirstChange=!1)),t.dispatch(n,{scrollIntoView:!0,userEvent:o})}else if(s&&!s.main.eq(u)){let e=!1,n="select";t.inputState.lastSelectionTime>Date.now()-50&&("select"==t.inputState.lastSelectionOrigin&&(e=!0),n=t.inputState.lastSelectionOrigin),t.dispatch({selection:s,scrollIntoView:e,userEvent:n})}}(this,t,e,n)}),(t=>{this.inputState.runScrollHandlers(this,t),this.observer.intersecting&&this.measure()})),this.inputState=new uo(this),this.docView=new Ss(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,window.addEventListener("resize",(()=>{-1==mu&&(mu=setTimeout(vu,50))})),this.requestMeasure(),t.parent&&t.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}dispatch(...t){this._dispatch(1==t.length&&t[0]instanceof ci?t[0]:this.state.update(...t))}update(t){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let e,n,i=!1,r=this.state;for(let e of t){if(e.startState!=r)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");r=e.state}if(r.facet(yi.phrases)!=this.state.facet(yi.phrases))return this.setState(r);e=new Os(this,r,t);try{this.updateState=2,n=t.some((t=>t.scrollIntoView))?r.selection.main:null,this.viewState.update(e,n),this.bidiCache=bu.update(this.bidiCache,e.changes),e.empty||(this.updatePlugins(e),this.inputState.update(e)),i=this.docView.update(e),this.state.facet(Cs)!=this.styleModules&&this.mountStyles(),this.updateAttrs(),this.showAnnouncements(t)}finally{this.updateState=0}if((i||n||this.viewState.mustEnforceCursorAssoc)&&this.requestMeasure(),!e.empty)for(let t of this.state.facet(ps))t(e)}setState(t){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");this.updateState=2;try{for(let t of this.plugins)t.destroy(this);this.viewState=new Uo(t),this.plugins=t.facet(ks).map((t=>new xs(t).update(this))),this.docView=new Ss(this),this.inputState.ensureHandlers(this),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}this.requestMeasure()}updatePlugins(t){let e=t.startState.facet(ks),n=t.state.facet(ks);if(e!=n){let i=[];for(let r of n){let n=e.indexOf(r);if(n<0)i.push(new xs(r));else{let e=this.plugins[n];e.mustUpdate=t,i.push(e)}}for(let e of this.plugins)e.mustUpdate!=t&&e.destroy(this);this.plugins=i,this.inputState.ensureHandlers(this)}else for(let e of this.plugins)e.mustUpdate=t;for(let t=0;t<this.plugins.length;t++)this.plugins[t]=this.plugins[t].update(this)}measure(t=!0){this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=-1,t&&this.observer.flush();let e=null;try{for(let n=0;;n++){this.updateState=1;let i=this.viewState.measure(this.docView,n>0),r=this.measureRequests;if(!i&&!r.length&&null==this.viewState.scrollTo)break;if(this.measureRequests=[],n>5){console.warn("Viewport failed to stabilize");break}let s=r.map((t=>{try{return t.read(this)}catch(t){return vs(this.state,t),gu}})),o=new Os(this,this.state);o.flags|=i,e?e.flags|=i:e=o,this.updateState=2,o.empty||(this.updatePlugins(o),this.inputState.update(o)),this.updateAttrs(),i&&this.docView.update(o);for(let e=0;e<r.length;e++)if(s[e]!=gu)try{r[e].write(s[e],this)}catch(t){vs(this.state,t)}if(this.viewState.scrollTo&&(this.docView.scrollPosIntoView(this.viewState.scrollTo.head,this.viewState.scrollTo.assoc),this.viewState.scrollTo=null),!(4&i)&&0==this.measureRequests.length)break}}finally{this.updateState=0}if(this.measureScheduled=-1,e&&!e.empty)for(let t of this.state.facet(ps))t(e)}get themeClasses(){return Qo+" "+(this.state.facet(Yo)?eu:tu)+" "+this.state.facet(Xo)}updateAttrs(){let t=Gr(this.state.facet(_s),{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses});Zr(this.dom,this.editorAttrs,t),this.editorAttrs=t;let e=Gr(this.state.facet(Ms),{spellcheck:"false",autocorrect:"off",autocapitalize:"off",contenteditable:this.state.facet(gs)?br()?"plaintext-only":"true":"false",class:"cm-content",style:`${$r.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"});Zr(this.contentDOM,this.contentAttrs,e),this.contentAttrs=e}showAnnouncements(t){let e=!0;for(let n of t)for(let t of n.effects)t.is(fu.announce)&&(e&&(this.announceDOM.textContent=""),e=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=t.value)}mountStyles(){this.styleModules=this.state.facet(Cs),_i.mount(this.root,this.styleModules.concat(ru).reverse())}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame((()=>this.measure()))),t){if(null!=t.key)for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key)return void(this.measureRequests[e]=t);this.measureRequests.push(t)}}pluginField(t){let e=[];for(let n of this.plugins)n.update(this).takeField(t,e);return e}plugin(t){for(let e of this.plugins)if(e.spec==t)return e.update(this).value;return null}blockAtHeight(t,e){return this.readMeasured(),this.viewState.blockAtHeight(t,pu(e,this.contentDOM))}visualLineAtHeight(t,e){return this.readMeasured(),this.viewState.lineAtHeight(t,pu(e,this.contentDOM))}viewportLines(t,e){let{from:n,to:i}=this.viewport;this.viewState.forEachLine(n,i,t,pu(e,this.contentDOM))}visualLineAt(t,e=0){return this.viewState.lineAt(t,e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,e,n){return oo(this,t,so(this,t,e,n))}moveByGroup(t,e){return oo(this,t,so(this,t,e,(e=>function(t,e,n){let i=t.state.charCategorizer(e),r=i(n);return t=>{let e=i(t);return r==gi.Space&&(r=e),r==e}}(this,t.head,e))))}moveToLineBoundary(t,e,n=!0){return function(t,e,n,i){let r=t.state.doc.lineAt(e.head),s=i&&t.lineWrapping?t.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head):null;if(s){let e=t.dom.getBoundingClientRect(),i=t.posAtCoords({x:n==(t.textDirection==Bs.LTR)?e.right-1:e.left+1,y:(s.top+s.bottom)/2});if(null!=i)return $n.cursor(i,n?-1:1)}let o=rs.find(t.docView,e.head),u=o?n?o.posAtEnd:o.posAtStart:n?r.to:r.from;return $n.cursor(u,n?-1:1)}(this,t,e,n)}moveVertically(t,e,n){return oo(this,t,function(t,e,n,i){let r=e.head,s=n?1:-1;if(r==(n?t.state.doc.length:0))return $n.cursor(r);let o,u=e.goalColumn,a=t.contentDOM.getBoundingClientRect(),h=t.coordsAtPos(r);if(h)null==u&&(u=h.left-a.left),o=s<0?h.top:h.bottom;else{let e=t.viewState.lineAt(r,t.dom.getBoundingClientRect().top);null==u&&(u=Math.min(a.right-a.left,t.defaultCharacterWidth*(r-e.from))),o=s<0?e.top:e.bottom}let c=a.left+u,l=null!=i?i:t.defaultLineHeight>>1;for(let e=0;;e+=10){let n=o+(l+e)*s,i=io(t,{x:c,y:n},!1,s);if(n<a.top||n>a.bottom||(s<0?i<r:i>r))return $n.cursor(i,void 0,void 0,u)}}(this,t,e,n))}scrollPosIntoView(t){this.viewState.scrollTo=$n.cursor(t),this.requestMeasure()}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}posAtCoords(t,e=!0){return this.readMeasured(),io(this,t,e)}coordsAtPos(t,e=1){this.readMeasured();let n=this.docView.coordsAt(t,e);if(!n||n.left==n.right)return n;let i=this.state.doc.lineAt(t),r=this.bidiSpans(i);return hr(n,r[Vs.find(r,t-i.from,-1,e)].dir==Bs.LTR==e>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.heightOracle.direction}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>du)return Gs(t.length);let e=this.textDirection;for(let n of this.bidiCache)if(n.from==t.from&&n.dir==e)return n.order;let n=function(t,e){let n=t.length,i=e==qs?1:2,r=e==qs?2:1;if(!t||1==i&&!Hs.test(t))return Gs(n);for(let e=0,r=i,o=i;e<n;e++){let n=(s=t.charCodeAt(e))<=247?zs[s]:1424<=s&&s<=1524?2:1536<=s&&s<=1785?Ns[s-1536]:1774<=s&&s<=2220?4:8192<=s&&s<=8203||8204==s?256:1;512==n?n=r:8==n&&4==o&&(n=16),Js[e]=4==n?2:n,7&n&&(o=n),r=n}var s;for(let t=0,e=i,r=i;t<n;t++){let i=Js[t];if(128==i)t<n-1&&e==Js[t+1]&&24&e?i=Js[t]=e:Js[t]=256;else if(64==i){let i=t+1;for(;i<n&&64==Js[i];)i++;let s=t&&8==e||i<n&&8==Js[i]?1==r?1:8:256;for(let e=t;e<i;e++)Js[e]=s;t=i-1}else 8==i&&1==r&&(Js[t]=1);e=i,7&i&&(r=i)}for(let e,s,o,u=0,a=0,h=0;u<n;u++)if(s=Ps[e=t.charCodeAt(u)])if(s<0){for(let t=a-3;t>=0;t-=3)if(Us[t+1]==-s){let e=Us[t+2],n=2&e?i:4&e?1&e?r:i:0;n&&(Js[u]=Js[Us[t]]=n),a=t;break}}else{if(189==Us.length)break;Us[a++]=u,Us[a++]=e,Us[a++]=h}else if(2==(o=Js[u])||1==o){let t=o==i;h=t?0:1;for(let e=a-3;e>=0;e-=3){let n=Us[e+2];if(2&n)break;if(t)Us[e+2]|=2;else{if(4&n)break;Us[e+2]|=4}}}for(let t=0;t<n;t++)if(256==Js[t]){let e=t+1;for(;e<n&&256==Js[e];)e++;let r=1==(t?Js[t-1]:i),s=r==(1==(e<n?Js[e]:i))?r?1:2:i;for(let n=t;n<e;n++)Js[n]=s;t=e-1}let o=[];if(1==i)for(let t=0;t<n;){let e=t,i=1!=Js[t++];for(;t<n&&i==(1!=Js[t]);)t++;if(i)for(let n=t;n>e;){let t=n,i=2!=Js[--n];for(;n>e&&i==(2!=Js[n-1]);)n--;o.push(new Vs(n,t,i?2:1))}else o.push(new Vs(e,t,0))}else for(let t=0;t<n;){let e=t,i=2==Js[t++];for(;t<n&&i==(2==Js[t]);)t++;o.push(new Vs(e,t,i?1:2))}return o}(t.text,this.textDirection);return this.bidiCache.push(new bu(t.from,t.to,e,n)),n}get hasFocus(){var t;return(document.hasFocus()||$r.safari&&(null===(t=this.inputState)||void 0===t?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{pr(this.contentDOM),this.docView.updateSelection()}))}destroy(){for(let t of this.plugins)t.destroy(this);this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled)}static domEventHandlers(t){return Ds.define((()=>({})),{eventHandlers:t})}static theme(t,e){let n=_i.newName(),i=[Xo.of(n),Cs.of(iu(`.${n}`,t))];return e&&e.dark&&i.push(Yo.of(!0)),i}static baseTheme(t){return Gn.fallback(Cs.of(iu("."+Qo,t,nu)))}}fu.styleModule=Cs,fu.inputHandler=ms,fu.exceptionSink=ds,fu.updateListener=ps,fu.editable=gs,fu.mouseSelectionStyle=fs,fu.dragMovesSelection=ls,fu.clickAddsSelectionRange=cs,fu.decorations=As,fu.contentAttributes=Ms,fu.editorAttributes=_s,fu.lineWrapping=fu.contentAttributes.of({class:"cm-lineWrapping"}),fu.announce=hi.define();const du=4096;function pu(t,e){return null==t?e.getBoundingClientRect().top:t}let mu=-1;function vu(){mu=-1;let t=document.querySelectorAll(".cm-content");for(let e=0;e<t.length;e++){let n=kr.get(t[e]);n&&n.editorView.requestMeasure()}}const gu={};class bu{constructor(t,e,n,i){this.from=t,this.to=e,this.dir=n,this.order=i}static update(t,e){if(e.empty)return t;let n=[],i=t.length?t[t.length-1].dir:Bs.LTR;for(let r=Math.max(0,t.length-10);r<t.length;r++){let s=t[r];s.dir!=i||e.touchesRange(s.from,s.to)||n.push(new bu(e.mapPos(s.from,1),e.mapPos(s.to,-1),s.dir,s.order))}return n}}const wu="undefined"==typeof navigator?"key":/Mac/.test(navigator.platform)?"mac":/Win/.test(navigator.platform)?"win":/Linux|X11/.test(navigator.platform)?"linux":"key";function yu(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}const ku=fu.domEventHandlers({keydown:(t,e)=>function(t,e,n,i){let r=function(t){var e=!(Xi&&(t.ctrlKey||t.altKey||t.metaKey)||(Gi||Ki)&&t.shiftKey&&t.key&&1==t.key.length)&&t.key||(t.shiftKey?Vi:Hi)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(e),s=1==r.length&&" "!=r,o="",u=!1;xu&&xu.view==n&&xu.scope==i&&(o=xu.prefix+" ",(u=ao.indexOf(e.keyCode)<0)&&(xu=null));let a,h=t=>{if(t){for(let e of t.commands)if(e(n))return!0;t.preventDefault&&(u=!0)}return!1},c=t[i];if(c){if(h(c[o+yu(r,e,!s)]))return!0;if(s&&(e.shiftKey||e.altKey||e.metaKey)&&(a=Hi[e.keyCode])&&a!=r){if(h(c[o+yu(a,e,!0)]))return!0}else if(s&&e.shiftKey&&h(c[o+yu(r,e,!0)]))return!0}return u}(function(t){let e=t.facet(Du),n=ju.get(e);return n||ju.set(e,n=function(t,e=wu){let n=Object.create(null),i=Object.create(null),r=(t,e)=>{let n=i[t];if(null==n)i[t]=e;else if(n!=e)throw new Error("Key binding "+t+" is used both as a regular binding and as a multi-stroke prefix")},s=(t,i,s,o)=>{let u=n[t]||(n[t]=Object.create(null)),a=i.split(/ (?!$)/).map((t=>function(t,e){const n=t.split(/-(?!$)/);let i,r,s,o,u=n[n.length-1];"Space"==u&&(u=" ");for(let t=0;t<n.length-1;++t){const u=n[t];if(/^(cmd|meta|m)$/i.test(u))o=!0;else if(/^a(lt)?$/i.test(u))i=!0;else if(/^(c|ctrl|control)$/i.test(u))r=!0;else if(/^s(hift)?$/i.test(u))s=!0;else{if(!/^mod$/i.test(u))throw new Error("Unrecognized modifier name: "+u);"mac"==e?o=!0:r=!0}}return i&&(u="Alt-"+u),r&&(u="Ctrl-"+u),o&&(u="Meta-"+u),s&&(u="Shift-"+u),u}(t,e)));for(let e=1;e<a.length;e++){let n=a.slice(0,e).join(" ");r(n,!0),u[n]||(u[n]={preventDefault:!0,commands:[e=>{let i=xu={view:e,prefix:n,scope:t};return setTimeout((()=>{xu==i&&(xu=null)}),4e3),!0}]})}let h=a.join(" ");r(h,!1);let c=u[h]||(u[h]={preventDefault:!1,commands:[]});c.commands.push(s),o&&(c.preventDefault=!0)};for(let n of t){let t=n[e]||n.key;if(t)for(let e of n.scope?n.scope.split(" "):["editor"])s(e,t,n.run,n.preventDefault),n.shift&&s(e,"Shift-"+t,n.shift,n.preventDefault)}return n}(e.reduce(((t,e)=>t.concat(e)),[]))),n}(e.state),t,e,"editor")}),Du=In.define({enables:ku}),ju=new WeakMap;let xu=null;const _u=!$r.ios,Mu=In.define({combine:t=>ki(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(t,e)=>Math.min(t,e),drawRangeCursor:(t,e)=>t||e})});function Au(t={}){return[Mu.of(t),Eu,Su]}class Cu{constructor(t,e,n,i,r){this.left=t,this.top=e,this.width=n,this.height=i,this.className=r}draw(){let t=document.createElement("div");return t.className=this.className,this.adjust(t),t}adjust(t){t.style.left=this.left+"px",t.style.top=this.top+"px",this.width>=0&&(t.style.width=this.width+"px"),t.style.height=this.height+"px"}eq(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height&&this.className==t.className}}const Eu=Ds.fromClass(class{constructor(t){this.view=t,this.rangePieces=[],this.cursors=[],this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.selectionLayer=t.scrollDOM.appendChild(document.createElement("div")),this.selectionLayer.className="cm-selectionLayer",this.selectionLayer.setAttribute("aria-hidden","true"),this.cursorLayer=t.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),t.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){this.cursorLayer.style.animationDuration=this.view.state.facet(Mu).cursorBlinkRate+"ms"}update(t){let e=t.startState.facet(Mu)!=t.state.facet(Mu);(e||t.selectionSet||t.geometryChanged||t.viewportChanged)&&this.view.requestMeasure(this.measureReq),t.transactions.some((t=>t.scrollIntoView))&&(this.cursorLayer.style.animationName="cm-blink"==this.cursorLayer.style.animationName?"cm-blink2":"cm-blink"),e&&this.setBlinkRate()}readPos(){let{state:t}=this.view,e=t.facet(Mu),n=t.selection.ranges.map((t=>t.empty?[]:function(t,e){if(e.to<=t.viewport.from||e.from>=t.viewport.to)return[];let n=Math.max(e.from,t.viewport.from),i=Math.min(e.to,t.viewport.to),r=t.textDirection==Bs.LTR,s=t.contentDOM,o=s.getBoundingClientRect(),u=Tu(t),a=window.getComputedStyle(s.firstChild),h=o.left+parseInt(a.paddingLeft),c=o.right-parseInt(a.paddingRight),l=Fu(t,n),f=Fu(t,i),d=l.type==Xr.Text?l:null,p=f.type==Xr.Text?f:null;if(t.lineWrapping&&(d&&(d=Ru(t,n,d)),p&&(p=Ru(t,i,p))),d&&p&&d.from==p.from)return v(g(e.from,e.to,d));{let n=d?g(e.from,null,d):b(l,!1),i=p?g(null,e.to,p):b(f,!0),r=[];return(d||l).to<(p||f).from-1?r.push(m(h,n.bottom,c,i.top)):n.bottom<i.top&&Fu(t,(n.bottom+i.top)/2).type==Xr.Text&&(n.bottom=i.top=(n.bottom+i.top)/2),v(n).concat(r).concat(v(i))}function m(t,e,n,i){return new Cu(t-u.left,e-u.top,n-t,i-e,"cm-selectionBackground")}function v({top:t,bottom:e,horizontal:n}){let i=[];for(let r=0;r<n.length;r+=2)i.push(m(n[r],t,n[r+1],e));return i}function g(e,n,i){let s=1e9,o=-1e9,u=[];function a(e,n,a,l,f){let d=t.coordsAtPos(e,e==i.to?-2:2),p=t.coordsAtPos(a,a==i.from?2:-2);s=Math.min(d.top,p.top,s),o=Math.max(d.bottom,p.bottom,o),f==Bs.LTR?u.push(r&&n?h:d.left,r&&l?c:p.right):u.push(!r&&l?h:p.left,!r&&n?c:d.right)}let l=null!=e?e:i.from,f=null!=n?n:i.to;for(let i of t.visibleRanges)if(i.to>l&&i.from<f)for(let r=Math.max(i.from,l),s=Math.min(i.to,f);;){let i=t.state.doc.lineAt(r);for(let o of t.bidiSpans(i)){let t=o.from+i.from,u=o.to+i.from;if(t>=s)break;u>r&&a(Math.max(t,r),null==e&&t<=l,Math.min(u,s),null==n&&u>=f,o.dir)}if(r=i.to+1,r>=s)break}return 0==u.length&&a(l,null==e,f,null==n,t.textDirection),{top:s,bottom:o,horizontal:u}}function b(t,e){let n=o.top+(e?t.top:t.bottom);return{top:n,bottom:n,horizontal:[]}}}(this.view,t))).reduce(((t,e)=>t.concat(e))),i=[];for(let n of t.selection.ranges){let r=n==t.selection.main;if(n.empty?!r||_u:e.drawRangeCursor){let t=$u(this.view,n,r);t&&i.push(t)}}return{rangePieces:n,cursors:i}}drawSel({rangePieces:t,cursors:e}){if(t.length!=this.rangePieces.length||t.some(((t,e)=>!t.eq(this.rangePieces[e])))){this.selectionLayer.textContent="";for(let e of t)this.selectionLayer.appendChild(e.draw());this.rangePieces=t}if(e.length!=this.cursors.length||e.some(((t,e)=>!t.eq(this.cursors[e])))){let t=this.cursorLayer.children;if(t.length!==e.length){this.cursorLayer.textContent="";for(const t of e)this.cursorLayer.appendChild(t.draw())}else e.forEach(((e,n)=>e.adjust(t[n])));this.cursors=e}}destroy(){this.selectionLayer.remove(),this.cursorLayer.remove()}}),Ou={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};_u&&(Ou[".cm-line"].caretColor="transparent !important");const Su=Gn.override(fu.theme(Ou));function Tu(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==Bs.LTR?e.left:e.right-t.scrollDOM.clientWidth)-t.scrollDOM.scrollLeft,top:e.top-t.scrollDOM.scrollTop}}function Ru(t,e,n){let i=$n.cursor(e);return{from:Math.max(n.from,t.moveToLineBoundary(i,!1,!0).from),to:Math.min(n.to,t.moveToLineBoundary(i,!0,!0).from),type:Xr.Text}}function Fu(t,e){let n=t.visualLineAt(e);if(Array.isArray(n.type))for(let t of n.type)if(t.to>e||t.to==e&&(t.to==n.to||t.type==Xr.Text))return t;return n}function $u(t,e,n){let i=t.coordsAtPos(e.head,e.assoc||1);if(!i)return null;let r=Tu(t);return new Cu(i.left-r.left,i.top-r.top,-1,i.bottom-i.top,n?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary")}function Bu(t,e,n,i,r){e.lastIndex=0;for(let s,o=t.iterRange(n,i),u=n;!o.next().done;u+=o.value.length)if(!o.lineBreak)for(;s=e.exec(o.value);)r(u+s.index,u+s.index+s[0].length,s)}class qu{constructor(t){let{regexp:e,decoration:n,boundary:i}=t;if(!e.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");this.regexp=e,this.getDeco="function"==typeof n?n:()=>n,this.boundary=i}createDeco(t){let e=new Ri;for(let{from:n,to:i}of t.visibleRanges)Bu(t.state.doc,this.regexp,n,i,((n,i,r)=>e.add(n,i,this.getDeco(r,t,n))));return e.finish()}updateDeco(t,e){let n=1e9,i=-1;return t.docChanged&&t.changes.iterChanges(((e,r,s,o)=>{o>t.view.viewport.from&&s<t.view.viewport.to&&(n=Math.min(s,n),i=Math.max(o,i))})),t.viewportChanged||i-n>1e3?this.createDeco(t.view):i>-1?this.updateRange(t.view,e.map(t.changes),n,i):e}updateRange(t,e,n,i){for(let r of t.visibleRanges){let s=Math.max(r.from,n),o=Math.min(r.to,i);if(o>s){let n=t.state.doc.lineAt(s),i=n.to<o?t.state.doc.lineAt(o):n,u=Math.max(r.from,n.from),a=Math.min(r.to,i.to);if(this.boundary){for(;s>n.from;s--)if(this.boundary.test(n.text[s-1-n.from])){u=s;break}for(;o<i.to;o++)if(this.boundary.test(i.text[o-i.from])){a=o;break}}let h,c=[];if(n==i)for(this.regexp.lastIndex=u-n.from;(h=this.regexp.exec(n.text))&&h.index<a-n.from;){let e=h.index+n.from;c.push(this.getDeco(h,t,e).range(e,e+h[0].length))}else Bu(t.state.doc,this.regexp,u,a,((e,n,i)=>c.push(this.getDeco(i,t,e).range(e,n))));e=e.update({filterFrom:u,filterTo:a,filter:(t,e)=>t<u||e>a,add:c})}}return e}}const Lu=null!=/x/.unicode?"gu":"g",Iu=new RegExp("[\0-\b\n--­؜​‎‏\u2028\u2029\ufeff￹-￼]",Lu),zu={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Nu=null;const Pu=In.define({combine(t){let e=ki(t,{render:null,specialChars:Iu,addSpecialChars:null});return(e.replaceTabs=!function(){var t;if(null==Nu&&"undefined"!=typeof document&&document.body){let e=document.body.style;Nu=null!=(null!==(t=e.tabSize)&&void 0!==t?t:e.MozTabSize)}return Nu||!1}())&&(e.specialChars=new RegExp("\t|"+e.specialChars.source,Lu)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Lu)),e}});function Uu(t={}){return[Pu.of(t),Hu||(Hu=Ds.fromClass(class{constructor(t){this.view=t,this.decorations=Yr.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Pu)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new qu({regexp:t.specialChars,decoration:(e,n,i)=>{let{doc:r}=n.state,s=ln(e[0],0);if(9==s){let t=r.lineAt(i),e=n.state.tabSize,s=pn(t.text,e,i-t.from);return Yr.replace({widget:new Ju((e-s%e)*this.view.defaultCharacterWidth)})}return this.decorationCache[s]||(this.decorationCache[s]=Yr.replace({widget:new Vu(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(Pu);t.startState.facet(Pu)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))]}let Hu=null;class Vu extends Kr{constructor(t,e){super(),this.options=t,this.code=e}eq(t){return t.code==this.code}toDOM(t){let e=function(t){return t>=32?"•":10==t?"␤":String.fromCharCode(9216+t)}(this.code),n=t.state.phrase("Control character")+" "+(zu[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,n,e);if(i)return i;let r=document.createElement("span");return r.textContent=e,r.title=n,r.setAttribute("aria-label",n),r.className="cm-specialChar",r}ignoreEvent(){return!1}}class Ju extends Kr{constructor(t){super(),this.width=t}eq(t){return t.width==this.width}toDOM(){let t=document.createElement("span");return t.textContent="\t",t.className="cm-tab",t.style.width=this.width+"px",t}ignoreEvent(){return!1}}const Gu=Yr.line({attributes:{class:"cm-activeLine"}}),Wu=Ds.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let i of t.state.selection.ranges){if(!i.empty)return Yr.none;let r=t.visualLineAt(i.head);r.from>e&&(n.push(Gu.range(r.from)),e=r.from)}return Yr.set(n)}},{decorations:t=>t.decorations}),Zu=oi.define(),Ku=oi.define(),Xu=In.define(),Yu=In.define({combine:t=>ki(t,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})}),Qu=Vn.define({create:()=>pa.empty,update(t,e){let n=e.state.facet(Yu),i=e.annotation(Zu);if(i){let r=oa.fromTransaction(e),s=i.side,o=0==s?t.undone:t.done;return o=r?ua(o,o.length,n.minDepth,r):ca(o,e.startState.selection),new pa(0==s?i.rest:o,0==s?o:i.rest)}let r=e.annotation(Ku);if("full"!=r&&"before"!=r||(t=t.isolate()),!1===e.annotation(ci.addToHistory))return e.changes.empty?t:t.addMapping(e.changes.desc);let s=oa.fromTransaction(e),o=e.annotation(ci.time),u=e.annotation(ci.userEvent);return s?t=t.addChanges(s,o,u,n.newGroupDelay,n.minDepth):e.selection&&(t=t.addSelection(e.startState.selection,o,u,n.newGroupDelay)),"full"!=r&&"after"!=r||(t=t.isolate()),t},toJSON:t=>({done:t.done.map((t=>t.toJSON())),undone:t.undone.map((t=>t.toJSON()))}),fromJSON:t=>new pa(t.done.map(oa.fromJSON),t.undone.map(oa.fromJSON))});function ta(t={}){return[Qu,Yu.of(t),fu.domEventHandlers({beforeinput:(t,e)=>"historyUndo"==t.inputType?na(e):"historyRedo"==t.inputType&&ia(e)})]}function ea(t,e){return function({state:n,dispatch:i}){let r=n.field(Qu,!1);if(!r)return!1;let s=r.pop(t,n,e);return!!s&&(i(s),!0)}}const na=ea(0,!1),ia=ea(1,!1),ra=ea(0,!0),sa=ea(1,!0);class oa{constructor(t,e,n,i,r){this.changes=t,this.effects=e,this.mapped=n,this.startSelection=i,this.selectionsAfter=r}setSelAfter(t){return new oa(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,e,n;return{changes:null===(t=this.changes)||void 0===t?void 0:t.toJSON(),mapped:null===(e=this.mapped)||void 0===e?void 0:e.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map((t=>t.toJSON()))}}static fromJSON(t){return new oa(t.changes&&An.fromJSON(t.changes),[],t.mapped&&Mn.fromJSON(t.mapped),t.startSelection&&$n.fromJSON(t.startSelection),t.selectionsAfter.map($n.fromJSON))}static fromTransaction(t){let e=ha;for(let n of t.startState.facet(Xu)){let i=n(t);i.length&&(e=e.concat(i))}return!e.length&&t.changes.empty?null:new oa(t.changes.invert(t.startState.doc),e,void 0,t.startState.selection,ha)}static selection(t){return new oa(void 0,ha,void 0,void 0,t)}}function ua(t,e,n,i){let r=e+1>n+20?e-n-1:0,s=t.slice(r,e);return s.push(i),s}function aa(t,e){return t.length?e.length?t.concat(e):t:e}const ha=[];function ca(t,e){if(t.length){let n=t[t.length-1],i=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-200));return i.length&&i[i.length-1].eq(e)?t:(i.push(e),ua(t,t.length-1,1e9,n.setSelAfter(i)))}return[oa.selection([e])]}function la(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function fa(t,e){if(!t.length)return t;let n=t.length,i=ha;for(;n;){let r=da(t[n-1],e,i);if(r.changes&&!r.changes.empty||r.effects.length){let e=t.slice(0,n);return e[n-1]=r,e}e=r.mapped,n--,i=r.selectionsAfter}return i.length?[oa.selection(i)]:ha}function da(t,e,n){let i=aa(t.selectionsAfter.length?t.selectionsAfter.map((t=>t.map(e))):ha,n);if(!t.changes)return oa.selection(i);let r=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new oa(r,hi.mapEffects(t.effects,e),o,t.startSelection.map(s),i)}class pa{constructor(t,e,n=0,i){this.done=t,this.undone=e,this.prevTime=n,this.prevUserEvent=i}isolate(){return this.prevTime?new pa(this.done,this.undone):this}addChanges(t,e,n,i,r){let s=this.done,o=s[s.length-1];return s=o&&o.changes&&!o.changes.empty&&t.changes&&(!o.selectionsAfter.length&&e-this.prevTime<i&&function(t,e){let n=[],i=!1;return t.iterChangedRanges(((t,e)=>n.push(t,e))),e.iterChangedRanges(((t,e,r,s)=>{for(let t=0;t<n.length;){let e=n[t++],o=n[t++];s>=e&&r<=o&&(i=!0)}})),i}(o.changes,t.changes)||"input.type.compose"==n)?ua(s,s.length-1,r,new oa(t.changes.compose(o.changes),aa(t.effects,o.effects),o.mapped,o.startSelection,ha)):ua(s,s.length,r,t),new pa(s,ha,e,n)}addSelection(t,e,n,i){let r=this.done.length?this.done[this.done.length-1].selectionsAfter:ha;return r.length>0&&e-this.prevTime<i&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&function(t,e){return t.ranges.length==e.ranges.length&&0===t.ranges.filter(((t,n)=>t.empty!=e.ranges[n].empty)).length}(r[r.length-1],t)?this:new pa(ca(this.done,t),this.undone,e,n)}addMapping(t){return new pa(fa(this.done,t),fa(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,e,n){let i=0==t?this.done:this.undone;if(0==i.length)return null;let r=i[i.length-1];if(n&&r.selectionsAfter.length)return e.update({selection:r.selectionsAfter[r.selectionsAfter.length-1],annotations:Zu.of({side:t,rest:la(i)}),userEvent:0==t?"select.undo":"select.redo"});if(r.changes){let n=1==i.length?ha:i.slice(0,i.length-1);return r.mapped&&(n=fa(n,r.mapped)),e.update({changes:r.changes,selection:r.startSelection,effects:r.effects,annotations:Zu.of({side:t,rest:n}),filter:!1,userEvent:0==t?"undo":"redo"})}return null}}pa.empty=new pa(ha,ha);const ma=[{key:"Mod-z",run:na,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:ia,preventDefault:!0},{key:"Mod-u",run:ra,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:sa,preventDefault:!0}],va=1024;let ga=0;class ba{constructor(t,e){this.from=t,this.to=e}}class wa{constructor(t={}){this.id=ga++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=ka.match(t)),e=>{let n=t(e);return void 0===n?null:[this,n]}}}wa.closedBy=new wa({deserialize:t=>t.split(" ")}),wa.openedBy=new wa({deserialize:t=>t.split(" ")}),wa.group=new wa({deserialize:t=>t.split(" ")}),wa.contextHash=new wa({perNode:!0}),wa.lookAhead=new wa({perNode:!0}),wa.mounted=new wa({perNode:!0});const ya=Object.create(null);class ka{constructor(t,e,n,i=0){this.name=t,this.props=e,this.id=n,this.flags=i}static define(t){let e=t.props&&t.props.length?Object.create(null):ya,n=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),i=new ka(t.name||"",e,t.id,n);if(t.props)for(let n of t.props)if(Array.isArray(n)||(n=n(i)),n){if(n[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[n[0].id]=n[1]}return i}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(wa.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let n in t)for(let i of n.split(" "))e[i]=t[n];return t=>{for(let n=t.prop(wa.group),i=-1;i<(n?n.length:0);i++){let r=e[i<0?t.name:n[i]];if(r)return r}}}}ka.none=new ka("",Object.create(null),0,8);class Da{constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let e=[];for(let n of this.types){let i=null;for(let e of t){let t=e(n);t&&(i||(i=Object.assign({},n.props)),i[t[0].id]=t[1])}e.push(i?new ka(n.name,i,n.id,n.flags):n)}return new Da(e)}}const ja=new WeakMap;class xa{constructor(t,e,n,i,r){if(this.type=t,this.children=e,this.positions=n,this.length=i,this.props=null,r&&r.length){this.props=Object.create(null);for(let[t,e]of r)this.props["number"==typeof t?t:t.id]=e}}toString(){let t=this.prop(wa.mounted);if(t&&!t.overlay)return t.tree.toString();let e="";for(let t of this.children){let n=t.toString();n&&(e&&(e+=","),e+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t,e=0){let n=null!=t&&ja.get(this)||this.topNode,i=new Ta(n);return null!=t&&(i.moveTo(t,e),ja.set(this,i._tree)),i}fullCursor(){return new Ta(this.topNode,1)}get topNode(){return new Ca(this,0,0,null)}resolve(t,e=0){return this.cursor(t,e).node}resolveInner(t,e=0){let n=this.topNode;for(;;){let i=n.enter(t,e);if(!i)return n;n=i}}iterate(t){let{enter:e,leave:n,from:i=0,to:r=this.length}=t;for(let t=this.cursor(),s=()=>t.node;;){let o=!1;if(t.from<=r&&t.to>=i&&(t.type.isAnonymous||!1!==e(t.type,t.from,t.to,s))){if(t.firstChild())continue;t.type.isAnonymous||(o=!0)}for(;o&&n&&n(t.type,t.from,t.to,s),o=t.type.isAnonymous,!t.nextSibling();){if(!t.parent())return;o=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:Ba(this.type,this.children,this.positions,0,this.children.length,0,this.length,((t,e,n)=>new xa(this.type,t,e,n,this.propValues)),t.makeTree||((t,e,n)=>new xa(ka.none,t,e,n)))}static build(t){return function(t){var e;let{buffer:n,nodeSet:i,maxBufferLength:r=va,reused:s=[],minRepeatType:o=i.types.length}=t,u=Array.isArray(n)?new _a(n,n.length):n,a=i.types,h=0,c=0;function l(t,e,n,m,v){let{id:g,start:b,end:w,size:y}=u,k=c;for(;y<0;){if(u.next(),-1==y){let e=s[g];return n.push(e),void m.push(b-t)}if(-3==y)return void(h=g);if(-4==y)return void(c=g);throw new RangeError(`Unrecognized record size: ${y}`)}let D,j,x=a[g],_=b-t;if(w-b<=r&&(j=function(t,e){let n=u.fork(),i=0,s=0,a=0,h=n.end-r,c={size:0,start:0,skip:0};t:for(let r=n.pos-t;n.pos>r;){let t=n.size;if(n.id==e&&t>=0){c.size=i,c.start=s,c.skip=a,a+=4,i+=4,n.next();continue}let u=n.pos-t;if(t<0||u<r||n.start<h)break;let l=n.id>=o?4:0,f=n.start;for(n.next();n.pos>u;){if(n.size<0){if(-3!=n.size)break t;l+=4}else n.id>=o&&(l+=4);n.next()}s=f,i+=t,a+=l}return(e<0||i==t)&&(c.size=i,c.start=s,c.skip=a),c.size>4?c:void 0}(u.pos-e,v))){let e=new Uint16Array(j.size-j.skip),n=u.pos-j.size,r=e.length;for(;u.pos>n;)r=p(j.start,e,r);D=new Ma(e,w-j.start,i),_=j.start-t}else{let t=u.pos-y;u.next();let e=[],n=[],i=g>=o?g:-1,s=0,a=w;for(;u.pos>t;)i>=0&&u.id==i&&u.size>=0?(u.end<=a-r&&(f(e,n,b,s,u.end,a,i,k),s=e.length,a=u.end),u.next()):l(b,t,e,n,i);if(i>=0&&s>0&&s<e.length&&f(e,n,b,s,b,a,i,k),e.reverse(),n.reverse(),i>-1&&s>0){let t=function(t){return(e,n,i)=>{let r,s,o=0,u=e.length-1;if(u>=0&&(r=e[u])instanceof xa){if(!u&&r.type==t&&r.length==i)return r;(s=r.prop(wa.lookAhead))&&(o=n[u]+r.length+s)}return d(t,e,n,i,o)}}(x);D=Ba(x,e,n,0,e.length,0,w-b,t,t)}else D=d(x,e,n,w-b,k-w)}n.push(D),m.push(_)}function f(t,e,n,r,s,o,u,a){let h=[],c=[];for(;t.length>r;)h.push(t.pop()),c.push(e.pop()+n-s);t.push(d(i.types[u],h,c,o-s,a-o)),e.push(s-n)}function d(t,e,n,i,r=0,s){if(h){let t=[wa.contextHash,h];s=s?[t].concat(s):[t]}if(r>25){let t=[wa.lookAhead,r];s=s?[t].concat(s):[t]}return new xa(t,e,n,i,s)}function p(t,e,n){let{id:i,start:r,end:s,size:a}=u;if(u.next(),a>=0&&i<o){let o=n;if(a>4){let i=u.pos-(a-4);for(;u.pos>i;)n=p(t,e,n)}e[--n]=o,e[--n]=s-t,e[--n]=r-t,e[--n]=i}else-3==a?h=i:-4==a&&(c=i);return n}let m=[],v=[];for(;u.pos>0;)l(t.start||0,t.bufferStart||0,m,v,-1);let g=null!==(e=t.length)&&void 0!==e?e:m.length?v[0]+m[0].length:0;return new xa(a[t.topID],m.reverse(),v.reverse(),g)}(t)}}xa.empty=new xa(ka.none,[],[],0);class _a{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new _a(this.buffer,this.index)}}class Ma{constructor(t,e,n){this.buffer=t,this.length=e,this.set=n}get type(){return ka.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],n=this.buffer[t+3],i=this.set.types[e],r=i.name;if(/\W/.test(r)&&!i.isError&&(r=JSON.stringify(r)),n==(t+=4))return r;let s=[];for(;t<n;)s.push(this.childString(t)),t=this.buffer[t+3];return r+"("+s.join(",")+")"}findChild(t,e,n,i,r){let{buffer:s}=this,o=-1;for(let u=t;u!=e&&!(Aa(r,i,s[u+1],s[u+2])&&(o=u,n>0));u=s[u+3]);return o}slice(t,e,n,i){let r=this.buffer,s=new Uint16Array(e-t);for(let i=t,o=0;i<e;)s[o++]=r[i++],s[o++]=r[i++]-n,s[o++]=r[i++]-n,s[o++]=r[i++]-t;return new Ma(s,i-n,this.set)}}function Aa(t,e,n,i){switch(t){case-2:return n<e;case-1:return i>=e&&n<e;case 0:return n<e&&i>e;case 1:return n<=e&&i>e;case 2:return i>e;case 4:return!0}}class Ca{constructor(t,e,n,i){this.node=t,this._from=e,this.index=n,this._parent=i}get type(){return this.node.type}get name(){return this.node.type.name}get from(){return this._from}get to(){return this._from+this.node.length}nextChild(t,e,n,i,r=0){for(let s=this;;){for(let{children:o,positions:u}=s.node,a=e>0?o.length:-1;t!=a;t+=e){let a=o[t],h=u[t]+s._from;if(Aa(i,n,h,h+a.length))if(a instanceof Ma){if(2&r)continue;let o=a.findChild(0,a.buffer.length,e,n-h,i);if(o>-1)return new Sa(new Oa(s,a,t,h),null,o)}else if(1&r||!a.type.isAnonymous||Ra(a)){let o;if(a.props&&(o=a.prop(wa.mounted))&&!o.overlay)return new Ca(o.tree,h,t,s);let u=new Ca(a,h,t,s);return 1&r||!u.type.isAnonymous?u:u.nextChild(e<0?a.children.length-1:0,e,n,i)}}if(1&r||!s.type.isAnonymous)return null;if(t=s.index>=0?s.index+e:e<0?-1:s._parent.node.children.length,s=s._parent,!s)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this.node.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this.node.children.length-1,-1,t,-2)}enter(t,e,n=!0,i=!0){let r;if(n&&(r=this.node.prop(wa.mounted))&&r.overlay){let n=t-this.from;for(let{from:t,to:i}of r.overlay)if((e>0?t<=n:t<n)&&(e<0?i>=n:i>n))return new Ca(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,i?0:2)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get cursor(){return new Ta(this)}get tree(){return this.node}toTree(){return this.node}resolve(t,e=0){return this.cursor.moveTo(t,e).node}getChild(t,e=null,n=null){let i=Ea(this,t,e,n);return i.length?i[0]:null}getChildren(t,e=null,n=null){return Ea(this,t,e,n)}toString(){return this.node.toString()}}function Ea(t,e,n,i){let r=t.cursor,s=[];if(!r.firstChild())return s;if(null!=n)for(;!r.type.is(n);)if(!r.nextSibling())return s;for(;;){if(null!=i&&r.type.is(i))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return null==i?s:[]}}class Oa{constructor(t,e,n,i){this.parent=t,this.buffer=e,this.index=n,this.start=i}}class Sa{constructor(t,e,n){this.context=t,this._parent=e,this.index=n,this.type=t.buffer.set.types[t.buffer.buffer[n]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(t,e,n){let{buffer:i}=this.context,r=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.context.start,n);return r<0?null:new Sa(this.context,this,r)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,n,i=!0){if(!i)return null;let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],e>0?1:-1,t,e);return s<0?null:new Sa(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new Sa(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new Sa(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get cursor(){return new Ta(this)}get tree(){return null}toTree(){let t=[],e=[],{buffer:n}=this.context,i=this.index+4,r=n.buffer[this.index+3];if(r>i){let s=n.buffer[this.index+1],o=n.buffer[this.index+2];t.push(n.slice(i,r,s,o)),e.push(0)}return new xa(this.type,t,e,this.to-this.from)}resolve(t,e=0){return this.cursor.moveTo(t,e).node}toString(){return this.context.buffer.childString(this.index)}getChild(t,e=null,n=null){let i=Ea(this,t,e,n);return i.length?i[0]:null}getChildren(t,e=null,n=null){return Ea(this,t,e,n)}}class Ta{constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof Ca)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}get name(){return this.type.name}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:n,buffer:i}=this.buffer;return this.type=e||i.set.types[i.buffer[t]],this.from=n+i.buffer[t+1],this.to=n+i.buffer[t+2],!0}yield(t){return!!t&&(t instanceof Ca?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,n){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree.node.children.length-1:0,t,e,n,this.mode));let{buffer:i}=this.buffer,r=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.buffer.start,n);return!(r<0)&&(this.stack.push(this.index),this.yieldBuf(r))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,n=!0,i=!0){return this.buffer?!!i&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,n,i))}parent(){if(!this.buffer)return this.yieldNode(1&this.mode?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=1&this.mode?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,n=this.stack.length-1;if(t<0){let t=n<0?0:this.stack[n]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(n<0?e.buffer.length:e.buffer[this.stack[n]+3]))return this.yieldBuf(t)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,n,{buffer:i}=this;if(i){if(t>0){if(this.index<i.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(i.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:n}=i)}else({index:e,_parent:n}=this._tree);for(;n;({index:e,_parent:n}=n))if(e>-1)for(let i=e+t,r=t<0?-1:n.node.children.length;i!=r;i+=t){let t=n.node.children[i];if(1&this.mode||t instanceof Ma||!t.type.isAnonymous||Ra(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,n=0;if(t&&t.context==this.buffer)t:for(let i=this.index,r=this.stack.length;r>=0;){for(let s=t;s;s=s._parent)if(s.index==i){if(i==this.index)return s;e=s,n=r+1;break t}i=this.stack[--r]}for(let t=n;t<this.stack.length;t++)e=new Sa(this.buffer,e,this.stack[t]);return this.bufferNode=new Sa(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree.node}}function Ra(t){return t.children.some((t=>t instanceof Ma||!t.type.isAnonymous||Ra(t)))}const Fa=new WeakMap;function $a(t,e){if(!t.isAnonymous||e instanceof Ma||e.type!=t)return 1;let n=Fa.get(e);return null==n&&(n=e.children.reduce(((e,n)=>e+$a(t,n)),1),Fa.set(e,n)),n}function Ba(t,e,n,i,r,s,o,u,a){let h=0;for(let n=i;n<r;n++)h+=$a(t,e[n]);let c=Math.ceil(1.5*h/8),l=[],f=[];return function e(n,i,r,o,u){for(let h=r;h<o;){let r=h,d=i[h],p=$a(t,n[h]);for(h++;h<o;h++){let e=$a(t,n[h]);if(p+e>=c)break;p+=e}if(h==r+1){if(p>c){let t=n[r];e(t.children,t.positions,0,t.children.length,i[r]+u);continue}l.push(n[r])}else{let e=i[h-1]+n[h-1].length-d;l.push(Ba(t,n,i,r,h,d,e,null,a))}f.push(d+u-s)}}(e,n,i,r,0),(u||a)(l,f,o)}class qa{constructor(t,e,n,i,r=!1,s=!1){this.from=t,this.to=e,this.tree=n,this.offset=i,this.open=(r?1:0)|(s?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(t,e=[],n=!1){let i=[new qa(0,t.length,t,0,!1,n)];for(let n of e)n.to>t.length&&i.push(n);return i}static applyChanges(t,e,n=128){if(!e.length)return t;let i=[],r=1,s=t.length?t[0]:null;for(let o=0,u=0,a=0;;o++){let h=o<e.length?e[o]:null,c=h?h.fromA:1e9;if(c-u>=n)for(;s&&s.from<c;){let e=s;if(u>=e.from||c<=e.to||a){let t=Math.max(e.from,u)-a,n=Math.min(e.to,c)-a;e=t>=n?null:new qa(t,n,e.tree,e.offset+a,o>0,!!h)}if(e&&i.push(e),s.to>c)break;s=r<t.length?t[r++]:null}if(!h)break;u=h.toA,a=h.toA-h.toB}return i}}class La{startParse(t,e,n){return"string"==typeof t&&(t=new Ia(t)),n=n&&n.length?n.map((t=>new ba(t.from,t.to))):[new ba(0,t.length)],this.createParse(t,e||[],n)}parse(t,e,n){let i=this.startParse(t,e,n);for(;;){let t=i.advance();if(t)return t}}}class Ia{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}const za=new wa;class Na{constructor(t,e,n,i=[]){this.data=t,this.topNode=n,yi.prototype.hasOwnProperty("tree")||Object.defineProperty(yi.prototype,"tree",{get(){return Ua(this)}}),this.parser=e,this.extension=[Ya.of(this),yi.languageData.of(((t,e,n)=>t.facet(Pa(t,e,n))))].concat(i)}isActiveAt(t,e,n=-1){return Pa(t,e,n)==this.data}findRegions(t){let e=t.facet(Ya);if((null==e?void 0:e.data)==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let n=[],i=(t,e)=>{if(t.prop(za)==this.data)return void n.push({from:e,to:e+t.length});let r=t.prop(wa.mounted);if(r){if(r.tree.prop(za)==this.data){if(r.overlay)for(let t of r.overlay)n.push({from:t.from+e,to:t.to+e});else n.push({from:e,to:e+t.length});return}if(r.overlay){let t=n.length;if(i(r.tree,r.overlay[0].from+e),n.length>t)return}}for(let n=0;n<t.children.length;n++){let r=t.children[n];r instanceof xa&&i(r,t.positions[n]+e)}};return i(Ua(t),0),n}get allowsNesting(){return!0}}function Pa(t,e,n){let i=t.facet(Ya);if(!i)return null;let r=i.data;if(i.allowsNesting)for(let i=Ua(t).topNode;i;i=i.enter(e,n,!0,!1))r=i.type.prop(za)||r;return r}function Ua(t){let e=t.field(Na.state,!1);return e?e.tree:xa.empty}Na.setState=hi.define();class Ha{constructor(t,e=t.length){this.doc=t,this.length=e,this.cursorPos=0,this.string="",this.cursor=t.iter()}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let n=this.cursorPos-this.string.length;return t<n||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-n,e-n)}}let Va=null;class Ja{constructor(t,e,n=[],i,r,s,o,u){this.parser=t,this.state=e,this.fragments=n,this.tree=i,this.treeLen=r,this.viewport=s,this.skipped=o,this.scheduleOn=u,this.parse=null,this.tempSkipped=[]}startParse(){return this.parser.startParse(new Ha(this.state.doc),this.fragments)}work(t,e){return null!=e&&e>=this.state.doc.length&&(e=void 0),this.tree!=xa.empty&&(null==e?this.treeLen==this.state.doc.length:this.treeLen>=e)?(this.takeTree(),!0):this.withContext((()=>{var n;this.parse||(this.parse=this.startParse()),null!=e&&(null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);let i=Date.now()+t;for(;;){let t=this.parse.advance();if(t){if(this.fragments=this.withoutTempSkipped(qa.addTree(t,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=t,this.parse=null,!(this.treeLen<(null!=e?e:this.state.doc.length)))return!0;this.parse=this.startParse()}if(Date.now()>i)return!1}}))}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext((()=>{for(;!(e=this.parse.advance()););})),this.tree=e,this.fragments=this.withoutTempSkipped(qa.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=Va;Va=this;try{return t()}finally{Va=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=Ga(t,e.from,e.to);return t}changes(t,e){let{fragments:n,tree:i,treeLen:r,viewport:s,skipped:o}=this;if(this.takeTree(),!t.empty){let e=[];if(t.iterChangedRanges(((t,n,i,r)=>e.push({fromA:t,toA:n,fromB:i,toB:r}))),n=qa.applyChanges(n,e),i=xa.empty,r=0,s={from:t.mapPos(s.from,-1),to:t.mapPos(s.to,1)},this.skipped.length){o=[];for(let e of this.skipped){let n=t.mapPos(e.from,1),i=t.mapPos(e.to,-1);n<i&&o.push({from:n,to:i})}}}return new Ja(this.parser,e,n,i,r,s,o,this.scheduleOn)}updateViewport(t){this.viewport=t;let e=this.skipped.length;for(let e=0;e<this.skipped.length;e++){let{from:n,to:i}=this.skipped[e];n<t.to&&i>t.from&&(this.fragments=Ga(this.fragments,n,i),this.skipped.splice(e--,1))}return this.skipped.length<e}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends La{createParse(e,n,i){let r=i[0].from,s=i[i.length-1].to;return{parsedPos:r,advance(){let e=Va;if(e){for(let t of i)e.tempSkipped.push(t);t&&(e.scheduleOn=e.scheduleOn?Promise.all([e.scheduleOn,t]):t)}return this.parsedPos=s,new xa(ka.none,[],[],s-r)},stoppedAt:null,stopAt(){}}}}}movedPast(t){return this.treeLen<t&&this.parse&&this.parse.parsedPos>=t}static get(){return Va}}function Ga(t,e,n){return qa.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class Wa{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged)return this;let e=this.context.changes(t.changes,t.state),n=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(25,n)||e.takeTree(),new Wa(e)}static init(t){let e=new Ja(t.facet(Ya).parser,t,[],xa.empty,0,{from:0,to:t.doc.length},[],null);return e.work(25)||e.takeTree(),new Wa(e)}}Na.state=Vn.define({create:Wa.init,update(t,e){for(let t of e.effects)if(t.is(Na.setState))return t.value;return e.startState.facet(Ya)!=e.state.facet(Ya)?Wa.init(e.state):t.apply(e)}});let Za="undefined"!=typeof window&&window.requestIdleCallback||((t,{timeout:e})=>setTimeout(t,e)),Ka="undefined"!=typeof window&&window.cancelIdleCallback||clearTimeout;const Xa=Ds.fromClass(class{constructor(t){this.view=t,this.working=-1,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(Na.state).context;t.viewportChanged&&(e.updateViewport(t.view.viewport)&&e.reset(),this.view.viewport.to>e.treeLen&&this.scheduleWork()),t.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working>-1)return;let{state:t}=this.view,e=t.field(Na.state),n=e.context.fragments;e.tree==e.context.tree&&e.context.treeLen>=t.doc.length&&n.length&&0==n[0].from&&n[0].to>=t.doc.length||(this.working=Za(this.work,{timeout:500}))}work(t){this.working=-1;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:i}}=this.view,r=n.field(Na.state);if(r.tree==r.context.tree&&r.context.treeLen>=i+1e6)return;let s=Math.min(this.chunkBudget,t?Math.max(25,t.timeRemaining()):100),o=r.context.work(s,i+1e6);this.chunkBudget-=Date.now()-e,(o||this.chunkBudget<=0||r.context.movedPast(i))&&(r.context.takeTree(),this.view.dispatch({effects:Na.setState.of(new Wa(r.context))})),!o&&this.chunkBudget>0&&this.scheduleWork(),this.checkAsyncSchedule(r.context)}checkAsyncSchedule(t){t.scheduleOn&&(t.scheduleOn.then((()=>this.scheduleWork())),t.scheduleOn=null)}destroy(){this.working>=0&&Ka(this.working)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Ya=In.define({combine:t=>t.length?t[0]:null,enables:[Na.state,Xa]}),Qa=In.define(),th=In.define({combine:t=>{if(!t.length)return"  ";if(!/^(?: +|\t+)$/.test(t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return t[0]}});function eh(t){let e=t.facet(th);return 9==e.charCodeAt(0)?t.tabSize*e.length:e.length}function nh(t,e){let n="",i=t.tabSize;if(9==t.facet(th).charCodeAt(0))for(;e>=i;)n+="\t",e-=i;for(let t=0;t<e;t++)n+=" ";return n}function ih(t,e){t instanceof yi&&(t=new rh(t));for(let n of t.state.facet(Qa)){let i=n(t,e);if(null!=i)return i}let n=Ua(t.state);return n?function(t,e,n){let i=e.resolveInner(n);for(let t=i,e=n;;){let n=t.childBefore(e);if(!n)break;n.type.isError&&n.from==n.to?(i=t,e=n.from):(t=n,e=t.to+1)}return uh(i,n,t)}(t,n,e):null}class rh{constructor(t,e={}){this.state=t,this.options=e,this.unit=eh(t)}lineAt(t,e=1){let n=this.state.doc.lineAt(t),{simulateBreak:i}=this.options;return null!=i&&i>=n.from&&i<=n.to?(e<0?i<t:i<=t)?{text:n.text.slice(i-n.from),from:i}:{text:n.text.slice(0,i-n.from),from:n.from}:n}textAfterPos(t,e=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:n,from:i}=this.lineAt(t,e);return n.slice(t-i,Math.min(n.length,t+100-i))}column(t,e=1){let{text:n,from:i}=this.lineAt(t,e),r=this.countColumn(n,t-i),s=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return s>-1&&(r+=s-this.countColumn(n,n.search(/\S|$/))),r}countColumn(t,e=t.length){return pn(t,this.state.tabSize,e)}lineIndent(t,e=1){let{text:n,from:i}=this.lineAt(t,e),r=this.options.overrideIndentation;if(r){let t=r(i);if(t>-1)return t}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const sh=new wa;function oh(t){let e=t.type.prop(sh);if(e)return e;let n,i=t.firstChild;if(i&&(n=i.type.prop(wa.closedBy))){let e=t.lastChild,i=e&&n.indexOf(e.name)>-1;return t=>function(t,e,n,i,r){let s=t.textAfter,o=s.match(/^\s*/)[0].length,u=r==t.pos+o,a=function(t){let e=t.node,n=e.childAfter(e.from),i=e.lastChild;if(!n)return null;let r=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=null==r||r<=s.from?s.to:Math.min(s.to,r);for(let t=n.to;;){let r=e.childAfter(t);if(!r||r==i)return null;if(!r.type.isSkipped)return r.from<o?n:null;t=r.to}}(t);return a?u?t.column(a.from):t.column(a.to):t.baseIndent+(u?0:1*t.unit)}(t,0,0,0,i&&!function(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}(t)?e.from:void 0)}return null==t.parent?ah:null}function uh(t,e,n){for(;t;t=t.parent){let i=oh(t);if(i)return i(new hh(n,e,t))}return null}function ah(){return 0}class hh extends rh{constructor(t,e,n){super(t.state,t.options),this.base=t,this.pos=e,this.node=n}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let t=this.state.doc.lineAt(this.node.from);for(;;){let e=this.node.resolve(t.from);for(;e.parent&&e.parent.from==e.from;)e=e.parent;if(ch(e,this.node))break;t=this.state.doc.lineAt(e.from)}return this.lineIndent(t.from)}continue(){let t=this.node.parent;return t?uh(t,this.pos,this.base):0}}function ch(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}const lh=fu.baseTheme({".cm-matchingBracket":{color:"#0b0"},".cm-nonmatchingBracket":{color:"#a22"}}),fh="()[]{}",dh=In.define({combine:t=>ki(t,{afterCursor:!0,brackets:fh,maxScanDistance:1e4})}),ph=Yr.mark({class:"cm-matchingBracket"}),mh=Yr.mark({class:"cm-nonmatchingBracket"}),vh=[Vn.define({create:()=>Yr.none,update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],i=e.state.facet(dh);for(let t of e.state.selection.ranges){if(!t.empty)continue;let r=wh(e.state,t.head,-1,i)||t.head>0&&wh(e.state,t.head-1,1,i)||i.afterCursor&&(wh(e.state,t.head,1,i)||t.head<e.state.doc.length&&wh(e.state,t.head+1,-1,i));if(!r)continue;let s=r.matched?ph:mh;n.push(s.range(r.start.from,r.start.to)),r.end&&n.push(s.range(r.end.from,r.end.to))}return Yr.set(n,!0)},provide:t=>fu.decorations.from(t)}),lh];function gh(t={}){return[dh.of(t),vh]}function bh(t,e,n){let i=t.prop(e<0?wa.openedBy:wa.closedBy);if(i)return i;if(1==t.name.length){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function wh(t,e,n,i={}){let r,s=i.maxScanDistance||1e4,o=i.brackets||fh,u=Ua(t),a=u.resolve(e,n);return(r=bh(a.type,n,o))?function(t,e,n,i,r,s){let o=i.parent,u={from:i.from,to:i.to},a=0,h=null==o?void 0:o.cursor;if(h&&(n<0?h.childBefore(i.from):h.childAfter(i.to)))do{if(n<0?h.to<=i.from:h.from>=i.to){if(0==a&&r.indexOf(h.type.name)>-1)return{start:u,end:{from:h.from,to:h.to},matched:!0};if(bh(h.type,n,s))a++;else if(bh(h.type,-n,s)&&(a--,0==a))return{start:u,end:{from:h.from,to:h.to},matched:!1}}}while(n<0?h.prevSibling():h.nextSibling());return{start:u,matched:!1}}(0,0,n,a,r,o):function(t,e,n,i,r,s,o){let u=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),a=o.indexOf(u);if(a<0||a%2==0!=n>0)return null;let h={from:n<0?e-1:e,to:n>0?e+1:e},c=t.doc.iterRange(e,n>0?t.doc.length:0),l=0;for(let t=0;!c.next().done&&t<=s;){let s=c.value;n<0&&(t+=s.length);let u=e+t*n;for(let t=n>0?0:s.length-1,e=n>0?s.length:-1;t!=e;t+=n){let e=o.indexOf(s[t]);if(!(e<0||i.resolve(u+t,1).type!=r))if(e%2==0==n>0)l++;else{if(1==l)return{start:h,end:{from:u+t,to:u+t+1},matched:e>>1==a>>1};l--}}n>0&&(t+=s.length)}return c.done?{start:h,matched:!1}:null}(t,e,n,u,a.type,s,o)}function yh(t,e){return $n.create(t.ranges.map(e),t.mainIndex)}function kh(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Dh({state:t,dispatch:e},n){let i=yh(t.selection,n);return!i.eq(t.selection)&&(e(kh(t,i)),!0)}function jh(t,e){return $n.cursor(e?t.to:t.from)}function xh(t,e){return Dh(t,(n=>n.empty?t.moveByChar(n,e):jh(n,e)))}const _h=t=>xh(t,t.textDirection!=Bs.LTR),Mh=t=>xh(t,t.textDirection==Bs.LTR);function Ah(t,e){return Dh(t,(n=>n.empty?t.moveByGroup(n,e):jh(n,e)))}function Ch(t,e,n){if(e.type.prop(n))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function Eh(t,e,n){let i,r,s=Ua(t).resolveInner(e.head),o=n?wa.closedBy:wa.openedBy;for(let i=e.head;;){let e=n?s.childAfter(i):s.childBefore(i);if(!e)break;Ch(t,e,o)?s=e:i=n?e.to:e.from}return r=s.type.prop(o)&&(i=n?wh(t,s.from,1):wh(t,s.to,-1))&&i.matched?n?i.end.to:i.end.from:n?s.to:s.from,$n.cursor(r,n?-1:1)}function Oh(t,e){return Dh(t,(n=>n.empty?t.moveVertically(n,e):jh(n,e)))}const Sh=t=>Oh(t,!1),Th=t=>Oh(t,!0);function Rh(t,e){return Dh(t,(n=>n.empty?t.moveVertically(n,e,t.dom.clientHeight):jh(n,e)))}const Fh=t=>Rh(t,!1),$h=t=>Rh(t,!0);function Bh(t,e,n){let i=t.visualLineAt(e.head),r=t.moveToLineBoundary(e,n);if(r.head==e.head&&r.head!=(n?i.to:i.from)&&(r=t.moveToLineBoundary(e,n,!1)),!n&&r.head==i.from&&i.length){let n=/^\s*/.exec(t.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;n&&e.head!=i.from+n&&(r=$n.cursor(i.from+n))}return r}const qh=t=>Dh(t,(e=>Bh(t,e,!0))),Lh=t=>Dh(t,(e=>Bh(t,e,!1)));function Ih(t,e){let n=yh(t.state.selection,(t=>{let n=e(t);return $n.range(t.anchor,n.head,n.goalColumn)}));return!n.eq(t.state.selection)&&(t.dispatch(kh(t.state,n)),!0)}function zh(t,e){return Ih(t,(n=>t.moveByChar(n,e)))}const Nh=t=>zh(t,t.textDirection!=Bs.LTR),Ph=t=>zh(t,t.textDirection==Bs.LTR);function Uh(t,e){return Ih(t,(n=>t.moveByGroup(n,e)))}function Hh(t,e){return Ih(t,(n=>t.moveVertically(n,e)))}const Vh=t=>Hh(t,!1),Jh=t=>Hh(t,!0);function Gh(t,e){return Ih(t,(n=>t.moveVertically(n,e,t.dom.clientHeight)))}const Wh=t=>Gh(t,!1),Zh=t=>Gh(t,!0),Kh=t=>Ih(t,(e=>Bh(t,e,!0))),Xh=t=>Ih(t,(e=>Bh(t,e,!1))),Yh=({state:t,dispatch:e})=>(e(kh(t,{anchor:0})),!0),Qh=({state:t,dispatch:e})=>(e(kh(t,{anchor:t.doc.length})),!0),tc=({state:t,dispatch:e})=>(e(kh(t,{anchor:t.selection.main.anchor,head:0})),!0),ec=({state:t,dispatch:e})=>(e(kh(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0);function nc({state:t,dispatch:e},n){let i="delete.selection",r=t.changeByRange((t=>{let{from:e,to:r}=t;if(e==r){let t=n(e);t<e?i="delete.backward":t>e&&(i="delete.forward"),e=Math.min(e,t),r=Math.max(r,t)}return e==r?{range:t}:{changes:{from:e,to:r},range:$n.cursor(e)}}));return!r.changes.empty&&(e(t.update(r,{scrollIntoView:!0,userEvent:i})),!0)}const ic=(t,e)=>nc(t,(n=>{let i,r,{state:s}=t,o=s.doc.lineAt(n);if(!e&&n>o.from&&n<o.from+200&&!/[^ \t]/.test(i=o.text.slice(0,n-o.from))){if("\t"==i[i.length-1])return n-1;let t=pn(i,s.tabSize)%eh(s)||eh(s);for(let e=0;e<t&&" "==i[i.length-1-e];e++)n--;r=n}else r=on(o.text,n-o.from,e)+o.from,r==n&&o.number!=(e?s.doc.lines:1)&&(r+=e?1:-1);if(t instanceof fu)for(let n of t.pluginField(ws.atomicRanges))n.between(r,r,((t,n)=>{r=e?n:t}));return r})),rc=t=>ic(t,!1),sc=t=>ic(t,!0),oc=(t,e)=>nc(t,(n=>{let i=n,{state:r}=t,s=r.doc.lineAt(i),o=r.charCategorizer(i);for(let t=null;;){if(i==(e?s.to:s.from)){i==n&&s.number!=(e?r.doc.lines:1)&&(i+=e?1:-1);break}let u=on(s.text,i-s.from,e)+s.from,a=s.text.slice(Math.min(i,u)-s.from,Math.max(i,u)-s.from),h=o(a);if(null!=t&&h!=t)break;" "==a&&i==n||(t=h),i=u}return i})),uc=t=>oc(t,!1),ac=t=>nc(t,(e=>{let n=t.visualLineAt(e).to;return e<n?n:Math.min(t.state.doc.length,e+1)}));function hc(t){let e=[],n=-1;for(let i of t.selection.ranges){let r=t.doc.lineAt(i.from),s=t.doc.lineAt(i.to);if(i.empty||i.to!=s.from||(s=t.doc.lineAt(i.to-1)),n>=r.number){let t=e[e.length-1];t.to=s.to,t.ranges.push(i)}else e.push({from:r.from,to:s.to,ranges:[i]});n=s.number+1}return e}function cc(t,e,n){let i=[],r=[];for(let e of hc(t)){if(n?e.to==t.doc.length:0==e.from)continue;let s=t.doc.lineAt(n?e.to+1:e.from-1),o=s.length+1;if(n){i.push({from:e.to,to:s.to},{from:e.from,insert:s.text+t.lineBreak});for(let n of e.ranges)r.push($n.range(Math.min(t.doc.length,n.anchor+o),Math.min(t.doc.length,n.head+o)))}else{i.push({from:s.from,to:e.from},{from:e.to,insert:t.lineBreak+s.text});for(let t of e.ranges)r.push($n.range(t.anchor-o,t.head-o))}}return!!i.length&&(e(t.update({changes:i,scrollIntoView:!0,selection:$n.create(r,t.selection.mainIndex),userEvent:"move.line"})),!0)}function lc(t,e,n){let i=[];for(let e of hc(t))n?i.push({from:e.from,insert:t.doc.slice(e.from,e.to)+t.lineBreak}):i.push({from:e.to,insert:t.lineBreak+t.doc.slice(e.from,e.to)});return e(t.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}function fc(t,e){let n=-1;return t.changeByRange((i=>{let r=[];for(let s=i.from;s<=i.to;){let o=t.doc.lineAt(s);o.number>n&&(i.empty||i.to>o.from)&&(e(o,r,i),n=o.number),s=o.to+1}let s=t.changes(r);return{changes:r,range:$n.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}}))}const dc=({state:t,dispatch:e})=>(e(t.update(fc(t,((e,n)=>{n.push({from:e.from,insert:t.facet(th)})})),{userEvent:"indent"})),!0),pc=({state:t,dispatch:e})=>(e(t.update(fc(t,((e,n)=>{let i=/^\s*/.exec(e.text)[0];if(!i)return;let r=pn(i,t.tabSize),s=0,o=nh(t,Math.max(0,r-eh(t)));for(;s<i.length&&s<o.length&&i.charCodeAt(s)==o.charCodeAt(s);)s++;n.push({from:e.from+s,to:e.from+i.length,insert:o.slice(s)})})),{userEvent:"indent"})),!0),mc=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:t=>Dh(t,(e=>Eh(t.state,e,t.textDirection!=Bs.LTR))),shift:t=>Ih(t,(e=>Eh(t.state,e,t.textDirection!=Bs.LTR)))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:t=>Dh(t,(e=>Eh(t.state,e,t.textDirection==Bs.LTR))),shift:t=>Ih(t,(e=>Eh(t.state,e,t.textDirection==Bs.LTR)))},{key:"Alt-ArrowUp",run:({state:t,dispatch:e})=>cc(t,e,!1)},{key:"Shift-Alt-ArrowUp",run:({state:t,dispatch:e})=>lc(t,e,!1)},{key:"Alt-ArrowDown",run:({state:t,dispatch:e})=>cc(t,e,!0)},{key:"Shift-Alt-ArrowDown",run:({state:t,dispatch:e})=>lc(t,e,!0)},{key:"Escape",run:({state:t,dispatch:e})=>{let n=t.selection,i=null;return n.ranges.length>1?i=$n.create([n.main]):n.main.empty||(i=$n.create([$n.cursor(n.main.head)])),!!i&&(e(kh(t,i)),!0)}},{key:"Alt-l",mac:"Ctrl-l",run:({state:t,dispatch:e})=>{let n=hc(t).map((({from:e,to:n})=>$n.range(e,Math.min(n+1,t.doc.length))));return e(t.update({selection:$n.create(n),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:t,dispatch:e})=>{let n=yh(t.selection,(e=>{var n;let i=Ua(t).resolveInner(e.head,1);for(;!(i.from<e.from&&i.to>=e.to||i.to>e.to&&i.from<=e.from)&&(null===(n=i.parent)||void 0===n?void 0:n.parent);)i=i.parent;return $n.range(i.to,i.from)}));return e(kh(t,n)),!0},preventDefault:!0},{key:"Mod-[",run:pc},{key:"Mod-]",run:dc},{key:"Mod-Alt-\\",run:({state:t,dispatch:e})=>{let n=Object.create(null),i=new rh(t,{overrideIndentation:t=>{let e=n[t];return null==e?-1:e}}),r=fc(t,((e,r,s)=>{let o=ih(i,e.from);if(null==o)return;/\S/.test(e.text)||(o=0);let u=/^\s*/.exec(e.text)[0],a=nh(t,o);(u!=a||s.from<e.from+u.length)&&(n[e.from]=o,r.push({from:e.from,to:e.from+u.length,insert:a}))}));return r.changes.empty||e(t.update(r,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:t=>{let{state:e}=t,n=e.changes(hc(e).map((({from:t,to:n})=>(t>0?t--:n<e.doc.length&&n++,{from:t,to:n})))),i=yh(e.selection,(e=>t.moveVertically(e,!0))).map(n);return t.dispatch({changes:n,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:t,dispatch:e})=>function(t,e,n){let i=!1,r=yh(t.selection,(e=>{let n=wh(t,e.head,-1)||wh(t,e.head,1)||e.head>0&&wh(t,e.head-1,1)||e.head<t.doc.length&&wh(t,e.head+1,-1);if(!n||!n.end)return e;i=!0;let r=n.start.from==e.head?n.end.to:n.end.from;return $n.cursor(r)}));return!!i&&(e(kh(t,r)),!0)}(t,e)}].concat([{key:"ArrowLeft",run:_h,shift:Nh,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:t=>Ah(t,t.textDirection!=Bs.LTR),shift:t=>Uh(t,t.textDirection!=Bs.LTR)},{mac:"Cmd-ArrowLeft",run:Lh,shift:Xh},{key:"ArrowRight",run:Mh,shift:Ph,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:t=>Ah(t,t.textDirection==Bs.LTR),shift:t=>Uh(t,t.textDirection==Bs.LTR)},{mac:"Cmd-ArrowRight",run:qh,shift:Kh},{key:"ArrowUp",run:Sh,shift:Vh,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Yh,shift:tc},{mac:"Ctrl-ArrowUp",run:Fh,shift:Wh},{key:"ArrowDown",run:Th,shift:Jh,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Qh,shift:ec},{mac:"Ctrl-ArrowDown",run:$h,shift:Zh},{key:"PageUp",run:Fh,shift:Wh},{key:"PageDown",run:$h,shift:Zh},{key:"Home",run:Lh,shift:Xh},{key:"Mod-Home",run:Yh,shift:tc},{key:"End",run:qh,shift:Kh},{key:"Mod-End",run:Qh,shift:ec},{key:"Enter",run:({state:t,dispatch:e})=>{let n=t.changeByRange((({from:e,to:n})=>{let i=e==n&&function(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n,i=Ua(t).resolveInner(e),r=i.childBefore(e),s=i.childAfter(e);return r&&s&&r.to<=e&&s.from>=e&&(n=r.type.prop(wa.closedBy))&&n.indexOf(s.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(s.from).from?{from:r.to,to:s.from}:null}(t,e),r=new rh(t,{simulateBreak:e,simulateDoubleBreak:!!i}),s=ih(r,e);null==s&&(s=/^\s*/.exec(t.doc.lineAt(e).text)[0].length);let o=t.doc.lineAt(e);for(;n<o.to&&/\s/.test(o.text[n-o.from]);)n++;i?({from:e,to:n}=i):e>o.from&&e<o.from+100&&!/\S/.test(o.text.slice(0,e))&&(e=o.from);let u=["",nh(t,s)];return i&&u.push(nh(t,r.lineIndent(o.from,-1))),{changes:{from:e,to:n,insert:vn.of(u)},range:$n.cursor(e+1+u[1].length)}}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Mod-a",run:({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:rc,shift:rc},{key:"Delete",run:sc,shift:sc},{key:"Mod-Backspace",mac:"Alt-Backspace",run:uc},{key:"Mod-Delete",mac:"Alt-Delete",run:t=>oc(t,!0)},{mac:"Mod-Backspace",run:t=>nc(t,(e=>{let n=t.visualLineAt(e).from;return e>n?n:Math.max(0,e-1)}))},{mac:"Mod-Delete",run:ac}].concat([{key:"Ctrl-b",run:_h,shift:Nh,preventDefault:!0},{key:"Ctrl-f",run:Mh,shift:Ph},{key:"Ctrl-p",run:Sh,shift:Vh},{key:"Ctrl-n",run:Th,shift:Jh},{key:"Ctrl-a",run:t=>Dh(t,(e=>$n.cursor(t.visualLineAt(e.head).from,1))),shift:t=>Ih(t,(e=>$n.cursor(t.visualLineAt(e.head).from)))},{key:"Ctrl-e",run:t=>Dh(t,(e=>$n.cursor(t.visualLineAt(e.head).to,-1))),shift:t=>Ih(t,(e=>$n.cursor(t.visualLineAt(e.head).to)))},{key:"Ctrl-d",run:sc},{key:"Ctrl-h",run:rc},{key:"Ctrl-k",run:ac},{key:"Ctrl-Alt-h",run:uc},{key:"Ctrl-o",run:({state:t,dispatch:e})=>{let n=t.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:vn.of(["",""])},range:$n.cursor(t.from)})));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:t,dispatch:e})=>{let n=t.changeByRange((e=>{if(!e.empty||0==e.from||e.from==t.doc.length)return{range:e};let n=e.from,i=t.doc.lineAt(n),r=n==i.from?n-1:on(i.text,n-i.from,!1)+i.from,s=n==i.to?n+1:on(i.text,n-i.from,!0)+i.from;return{changes:{from:r,to:s,insert:t.doc.slice(n,s).append(t.doc.slice(r,n))},range:$n.cursor(s)}}));return!n.changes.empty&&(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Alt-<",run:Yh},{key:"Alt->",run:Qh},{key:"Ctrl-v",run:$h},{key:"Alt-v",run:Fh}].map((t=>({mac:t.key,run:t.run,shift:t.shift}))))),vc={key:"Tab",run:dc,shift:pc},gc="function"==typeof String.prototype.normalize?t=>t.normalize("NFKD"):t=>t;class bc{constructor(t,e,n=0,i=t.length,r){this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(n,i),this.bufferStart=n,this.normalize=r?t=>r(gc(t)):gc,this.query=this.normalize(e)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return ln(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let t=this.peek();if(t<0)return this.done=!0,this;let e=fn(t),n=this.bufferStart+this.bufferPos;this.bufferPos+=dn(t);let i=this.normalize(e);for(let t=0,r=n;;t++){let s=i.charCodeAt(t),o=this.match(s,r);if(o)return this.value=o,this;if(t==i.length-1)break;r==n&&t<e.length&&e.charCodeAt(t)==s&&r++}}}match(t,e){let n=null;for(let i=0;i<this.matches.length;i+=2){let r=this.matches[i],s=!1;this.query.charCodeAt(r)==t&&(r==this.query.length-1?n={from:this.matches[i+1],to:e+1}:(this.matches[i]++,s=!0)),s||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==t&&(1==this.query.length?n={from:e,to:e+1}:this.matches.push(1,e)),n}}const wc={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100},yc=In.define({combine:t=>ki(t,wc,{highlightWordAroundCursor:(t,e)=>t||e,minSelectionLength:Math.min,maxMatches:Math.min})});function kc(t){let e=[_c,xc];return t&&e.push(yc.of(t)),e}const Dc=Yr.mark({class:"cm-selectionMatch"}),jc=Yr.mark({class:"cm-selectionMatch cm-selectionMatch-main"}),xc=Ds.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(yc),{state:n}=t,i=n.selection;if(i.ranges.length>1)return Yr.none;let r,s=i.main,o=null;if(s.empty){if(!e.highlightWordAroundCursor)return Yr.none;let t=n.wordAt(s.head);if(!t)return Yr.none;o=n.charCategorizer(s.head),r=n.sliceDoc(t.from,t.to)}else{let t=s.to-s.from;if(t<e.minSelectionLength||t>200)return Yr.none;if(r=n.sliceDoc(s.from,s.to).trim(),!r)return Yr.none}let u=[];for(let i of t.visibleRanges){let t=new bc(n.doc,r,i.from,i.to);for(;!t.nextOverlapping().done;){let{from:i,to:r}=t.value;if((!o||(0==i||o(n.sliceDoc(i-1,i))!=gi.Word)&&(r==n.doc.length||o(n.sliceDoc(r,r+1))!=gi.Word))&&(o&&i<=s.from&&r>=s.to?u.push(jc.range(i,r)):(i>=s.to||r<=s.from)&&u.push(Dc.range(i,r)),u.length>e.maxMatches))return Yr.none}}return Yr.set(u)}},{decorations:t=>t.decorations}),_c=fu.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),Mc="undefined"!=typeof navigator&&!/Edge\/(\d+)/.exec(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),Ac="-10000px";class Cc{constructor(t,e,n){this.facet=e,this.createTooltipView=n,this.input=t.state.facet(e),this.tooltips=this.input.filter((t=>t)),this.tooltipViews=this.tooltips.map(n)}update(t){const e=t.state.facet(this.facet),n=e.filter((t=>t));if(e===this.input){for(let e of this.tooltipViews)e.update&&e.update(t);return{shouldMeasure:!1}}let i=[];for(let e=0;e<n.length;e++){let r=n[e],s=-1;if(r){for(let t=0;t<this.tooltips.length;t++){let e=this.tooltips[t];e&&e.create==r.create&&(s=t)}if(s<0)i[e]=this.createTooltipView(r);else{let n=i[e]=this.tooltipViews[s];n.update&&n.update(t)}}}for(let t of this.tooltipViews)i.indexOf(t)<0&&t.dom.remove();return this.input=e,this.tooltips=n,this.tooltipViews=i,{shouldMeasure:!0}}}const Ec=Ds.fromClass(class{constructor(t){this.view=t,this.inView=!0,this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new Cc(t,Sc,(t=>this.createTooltip(t)))}update(t){const{shouldMeasure:e}=this.manager.update(t);e&&this.maybeMeasure()}createTooltip(t){let e=t.create(this.view);return e.dom.classList.add("cm-tooltip"),e.dom.style.top=Ac,this.view.dom.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){for(let{dom:t}of this.manager.tooltipViews)t.remove()}readMeasure(){return{editor:this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((t=>this.view.coordsAtPos(t.pos))),size:this.manager.tooltipViews.map((({dom:t})=>t.getBoundingClientRect())),innerWidth:window.innerWidth,innerHeight:window.innerHeight}}writeMeasure(t){let{editor:e}=t,n=[];for(let i=0;i<this.manager.tooltips.length;i++){let r=this.manager.tooltips[i],s=this.manager.tooltipViews[i],{dom:o}=s,u=t.pos[i],a=t.size[i];if(!u||u.bottom<=e.top||u.top>=e.bottom||u.right<=e.left||u.left>=e.right){o.style.top=Ac;continue}let h=a.right-a.left,c=a.bottom-a.top,l=this.view.textDirection==Bs.LTR?Math.min(u.left,t.innerWidth-h):Math.max(0,u.left-h),f=!!r.above;!r.strictSide&&(f?u.top-(a.bottom-a.top)<0:u.bottom+(a.bottom-a.top)>t.innerHeight)&&(f=!f);let d=f?u.top-c:u.bottom,p=l+h;for(let t of n)t.left<p&&t.right>l&&t.top<d+c&&t.bottom>d&&(d=f?t.top-c:t.bottom);Mc?(o.style.top=d-e.top+"px",o.style.left=l-e.left+"px",o.style.position="absolute"):(o.style.top=d+"px",o.style.left=l+"px"),n.push({left:l,top:d,right:p,bottom:d+c}),o.classList.toggle("cm-tooltip-above",f),o.classList.toggle("cm-tooltip-below",!f),s.positioned&&s.positioned()}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Ac}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),Oc=fu.baseTheme({".cm-tooltip":{position:"fixed",zIndex:100},"&light .cm-tooltip":{border:"1px solid #ddd",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #ddd"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"}}),Sc=In.define({enables:[Ec,Oc]});class Tc{constructor(t,e,n){this.state=t,this.pos=e,this.explicit=n,this.abortListeners=[]}tokenBefore(t){let e=Ua(this.state).resolveInner(this.pos,-1);for(;e&&t.indexOf(e.name)<0;)e=e.parent;return e?{from:e.from,to:this.pos,text:this.state.sliceDoc(e.from,this.pos),type:e.type}:null}matchBefore(t){let e=this.state.doc.lineAt(this.pos),n=Math.max(e.from,this.pos-250),i=e.text.slice(n-e.from,this.pos-e.from),r=i.search(Bc(t,!1));return r<0?null:{from:n+r,to:this.pos,text:i.slice(r)}}get aborted(){return null==this.abortListeners}addEventListener(t,e){"abort"==t&&this.abortListeners&&this.abortListeners.push(e)}}function Rc(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}class Fc{constructor(t,e,n){this.completion=t,this.source=e,this.match=n}}function $c(t){return t.selection.main.head}function Bc(t,e){var n;let{source:i}=t,r=e&&"^"!=i[0],s="$"!=i[i.length-1];return r||s?new RegExp(`${r?"^":""}(?:${i})${s?"$":""}`,null!==(n=t.flags)&&void 0!==n?n:t.ignoreCase?"i":""):t}function qc(t,e){let n=e.completion.apply||e.completion.label,i=e.source;"string"==typeof n?t.dispatch({changes:{from:i.from,to:i.to,insert:n},selection:{anchor:i.from+n.length},userEvent:"input.complete"}):n(t,e.completion,i.from,i.to)}const Lc=new WeakMap;function Ic(t){if(!Array.isArray(t))return t;let e=Lc.get(t);return e||Lc.set(t,e=function(t){let e=t.map((t=>"string"==typeof t?{label:t}:t)),[n,i]=e.every((t=>/^\w+$/.test(t.label)))?[/\w*$/,/\w+$/]:function(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let t=1;t<i.length;t++)n[i[t]]=!0}let i=Rc(e)+Rc(n)+"*$";return[new RegExp("^"+i),new RegExp(i)]}(e);return t=>{let r=t.matchBefore(i);return r||t.explicit?{from:r?r.from:t.pos,options:e,span:n}:null}}(t)),e}class zc{constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let e=0;e<t.length;){let n=ln(t,e),i=dn(n);this.chars.push(n);let r=t.slice(e,e+i),s=r.toUpperCase();this.folded.push(ln(s==r?r.toLowerCase():s,0)),e+=i}this.astral=t.length!=this.chars.length}match(t){if(0==this.pattern.length)return[0];if(t.length<this.pattern.length)return null;let{chars:e,folded:n,any:i,precise:r,byWord:s}=this;if(1==e.length){let i=ln(t,0);return i==e[0]?[0,0,dn(i)]:i==n[0]?[-200,0,dn(i)]:null}let o=t.indexOf(this.pattern);if(0==o)return[0,0,this.pattern.length];let u=e.length,a=0;if(o<0){for(let r=0,s=Math.min(t.length,200);r<s&&a<u;){let s=ln(t,r);s!=e[a]&&s!=n[a]||(i[a++]=r),r+=dn(s)}if(a<u)return null}let h=0,c=0,l=!1,f=0,d=-1,p=-1,m=/[a-z]/.test(t);for(let i=0,a=Math.min(t.length,200),v=0;i<a&&c<u;){let a=ln(t,i);o<0&&(h<u&&a==e[h]&&(r[h++]=i),f<u&&(a==e[f]||a==n[f]?(0==f&&(d=i),p=i,f++):f=0));let g,b=a<255?a>=48&&a<=57||a>=97&&a<=122?2:a>=65&&a<=90?1:0:(g=fn(a))!=g.toLowerCase()?1:g!=g.toUpperCase()?2:0;(1==b&&m||0==v&&0!=b)&&(e[c]==a||n[c]==a&&(l=!0))&&(s[c++]=i),v=b,i+=dn(a)}return c==u&&0==s[0]?this.result((l?-200:0)-100,s,t):f==u&&0==d?[-200,0,p]:o>-1?[-700,o,o+this.pattern.length]:f==u?[-900,d,p]:c==u?this.result((l?-200:0)-100-700,s,t):2==e.length?null:this.result((i[0]?-700:0)-200-1100,i,t)}result(t,e,n){let i=[t],r=1;for(let t of e){let e=t+(this.astral?dn(ln(n,t)):1);r>1&&i[r-1]==t?i[r-1]=e:(i[r++]=t,i[r++]=e)}return i}}const Nc=In.define({combine:t=>ki(t,{activateOnTyping:!0,override:null,maxRenderedOptions:100,defaultKeymap:!0},{defaultKeymap:(t,e)=>t&&e})}),Pc=fu.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{cursor:"pointer",padding:"1px 1em 1px 3px",lineHeight:1.2},"& > li[aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"}}},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});function Uc(t,e,n){const i=document.createElement("ul");i.id=e,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true");for(let r=n.from;r<n.to;r++){let{completion:n,match:s}=t[r];const o=i.appendChild(document.createElement("li"));o.id=e+"-"+r;let u=o.appendChild(document.createElement("div"));u.classList.add("cm-completionIcon"),n.type&&u.classList.add(...n.type.split(/\s+/g).map((t=>"cm-completionIcon-"+t))),u.setAttribute("aria-hidden","true");let a=o.appendChild(document.createElement("span"));a.className="cm-completionLabel";let{label:h,detail:c}=n,l=0;for(let t=1;t<s.length;){let e=s[t++],n=s[t++];e>l&&a.appendChild(document.createTextNode(h.slice(l,e)));let i=a.appendChild(document.createElement("span"));i.appendChild(document.createTextNode(h.slice(e,n))),i.className="cm-completionMatchedText",l=n}if(l<h.length&&a.appendChild(document.createTextNode(h.slice(l))),c){let t=o.appendChild(document.createElement("span"));t.className="cm-completionDetail",t.textContent=c}o.setAttribute("role","option")}return n.from&&i.classList.add("cm-completionListIncompleteTop"),n.to<t.length&&i.classList.add("cm-completionListIncompleteBottom"),i}function Hc(t,e,n){if(t<=n)return{from:0,to:t};if(e<=t>>1){let t=Math.floor(e/n);return{from:t*n,to:(t+1)*n}}let i=Math.floor((t-e)/n);return{from:t-(i+1)*n,to:t-i*n}}class Vc{constructor(t,e){this.view=t,this.stateField=e,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:t=>this.positionInfo(t),key:this};let n=t.state.field(e),{options:i,selected:r}=n.open,s=t.state.facet(Nc);this.range=Hc(i.length,r,s.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.dom.addEventListener("mousedown",(e=>{for(let n,r=e.target;r&&r!=this.dom;r=r.parentNode)if("LI"==r.nodeName&&(n=/-(\d+)$/.exec(r.id))&&+n[1]<i.length)return qc(t,i[+n[1]]),void e.preventDefault()})),this.list=this.dom.appendChild(Uc(i,n.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))}mount(){this.updateSel()}update(t){t.state.field(this.stateField)!=t.startState.field(this.stateField)&&this.updateSel()}positioned(){this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let t=this.view.state.field(this.stateField),e=t.open;if((e.selected<this.range.from||e.selected>=this.range.to)&&(this.range=Hc(e.options.length,e.selected,this.view.state.facet(Nc).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(Uc(e.options,t.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))),this.updateSelectedOption(e.selected)){this.info&&(this.info.remove(),this.info=null);let t=e.options[e.selected];t.completion.info&&(this.info=this.dom.appendChild(function(t,e){let n=document.createElement("div");n.className="cm-tooltip cm-completionInfo";let{info:i}=t.completion;if("string"==typeof i)n.textContent=i;else{let r=i(t.completion);r.then?r.then((t=>n.appendChild(t)),(t=>vs(e.state,t,"completion info"))):n.appendChild(r)}return n}(t,this.view)),this.view.requestMeasure(this.placeInfo))}}updateSelectedOption(t){let e=null;for(let n=this.list.firstChild,i=this.range.from;n;n=n.nextSibling,i++)i==t?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),e=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return e&&function(t,e){let n=t.getBoundingClientRect(),i=e.getBoundingClientRect();i.top<n.top?t.scrollTop-=n.top-i.top:i.bottom>n.bottom&&(t.scrollTop+=i.bottom-n.bottom)}(this.list,e),e}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t)return null;let e=this.dom.getBoundingClientRect(),n=t.getBoundingClientRect().top-e.top;if(n<0||n>this.list.clientHeight-10)return null;let i=this.view.textDirection==Bs.RTL,r=e.left,s=innerWidth-e.right;return i&&r<Math.min(300,s)?i=!1:!i&&s<Math.min(300,r)&&(i=!0),{top:n,left:i}}positionInfo(t){this.info&&t&&(this.info.style.top=t.top+"px",this.info.classList.toggle("cm-completionInfo-left",t.left),this.info.classList.toggle("cm-completionInfo-right",!t.left))}}function Jc(t){return 100*(t.boost||0)+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}class Gc{constructor(t,e,n,i,r){this.options=t,this.attrs=e,this.tooltip=n,this.timestamp=i,this.selected=r}setSelected(t,e){return t==this.selected||t>=this.options.length?this:new Gc(this.options,Zc(e,t),this.tooltip,this.timestamp,t)}static build(t,e,n,i){let r=function(t,e){let n=[],i=0;for(let r of t)if(r.hasResult())if(!1===r.result.filter)for(let t of r.result.options)n.push(new Fc(t,r,[1e9-i++]));else{let t,i=new zc(e.sliceDoc(r.from,r.to));for(let e of r.result.options)(t=i.match(e.label))&&(null!=e.boost&&(t[0]+=e.boost),n.push(new Fc(e,r,t)))}n.sort(Yc);let r=[],s=null;for(let t of n.sort(Yc)){if(300==r.length)break;s&&s.label==t.completion.label&&s.detail==t.completion.detail?Jc(t.completion)>Jc(s)&&(r[r.length-1]=t):r.push(t),s=t.completion}return r}(t,e);if(!r.length)return null;let s=0;if(i&&i.selected){let t=i.options[i.selected].completion;for(let e=0;e<r.length&&!s;e++)r[e].completion==t&&(s=e)}return new Gc(r,Zc(n,s),{pos:t.reduce(((t,e)=>e.hasResult()?Math.min(t,e.from):t),1e8),create:(o=ol,t=>new Vc(t,o))},i?i.timestamp:Date.now(),s);var o}map(t){return new Gc(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected)}}class Wc{constructor(t,e,n){this.active=t,this.id=e,this.open=n}static start(){return new Wc(Xc,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(t){let{state:e}=t,n=e.facet(Nc),i=(n.override||e.languageDataAt("autocomplete",$c(e)).map(Ic)).map((e=>(this.active.find((t=>t.source==e))||new tl(e,this.active.some((t=>0!=t.state))?1:0)).update(t,n)));i.length==this.active.length&&i.every(((t,e)=>t==this.active[e]))&&(i=this.active);let r=t.selection||i.some((e=>e.hasResult()&&t.changes.touchesRange(e.from,e.to)))||!function(t,e){if(t==e)return!0;for(let n=0,i=0;;){for(;n<t.length&&!t[n].hasResult;)n++;for(;i<e.length&&!e[i].hasResult;)i++;let r=n==t.length,s=i==e.length;if(r||s)return r==s;if(t[n++].result!=e[i++].result)return!1}}(i,this.active)?Gc.build(i,e,this.id,this.open):this.open&&t.docChanged?this.open.map(t.changes):this.open;!r&&i.every((t=>1!=t.state))&&i.some((t=>t.hasResult()))&&(i=i.map((t=>t.hasResult()?new tl(t.source,0):t)));for(let e of t.effects)e.is(sl)&&(r=r&&r.setSelected(e.value,this.id));return i==this.active&&r==this.open?this:new Wc(i,this.id,r)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:Kc}}function Zc(t,e){return{"aria-autocomplete":"list","aria-activedescendant":t+"-"+e,"aria-owns":t}}const Kc={"aria-autocomplete":"list"},Xc=[];function Yc(t,e){let n=e.match[0]-t.match[0];if(n)return n;let i=t.completion.label,r=e.completion.label;return i<r?-1:i==r?0:1}function Qc(t){return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}class tl{constructor(t,e,n=-1){this.source=t,this.state=e,this.explicitPos=n}hasResult(){return!1}update(t,e){let n=Qc(t),i=this;n?i=i.handleUserEvent(t,n,e):t.docChanged?i=i.handleChange(t):t.selection&&0!=i.state&&(i=new tl(i.source,0));for(let e of t.effects)if(e.is(nl))i=new tl(i.source,1,e.value?$c(t.state):-1);else if(e.is(il))i=new tl(i.source,0);else if(e.is(rl))for(let t of e.value)t.source==i.source&&(i=t);return i}handleUserEvent(t,e,n){return"delete"!=e&&n.activateOnTyping?new tl(this.source,1):this.map(t.changes)}handleChange(t){return t.changes.touchesRange($c(t.startState))?new tl(this.source,0):this.map(t.changes)}map(t){return t.empty||this.explicitPos<0?this:new tl(this.source,this.state,t.mapPos(this.explicitPos))}}class el extends tl{constructor(t,e,n,i,r,s){super(t,2,e),this.result=n,this.from=i,this.to=r,this.span=s}hasResult(){return!0}handleUserEvent(t,e,n){let i=t.changes.mapPos(this.from),r=t.changes.mapPos(this.to,1),s=$c(t.state);if((this.explicitPos>-1?s<i:s<=i)||s>r)return new tl(this.source,"input"==e&&n.activateOnTyping?1:0);let o=this.explicitPos<0?-1:t.changes.mapPos(this.explicitPos);return this.span&&(i==r||this.span.test(t.state.sliceDoc(i,r)))?new el(this.source,o,this.result,i,r,this.span):new tl(this.source,1,o)}handleChange(t){return t.changes.touchesRange(this.from,this.to)?new tl(this.source,0):this.map(t.changes)}map(t){return t.empty?this:new el(this.source,this.explicitPos<0?-1:t.mapPos(this.explicitPos),this.result,t.mapPos(this.from),t.mapPos(this.to,1),this.span)}}const nl=hi.define(),il=hi.define(),rl=hi.define({map:(t,e)=>t.map((t=>t.map(e)))}),sl=hi.define(),ol=Vn.define({create:()=>Wc.start(),update:(t,e)=>t.update(e),provide:t=>[Sc.from(t,(t=>t.tooltip)),fu.contentAttributes.from(t,(t=>t.attrs))]});function ul(t,e="option"){return n=>{let i=n.state.field(ol,!1);if(!i||!i.open||Date.now()-i.open.timestamp<75)return!1;let r,s=1;"page"==e&&(r=n.dom.querySelector(".cm-tooltip-autocomplete"))&&(s=Math.max(2,Math.floor(r.offsetHeight/r.firstChild.offsetHeight)));let o=i.open.selected+s*(t?1:-1),{length:u}=i.open.options;return o<0?o="page"==e?0:u-1:o>=u&&(o="page"==e?u-1:0),n.dispatch({effects:sl.of(o)}),!0}}class al{constructor(t,e){this.active=t,this.context=e,this.time=Date.now(),this.updates=[],this.done=void 0}}const hl=Ds.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of t.state.field(ol).active)1==e.state&&this.startQuery(e)}update(t){let e=t.state.field(ol);if(!t.selectionSet&&!t.docChanged&&t.startState.field(ol)==e)return;let n=t.transactions.some((t=>(t.selection||t.docChanged)&&!Qc(t)));for(let e=0;e<this.running.length;e++){let i=this.running[e];if(n||i.updates.length+t.transactions.length>50&&i.time-Date.now()>1e3){for(let e of i.context.abortListeners)try{e()}catch(t){vs(this.view.state,t)}i.context.abortListeners=null,this.running.splice(e--,1)}else i.updates.push(...t.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some((t=>1==t.state&&!this.running.some((e=>e.active.source==t.source))))?setTimeout((()=>this.startUpdate()),50):-1,0!=this.composing)for(let e of t.transactions)"input"==Qc(e)?this.composing=2:2==this.composing&&e.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:t}=this.view,e=t.field(ol);for(let t of e.active)1!=t.state||this.running.some((e=>e.active.source==t.source))||this.startQuery(t)}startQuery(t){let{state:e}=this.view,n=$c(e),i=new Tc(e,n,t.explicitPos==n),r=new al(t,i);this.running.push(r),Promise.resolve(t.source(i)).then((t=>{r.context.aborted||(r.done=t||null,this.scheduleAccept())}),(t=>{this.view.dispatch({effects:il.of(null)}),vs(this.view.state,t)}))}scheduleAccept(){this.running.every((t=>void 0!==t.done))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((()=>this.accept()),50))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(Nc);for(let i=0;i<this.running.length;i++){let r=this.running[i];if(void 0===r.done)continue;if(this.running.splice(i--,1),r.done){let i=new el(r.active.source,r.active.explicitPos,r.done,r.done.from,null!==(t=r.done.to)&&void 0!==t?t:$c(r.updates.length?r.updates[0].startState:this.view.state),r.done.span&&!1!==r.done.filter?Bc(r.done.span,!0):null);for(let t of r.updates)i=i.update(t,n);if(i.hasResult()){e.push(i);continue}}let s=this.view.state.field(ol).active.find((t=>t.source==r.active.source));if(s&&1==s.state)if(null==r.done){let t=new tl(r.active.source,0);for(let e of r.updates)t=t.update(e,n);1!=t.state&&e.push(t)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:rl.of(e)})}},{eventHandlers:{compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout((()=>this.view.dispatch({effects:nl.of(!1)})),20),this.composing=0}}});function cl(t={}){return[ol,Nc.of(t),hl,fl,Pc]}const ll=[{key:"Ctrl-Space",run:t=>!!t.state.field(ol,!1)&&(t.dispatch({effects:nl.of(!0)}),!0)},{key:"Escape",run:t=>{let e=t.state.field(ol,!1);return!(!e||!e.active.some((t=>0!=t.state))||(t.dispatch({effects:il.of(null)}),0))}},{key:"ArrowDown",run:ul(!0)},{key:"ArrowUp",run:ul(!1)},{key:"PageDown",run:ul(!0,"page")},{key:"PageUp",run:ul(!1,"page")},{key:"Enter",run:t=>{let e=t.state.field(ol,!1);return!(!e||!e.open||Date.now()-e.open.timestamp<75||(qc(t,e.open.options[e.open.selected]),0))}}],fl=Gn.override(Du.computeN([Nc],(t=>t.facet(Nc).defaultKeymap?[ll]:[])));function dl(t,e){return({state:n,dispatch:i})=>{let r=t(e,n.selection.ranges,n);return!!r&&(i(n.update(r)),!0)}}const pl=dl((function(t,e,n){let i=[],r=-1;for(let{from:t,to:s}of e){let e=i.length,o=1e9;for(let e=t;e<=s;){let u=n.doc.lineAt(e);if(u.from>r&&(t==s||s>u.from)){r=u.from;let t=gl(n,e).line;if(!t)continue;let s=/^\s*/.exec(u.text)[0].length,a=s==u.length,h=u.text.slice(s,s+t.length)==t?s:-1;s<u.text.length&&s<o&&(o=s),i.push({line:u,comment:h,token:t,indent:s,empty:a,single:!1})}e=u.to+1}if(o<1e9)for(let t=e;t<i.length;t++)i[t].indent<i[t].line.text.length&&(i[t].indent=o);i.length==e+1&&(i[e].single=!0)}if(2!=t&&i.some((t=>t.comment<0&&(!t.empty||t.single)))){let t=[];for(let{line:e,token:n,indent:r,empty:s,single:o}of i)!o&&s||t.push({from:e.from+r,insert:n+" "});let e=n.changes(t);return{changes:e,selection:n.selection.map(e,1)}}if(1!=t&&i.some((t=>t.comment>=0))){let t=[];for(let{line:e,comment:n,token:r}of i)if(n>=0){let i=e.from+n,s=i+r.length;" "==e.text[s-e.from]&&s++,t.push({from:i,to:s})}return{changes:t}}return null}),0),ml=dl((function(t,e,n){let i=e.map((t=>gl(n,t.from).block));if(!i.every((t=>t)))return null;let r=e.map(((t,e)=>function(t,{open:e,close:n},i,r){let s,o,u=t.sliceDoc(i-50,i),a=t.sliceDoc(r,r+50),h=/\s*$/.exec(u)[0].length,c=/^\s*/.exec(a)[0].length,l=u.length-h;if(u.slice(l-e.length,l)==e&&a.slice(c,c+n.length)==n)return{open:{pos:i-h,margin:h&&1},close:{pos:r+c,margin:c&&1}};r-i<=100?s=o=t.sliceDoc(i,r):(s=t.sliceDoc(i,i+50),o=t.sliceDoc(r-50,r));let f=/^\s*/.exec(s)[0].length,d=/\s*$/.exec(o)[0].length,p=o.length-d-n.length;return s.slice(f,f+e.length)==e&&o.slice(p,p+n.length)==n?{open:{pos:i+f+e.length,margin:/\s/.test(s.charAt(f+e.length))?1:0},close:{pos:r-d-n.length,margin:/\s/.test(o.charAt(p-1))?1:0}}:null}(n,i[e],t.from,t.to)));if(2!=t&&!r.every((t=>t))){let t=0;return n.changeByRange((e=>{let{open:n,close:s}=i[t++];if(r[t])return{range:e};let o=n.length+1;return{changes:[{from:e.from,insert:n+" "},{from:e.to,insert:" "+s}],range:$n.range(e.anchor+o,e.head+o)}}))}if(1!=t&&r.some((t=>t))){let t=[];for(let e,n=0;n<r.length;n++)if(e=r[n]){let r=i[n],{open:s,close:o}=e;t.push({from:s.pos-r.open.length,to:s.pos+s.margin},{from:o.pos-o.margin,to:o.pos+r.close.length})}return{changes:t}}return null}),0),vl=[{key:"Mod-/",run:t=>{let e=gl(t.state);return e.line?pl(t):!!e.block&&ml(t)}},{key:"Alt-A",run:ml}];function gl(t,e=t.selection.main.head){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const bl=2e3;function wl(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),i=t.state.doc.lineAt(n),r=n-i.from,s=r>bl?-1:r==i.length?function(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}(t,e.clientX):pn(i.text,t.state.tabSize,n-i.from);return{line:i.number,col:s,off:r}}function yl(t){let e=(null==t?void 0:t.eventFilter)||(t=>t.altKey&&0==t.button);return fu.mouseSelectionStyle.of(((t,n)=>e(n)?function(t,e){let n=wl(t,e),i=t.state.selection;return n?{update(t){if(t.docChanged){let e=t.changes.mapPos(t.startState.doc.line(n.line).from),r=t.state.doc.lineAt(e);n={line:r.number,col:n.col,off:Math.min(n.off,r.length)},i=i.map(t.changes)}},get(e,r,s){let o=wl(t,e);if(!o)return i;let u=function(t,e,n){let i=Math.min(e.line,n.line),r=Math.max(e.line,n.line),s=[];if(e.off>bl||n.off>bl||e.col<0||n.col<0){let o=Math.min(e.off,n.off),u=Math.max(e.off,n.off);for(let e=i;e<=r;e++){let n=t.doc.line(e);n.length<=u&&s.push($n.range(n.from+o,n.to+u))}}else{let o=Math.min(e.col,n.col),u=Math.max(e.col,n.col);for(let e=i;e<=r;e++){let n=t.doc.line(e),i=mn(n.text,o,t.tabSize),r=mn(n.text,u,t.tabSize);i<r&&s.push($n.range(n.from+i,n.from+r))}}return s}(t.state,n,o);return u.length?s?$n.create(u.concat(i.ranges)):$n.create(u):i}}:null}(t,n):null))}let kl=0;class Dl{constructor(t,e,n){this.set=t,this.base=e,this.modified=n,this.id=kl++}static define(t){if(null==t?void 0:t.base)throw new Error("Can not derive from a modified tag");let e=new Dl([],null,[]);if(e.set.push(e),t)for(let n of t.set)e.set.push(n);return e}static defineModifier(){let t=new xl;return e=>e.modified.indexOf(t)>-1?e:xl.get(e.base||e,e.modified.concat(t).sort(((t,e)=>t.id-e.id)))}}let jl=0;class xl{constructor(){this.instances=[],this.id=jl++}static get(t,e){if(!e.length)return t;let n=e[0].instances.find((n=>n.base==t&&function(t,e){return t.length==e.length&&t.every(((t,n)=>t==e[n]))}(e,n.modified)));if(n)return n;let i=[],r=new Dl(i,t,e);for(let t of e)t.instances.push(r);let s=_l(e);for(let e of t.set)for(let t of s)i.push(xl.get(e,t));return r}}function _l(t){let e=[t];for(let n=0;n<t.length;n++)for(let i of _l(t.slice(0,n).concat(t.slice(n+1))))e.push(i);return e}function Ml(t){let e=Object.create(null);for(let n in t){let i=t[n];Array.isArray(i)||(i=[i]);for(let t of n.split(" "))if(t){let n=[],r=2,s=t;for(let e=0;;){if("..."==s&&e>0&&e+3==t.length){r=1;break}let i=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!i)throw new RangeError("Invalid path: "+t);if(n.push("*"==i[0]?null:'"'==i[0][0]?JSON.parse(i[0]):i[0]),e+=i[0].length,e==t.length)break;let o=t[e++];if(e==t.length&&"!"==o){r=0;break}if("/"!=o)throw new RangeError("Invalid path: "+t);s=t.slice(e)}let o=n.length-1,u=n[o];if(!u)throw new RangeError("Invalid path: "+t);let a=new Sl(i,r,o>0?n.slice(0,o):null);e[u]=a.sort(e[u])}}return Al.add(e)}const Al=new wa,Cl=In.define({combine:t=>t.length?Tl.combinedMatch(t):null}),El=In.define({combine:t=>t.length?t[0].match:null});function Ol(t){return t.facet(Cl)||t.facet(El)}class Sl{constructor(t,e,n,i){this.tags=t,this.mode=e,this.context=n,this.next=i}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}class Tl{constructor(t,e){let n;function i(t){let e=_i.newName();return(n||(n=Object.create(null)))["."+e]=t,e}this.map=Object.create(null),this.all="string"==typeof e.all?e.all:e.all?i(e.all):null;for(let e of t){let t=(e.class||i(Object.assign({},e,{tag:null})))+(this.all?" "+this.all:""),n=e.tag;if(Array.isArray(n))for(let e of n)this.map[e.id]=t;else this.map[n.id]=t}this.module=n?new _i(n):null,this.scope=e.scope||null,this.match=this.match.bind(this);let r=[Rl];this.module&&r.push(fu.styleModule.of(this.module)),this.extension=r.concat(Cl.of(this)),this.fallback=r.concat(El.of(this))}match(t,e){if(this.scope&&e!=this.scope)return null;for(let e of t.set){let n=this.map[e.id];if(void 0!==n)return e!=t&&(this.map[t.id]=n),n}return this.map[t.id]=this.all}static combinedMatch(t){if(1==t.length)return t[0].match;let e=t.some((t=>t.scope))?void 0:Object.create(null);return(n,i)=>{let r=e&&e[n.id];if(void 0!==r)return r;let s=null;for(let e of t){let t=e.match(n,i);t&&(s=s?s+" "+t:t)}return e&&(e[n.id]=s),s}}static define(t,e){return new Tl(t,e||{})}static get(t,e,n){let i=Ol(t);return i&&i(e,n||ka.none)}}const Rl=Gn.extend(Ds.fromClass(class{constructor(t){this.markCache=Object.create(null),this.tree=Ua(t.state),this.decorations=this.buildDeco(t,Ol(t.state))}update(t){let e=Ua(t.state),n=Ol(t.state),i=n!=t.startState.facet(Cl);e.length<t.view.viewport.to&&!i?this.decorations=this.decorations.map(t.changes):(e!=this.tree||t.viewportChanged||i)&&(this.tree=e,this.decorations=this.buildDeco(t.view,n))}buildDeco(t,e){if(!e||!this.tree.length)return Yr.none;let n=new Ri;for(let{from:i,to:r}of t.visibleRanges)Bl(this.tree,i,r,e,((t,e,i)=>{n.add(t,e,this.markCache[i]||(this.markCache[i]=Yr.mark({class:i})))}));return n.finish()}},{decorations:t=>t.decorations})),Fl=[""];class $l{constructor(t,e,n){this.at=t,this.style=e,this.span=n,this.class=""}startSpan(t,e){e!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=e)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,e,n,i,r,s){let{type:o,from:u,to:a}=t;if(u>=n||a<=e)return;Fl[r]=o.name,o.isTop&&(s=o);let h=i,c=o.prop(Al),l=!1;for(;c;){if(!c.context||ql(c.context,Fl,r)){for(let t of c.tags){let e=this.style(t,s);e&&(h&&(h+=" "),h+=e,1==c.mode?i+=(i?" ":"")+e:0==c.mode&&(l=!0))}break}c=c.next}if(this.startSpan(t.from,h),l)return;let f=t.tree&&t.tree.prop(wa.mounted);if(f&&f.overlay){let e=t.node.enter(f.overlay[0].from+u,1),o=t.firstChild();for(let c=0,l=u;;c++){let d=c<f.overlay.length?f.overlay[c]:null,p=d?d.from+u:a;if(p>l&&o)for(;t.from<p&&(this.highlightRange(t,l,p,i,r+1,s),this.startSpan(Math.min(n,t.to),h),!(t.to>=p)&&t.nextSibling()););if(!d)break;this.highlightRange(e.cursor,d.from+u,d.to+u,i,r,f.tree.type),l=d.to+u,this.startSpan(l,h)}o&&t.parent()}else if(t.firstChild()){do{if(!(t.to<=e)){if(t.from>=n)break;this.highlightRange(t,e,n,i,r+1,s),this.startSpan(Math.min(n,t.to),h)}}while(t.nextSibling());t.parent()}}}function Bl(t,e,n,i,r){let s=new $l(e,i,r);s.highlightRange(t.cursor(),e,n,"",0,t.type),s.flush(n)}function ql(t,e,n){if(t.length>n-1)return!1;for(let i=n-1,r=t.length-1;r>=0;r--,i--){let n=t[r];if(n&&n!=e[i])return!1}return!0}const Ll=Dl.define,Il=Ll(),zl=Ll(),Nl=Ll(zl),Pl=Ll(),Ul=Ll(Pl),Hl=Ll(Pl),Vl=Ll(),Jl=Ll(Vl),Gl=Ll(),Wl=Ll(),Zl=Ll(),Kl=Ll(Zl),Xl=Ll(),Yl={comment:Il,lineComment:Ll(Il),blockComment:Ll(Il),docComment:Ll(Il),name:zl,variableName:Ll(zl),typeName:Nl,tagName:Ll(Nl),propertyName:Ll(zl),className:Ll(zl),labelName:Ll(zl),namespace:Ll(zl),macroName:Ll(zl),literal:Pl,string:Ul,docString:Ll(Ul),character:Ll(Ul),number:Hl,integer:Ll(Hl),float:Ll(Hl),bool:Ll(Pl),regexp:Ll(Pl),escape:Ll(Pl),color:Ll(Pl),url:Ll(Pl),keyword:Gl,self:Ll(Gl),null:Ll(Gl),atom:Ll(Gl),unit:Ll(Gl),modifier:Ll(Gl),operatorKeyword:Ll(Gl),controlKeyword:Ll(Gl),definitionKeyword:Ll(Gl),operator:Wl,derefOperator:Ll(Wl),arithmeticOperator:Ll(Wl),logicOperator:Ll(Wl),bitwiseOperator:Ll(Wl),compareOperator:Ll(Wl),updateOperator:Ll(Wl),definitionOperator:Ll(Wl),typeOperator:Ll(Wl),controlOperator:Ll(Wl),punctuation:Zl,separator:Ll(Zl),bracket:Kl,angleBracket:Ll(Kl),squareBracket:Ll(Kl),paren:Ll(Kl),brace:Ll(Kl),content:Vl,heading:Jl,heading1:Ll(Jl),heading2:Ll(Jl),heading3:Ll(Jl),heading4:Ll(Jl),heading5:Ll(Jl),heading6:Ll(Jl),contentSeparator:Ll(Vl),list:Ll(Vl),quote:Ll(Vl),emphasis:Ll(Vl),strong:Ll(Vl),link:Ll(Vl),monospace:Ll(Vl),strikethrough:Ll(Vl),inserted:Ll(),deleted:Ll(),changed:Ll(),invalid:Ll(),meta:Xl,documentMeta:Ll(Xl),annotation:Ll(Xl),processingInstruction:Ll(Xl),definition:Dl.defineModifier(),constant:Dl.defineModifier(),function:Dl.defineModifier(),standard:Dl.defineModifier(),local:Dl.defineModifier(),special:Dl.defineModifier()},Ql=Tl.define([{tag:Yl.link,textDecoration:"underline"},{tag:Yl.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Yl.emphasis,fontStyle:"italic"},{tag:Yl.strong,fontWeight:"bold"},{tag:Yl.strikethrough,textDecoration:"line-through"},{tag:Yl.keyword,color:"#708"},{tag:[Yl.atom,Yl.bool,Yl.url,Yl.contentSeparator,Yl.labelName],color:"#219"},{tag:[Yl.literal,Yl.inserted],color:"#164"},{tag:[Yl.string,Yl.deleted],color:"#a11"},{tag:[Yl.regexp,Yl.escape,Yl.special(Yl.string)],color:"#e40"},{tag:Yl.definition(Yl.variableName),color:"#00f"},{tag:Yl.local(Yl.variableName),color:"#30a"},{tag:[Yl.typeName,Yl.namespace],color:"#085"},{tag:Yl.className,color:"#167"},{tag:[Yl.special(Yl.variableName),Yl.macroName],color:"#256"},{tag:Yl.definition(Yl.propertyName),color:"#00c"},{tag:Yl.comment,color:"#940"},{tag:Yl.meta,color:"#7a757a"},{tag:Yl.invalid,color:"#f00"}]);function tf(t,e,n,i=0,r=0){null==e&&-1==(e=t.search(/[^\s\u00a0]/))&&(e=t.length);let s=r;for(let r=i;r<e;r++)9==t.charCodeAt(r)?s+=n-s%n:s++;return s}class ef{constructor(t,e,n){this.string=t,this.tabSize=e,this.indentUnit=n,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return 0==this.pos}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(t){let e,n=this.string.charAt(this.pos);if(e="string"==typeof t?n==t:n&&(t instanceof RegExp?t.test(n):t(n)),e)return++this.pos,n}eatWhile(t){let e=this.pos;for(;this.eat(t););return this.pos>e}eatSpace(){let t=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t}skipToEnd(){this.pos=this.string.length}skipTo(t){let e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0}backUp(t){this.pos-=t}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=tf(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){return tf(this.string,null,this.tabSize)}match(t,e,n){if("string"==typeof t){let i=t=>n?t.toLowerCase():t;return i(this.string.substr(this.pos,t.length))==i(t)?(!1!==e&&(this.pos+=t.length),!0):null}{let n=this.string.slice(this.pos).match(t);return n&&n.index>0?null:(n&&!1!==e&&(this.pos+=n[0].length),n)}}current(){return this.string.slice(this.start,this.pos)}}function nf(t){if("object"!=typeof t)return t;let e={};for(let n in t){let i=t[n];e[n]=i instanceof Array?i.slice():i}return e}class rf extends Na{constructor(t){let e,n=(r=t.languageData,In.define({combine:r?t=>t.concat(r):void 0})),i={token:(s=t).token,blankLine:s.blankLine||(()=>{}),startState:s.startState||(()=>!0),copyState:s.copyState||nf,indent:s.indent||(()=>null),languageData:s.languageData||{}};var r,s;super(n,new class extends La{createParse(t,n,i){return new uf(e,t,n,i)}},function(t){let e=ka.define({id:cf.length,name:"Document",props:[za.add((()=>t))]});return cf.push(e),e}(n),[Qa.of(((t,e)=>this.getIndent(t,e)))]),e=this,this.streamParser=i,this.stateAfter=new wa({perNode:!0})}static define(t){return new rf(t)}getIndent(t,e){let n=Ua(t.state),i=n.resolve(e);for(;i&&i.type!=this.topNode;)i=i.parent;if(!i)return null;let r,s,o=sf(this,n,0,i.from,e);if(o?(s=o.state,r=o.pos+1):(s=this.streamParser.startState(t.unit),r=0),e-r>1e4)return null;for(;r<e;){let n=t.state.doc.lineAt(r),i=Math.min(e,n.to);if(n.length){let e=new ef(n.text,t.state.tabSize,t.unit);for(;e.pos<i-n.from;)af(this.streamParser.token,e,s)}else this.streamParser.blankLine(s,t.unit);if(i==e)break;r=n.to+1}let{text:u}=t.state.doc.lineAt(e);return this.streamParser.indent(s,/^\s*(.*)/.exec(u)[1],t)}get allowsNesting(){return!1}}function sf(t,e,n,i,r){let s=n>=i&&n+e.length<=r&&e.prop(t.stateAfter);if(s)return{state:t.streamParser.copyState(s),pos:n+e.length};for(let s=e.children.length-1;s>=0;s--){let o=e.children[s],u=n+e.positions[s],a=o instanceof xa&&u<r&&sf(t,o,u,i,r);if(a)return a}return null}function of(t,e,n,i,r){if(r&&n<=0&&i>=e.length)return e;r||e.type!=t.topNode||(r=!0);for(let s=e.children.length-1;s>=0;s--){let o,u=e.positions[s]+n,a=e.children[s];if(u<i&&a instanceof xa){if(!(o=of(t,a,n-u,i-u,r)))break;return r?new xa(e.type,e.children.slice(0,s).concat(o),e.positions.slice(0,s+1),u+o.length):o}}return null}class uf{constructor(t,e,n,i){this.lang=t,this.input=e,this.fragments=n,this.ranges=i,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=i[i.length-1].to;let r=Ja.get(),s=i[0].from,{state:o,tree:u}=function(t,e,n,i){for(let i of e){let e,r=i.from<=n&&i.to>n&&sf(t,i.tree,0-i.offset,n,i.to);if(r&&(e=of(t,i.tree,n+i.offset,r.pos+i.offset,!1)))return{state:r.state,tree:e}}return{state:t.streamParser.startState(i?eh(i):4),tree:xa.empty}}(t,n,s,null==r?void 0:r.state);this.state=o,this.parsedPos=this.chunkStart=s+u.length,u.length&&(this.chunks.push(u),this.chunkPos.push(0)),r&&this.parsedPos<r.viewport.from-1e5&&(this.state=this.lang.streamParser.startState(eh(r.state)),r.skipUntilInView(this.parsedPos,r.viewport.from),this.parsedPos=r.viewport.from)}advance(){let t=Ja.get(),e=null==this.stoppedAt?this.to:this.stoppedAt,n=Math.min(e,this.chunkStart+2048);for(t&&(n=Math.min(n,t.viewport.to));this.parsedPos<n;)this.parseLine(t);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=e?this.finish():t&&this.parsedPos>t.viewport.to?(t.skipUntilInView(this.parsedPos,e),this.finish()):null}stopAt(t){this.stoppedAt=t}lineAfter(t){let e=this.input.chunk(t);if(this.input.lineChunks)"\n"==e&&(e="");else{let t=e.indexOf("\n");t>-1&&(e=e.slice(0,t))}return t+e.length<=this.to?e:e.slice(0,this.to-t)}nextLine(){let t=this.parsedPos,e=this.lineAfter(t),n=t+e.length;for(let t=this.rangeIndex;;){let i=this.ranges[t].to;if(i>=n)break;if(e=e.slice(0,i-(n-e.length)),t++,t==this.ranges.length)break;let r=this.ranges[t].from,s=this.lineAfter(r);e+=s,n=r+s.length}return{line:e,end:n}}skipGapsTo(t,e,n){for(;;){let i=this.ranges[this.rangeIndex].to,r=t+e;if(n>0?i>r:i>=r)break;e+=this.ranges[++this.rangeIndex].from-i}return e}emitToken(t,e,n,i,r){if(this.ranges.length>1){e+=r=this.skipGapsTo(e,r,1);let t=this.chunk.length;n+=r=this.skipGapsTo(n,r,-1),i+=this.chunk.length-t}return this.chunk.push(t,e,n,i),r}parseLine(t){let{line:e,end:n}=this.nextLine(),i=0,{streamParser:r}=this.lang,s=new ef(e,t?t.state.tabSize:4,t?eh(t.state):2);if(s.eol())r.blankLine(this.state,s.indentUnit);else for(;!s.eol();){let t=af(r.token,s,this.state);t&&(i=this.emitToken(df(t),this.parsedPos+s.start,this.parsedPos+s.pos,4,i))}this.parsedPos=n,this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let t=xa.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:lf,topID:0,maxBufferLength:2048,reused:this.chunkReused});t=new xa(t.type,t.children,t.positions,t.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(t),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new xa(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}function af(t,e,n){e.start=e.pos;for(let i=0;i<10;i++){let i=t(e,n);if(e.pos>e.start)return i}throw new Error("Stream parser failed to advance stream.")}const hf=Object.create(null),cf=[ka.none],lf=new Da(cf),ff=[];function df(t){return t?hf[t]||(hf[t]=function(t){let e=null;for(let n of t.split(".")){let t=Yl[n];t?"function"==typeof t?e?e=t(e):pf(n,`Modifier ${n} used at start of tag`):e?pf(n,`Tag ${n} used as modifier`):e=t:pf(n,`Unknown highlighting tag ${n}`)}if(!e)return 0;let n=t.replace(/ /g,"_"),i=ka.define({id:cf.length,name:n,props:[Ml({[n]:e})]});return cf.push(i),i.id}(t)):0}for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","typeName"],["attribute","propertyName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])hf[t]=df(e);function pf(t,e){ff.indexOf(t)>-1||(ff.push(t),console.warn(e))}function mf(t){for(var e={},n=0;n<t.length;++n)e[t[n]]=!0;return e}var vf,gf=["NULL","NA","Inf","NaN","NA_integer_","NA_real_","NA_complex_","NA_character_","TRUE","FALSE"],bf=["list","quote","bquote","eval","return","call","parse","deparse"],wf=["if","else","repeat","while","function","for","in","next","break"],yf=mf(gf),kf=mf(bf),Df=mf(wf),jf=mf(["if","else","repeat","while","function","for"]),xf=/[+\-*\/^<>=!&|~$:]/;function _f(t,e){vf=null;var n,i=t.next();if("#"==i)return t.skipToEnd(),"comment";if("0"==i&&t.eat("x"))return t.eatWhile(/[\da-f]/i),"number";if("."==i&&t.eat(/\d/))return t.match(/\d*(?:e[+\-]?\d+)?/),"number";if(/\d/.test(i))return t.match(/\d*(?:\.\d+)?(?:e[+\-]\d+)?L?/),"number";if("'"==i||'"'==i)return e.tokenize=(n=i,function(t,e){if(t.eat("\\")){var i=t.next();return"x"==i?t.match(/^[a-f0-9]{2}/i):("u"==i||"U"==i)&&t.eat("{")&&t.skipTo("}")?t.next():"u"==i?t.match(/^[a-f0-9]{4}/i):"U"==i?t.match(/^[a-f0-9]{8}/i):/[0-7]/.test(i)&&t.match(/^[0-7]{1,2}/),"string.special"}for(var r;null!=(r=t.next());){if(r==n){e.tokenize=_f;break}if("\\"==r){t.backUp(1);break}}return"string"}),"string";if("`"==i)return t.match(/[^`]+`/),"string.special";if("."==i&&t.match(/.(?:[.]|\d+)/))return"keyword";if(/[a-zA-Z\.]/.test(i)){t.eatWhile(/[\w\.]/);var r=t.current();return yf.propertyIsEnumerable(r)?"atom":Df.propertyIsEnumerable(r)?(jf.propertyIsEnumerable(r)&&!t.match(/\s*if(\s+|$)/,!1)&&(vf="block"),"keyword"):kf.propertyIsEnumerable(r)?"builtin":"variable"}return"%"==i?(t.skipTo("%")&&t.next(),"variableName.special"):"<"==i&&t.eat("-")||"<"==i&&t.match("<-")||"-"==i&&t.match(/>>?/)||"="==i&&e.ctx.argList?"operator":xf.test(i)?("$"==i||t.eatWhile(xf),"operator"):/[\(\){}\[\];]/.test(i)?(vf=i,";"==i?"punctuation":null):null}function Mf(t,e,n){t.ctx={type:e,indent:t.indent,flags:0,column:n.column(),prev:t.ctx}}function Af(t,e){var n=t.ctx;t.ctx={type:n.type,indent:n.indent,flags:n.flags|e,column:n.column,prev:n.prev}}function Cf(t){t.indent=t.ctx.indent,t.ctx=t.ctx.prev}const Ef={startState:function(t){return{tokenize:_f,ctx:{type:"top",indent:-t,flags:2},indent:0,afterIdent:!1}},token:function(t,e){if(t.sol()&&(0==(3&e.ctx.flags)&&(e.ctx.flags|=2),4&e.ctx.flags&&Cf(e),e.indent=t.indentation()),t.eatSpace())return null;var n=e.tokenize(t,e);return"comment"!=n&&0==(2&e.ctx.flags)&&Af(e,1),";"!=vf&&"{"!=vf&&"}"!=vf||"block"!=e.ctx.type||Cf(e),"{"==vf?Mf(e,"}",t):"("==vf?(Mf(e,")",t),e.afterIdent&&(e.ctx.argList=!0)):"["==vf?Mf(e,"]",t):"block"==vf?Mf(e,"block",t):vf==e.ctx.type?Cf(e):"block"==e.ctx.type&&"comment"!=n&&Af(e,4),e.afterIdent="variable"==n||"keyword"==n,n},indent:function(t,e,n){if(t.tokenize!=_f)return 0;var i=e&&e.charAt(0),r=t.ctx,s=i==r.type;return 4&r.flags&&(r=r.prev),"block"==r.type?r.indent+("{"==i?0:n.unit):1&r.flags?r.column+(s?0:1):r.indent+(s?0:n.unit)},languageData:{wordChars:".",commentTokens:{line:"#"},autocomplete:gf.concat(bf,wf)}};var Of=__webpack_require__(6518),Sf=__webpack_require__.n(Of),Tf=__webpack_require__(7266);class Rf{constructor(t){this._currentChanged=new R.Signal(this),this._isDisposed=!1,this._widgetAdded=new R.Signal(this),this._widgetUpdated=new R.Signal(this);const e=this._focusTracker=new Et,n=this._pool=new Tf.RestorablePool(t);this.namespace=t.namespace,e.currentChanged.connect(((t,e)=>{e.newValue!==this.currentWidget&&(n.current=e.newValue)}),this),n.added.connect(((t,e)=>{this._widgetAdded.emit(e)}),this),n.currentChanged.connect(((t,i)=>{null===i&&e.currentWidget?n.current=e.currentWidget:(this.onCurrentChanged(i),this._currentChanged.emit(i))}),this),n.updated.connect(((t,e)=>{this._widgetUpdated.emit(e)}),this)}get currentChanged(){return this._currentChanged}get currentWidget(){return this._pool.current||null}get restored(){return this._pool.restored}get size(){return this._pool.size}get widgetAdded(){return this._widgetAdded}get widgetUpdated(){return this._widgetUpdated}async add(t){this._focusTracker.add(t),await this._pool.add(t),this._focusTracker.activeWidget||(this._pool.current=t)}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,this._pool.dispose(),this._focusTracker.dispose(),R.Signal.clearData(this))}find(t){return this._pool.find(t)}forEach(t){return this._pool.forEach(t)}filter(t){return this._pool.filter(t)}inject(t){return this._pool.inject(t)}has(t){return this._pool.has(t)}async restore(t){return this._pool.restore(t)}async save(t){return this._pool.save(t)}onCurrentChanged(t){}}var Ff=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,i){return t[0]===e&&(n=i,!0)})),n}return function(){function e(){this.V=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.V.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.V,e),i=this.V[n];return i&&i[1]},e.prototype.set=function(e,n){var i=t(this.V,e);~i?this.V[i][1]=n:this.V.push([e,n])},e.prototype.delete=function(e){var n=this.V,i=t(n,e);~i&&n.splice(i,1)},e.prototype.has=function(e){return!!~t(this.V,e)},e.prototype.clear=function(){this.V.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,i=this.V;n<i.length;n++){var r=i[n];t.call(e,r[1],r[0])}},e}()}(),$f="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,Bf=void 0!==__webpack_require__.g&&__webpack_require__.g.Math===Math?__webpack_require__.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),qf="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(Bf):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)},Lf=["top","right","bottom","left","width","height","size","weight"],If="undefined"!=typeof MutationObserver,zf=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,i=!1,r=0;function s(){n&&(n=!1,t()),i&&u()}function o(){qf(s)}function u(){var t=Date.now();if(n){if(t-r<2)return;i=!0}else n=!0,i=!1,setTimeout(o,20);r=t}return u}(this.refresh.bind(this))}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){$f&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),If?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){$f&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;Lf.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),Nf=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},Pf=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||Bf},Uf=Gf(0,0,0,0);function Hf(t){return parseFloat(t)||0}function Vf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+Hf(t["border-"+n+"-width"])}),0)}var Jf="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof Pf(t).SVGGraphicsElement}:function(t){return t instanceof Pf(t).SVGElement&&"function"==typeof t.getBBox};function Gf(t,e,n,i){return{x:t,y:e,width:n,height:i}}var Wf=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Gf(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=function(t){return $f?Jf(t)?function(t){var e=t.getBBox();return Gf(0,0,e.width,e.height)}(t):function(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return Uf;var i=Pf(t).getComputedStyle(t),r=function(t){for(var e={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var r=i[n],s=t["padding-"+r];e[r]=Hf(s)}return e}(i),s=r.left+r.right,o=r.top+r.bottom,u=Hf(i.width),a=Hf(i.height);if("border-box"===i.boxSizing&&(Math.round(u+s)!==e&&(u-=Vf(i,"left","right")+s),Math.round(a+o)!==n&&(a-=Vf(i,"top","bottom")+o)),!function(t){return t===Pf(t).document.documentElement}(t)){var h=Math.round(u+s)-e,c=Math.round(a+o)-n;1!==Math.abs(h)&&(u-=h),1!==Math.abs(c)&&(a-=c)}return Gf(r.left,r.top,u,a)}(t):Uf}(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),Zf=function(t,e){var n=function(t){var e=t.x,n=t.y,i=t.width,r=t.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(s.prototype);return Nf(o,{x:e,y:n,width:i,height:r,top:n,right:e+i,bottom:r+n,left:e}),o}(e);Nf(this,{target:t,contentRect:n})},Kf=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new Ff,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof Pf(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new Wf(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof Pf(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new Zf(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),Xf="undefined"!=typeof WeakMap?new WeakMap:new Ff,Yf=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=zf.getInstance(),i=new Kf(e,n,this);Xf.set(this,i)};["observe","unobserve","disconnect"].forEach((function(t){Yf.prototype[t]=function(){var e;return(e=Xf.get(this))[t].apply(e,arguments)}}));const Qf=void 0!==Bf.ResizeObserver?Bf.ResizeObserver:Yf,td="jp-OutputArea-child",ed="jp-OutputArea-output",nd="jp-OutputArea-prompt";class id extends K{constructor(t){super(),this.outputLengthChanged=new R.Signal(this),this._onIOPub=t=>{const e=this.model,n=t.header.msg_type;let i;const r=(t.content.transient||{}).display_id;let s;switch(n){case"execute_result":case"display_data":case"stream":case"error":i=Object.assign(Object.assign({},t.content),{output_type:n}),e.add(i);break;case"clear_output":{const n=t.content.wait;e.clear(n);break}case"update_display_data":if(i=Object.assign(Object.assign({},t.content),{output_type:"display_data"}),s=this._displayIdMap.get(r),s)for(const t of s)e.set(t,i)}r&&"display_data"===n&&(s=this._displayIdMap.get(r)||[],s.push(e.length-1),this._displayIdMap.set(r,s))},this._onExecuteReply=t=>{const e=this.model,n=t.content;if("ok"!==n.status)return;const i=n&&n.payload;if(!i||!i.length)return;const r=i.filter((t=>"page"===t.source));if(!r.length)return;const s={output_type:"display_data",data:JSON.parse(JSON.stringify(r[0])).data,metadata:{}};e.add(s)},this._minHeightTimeout=null,this._displayIdMap=new Map,this._outputTracker=new Rf({namespace:F.UUID.uuid4()});const e=this.model=t.model;this.addClass("jp-OutputArea"),this.rendermime=t.rendermime,this.contentFactory=t.contentFactory||id.defaultContentFactory,this.layout=new et,this.trimmedOutputModels=new Array,this.maxNumberOutputs=t.maxNumberOutputs||0,this.headTailNumberOutputs=Math.round(this.maxNumberOutputs/2),this.headEndIndex=this.headTailNumberOutputs;for(let t=0;t<e.length;t++){const n=e.get(t);this._insertOutput(t,n)}e.changed.connect(this.onModelChanged,this),e.stateChanged.connect(this.onStateChanged,this)}get widgets(){return this.layout.widgets}get future(){return this._future}set future(t){if(this.model.isDisposed)throw Error("Model is disposed");this._future!==t&&(this._future&&this._future.dispose(),this._future=t,this.model.clear(),this.widgets.length&&(this._clear(),this.outputLengthChanged.emit(this.model.length)),t.onIOPub=this._onIOPub,t.onReply=this._onExecuteReply,t.onStdin=e=>{i.KernelMessage.isInputRequestMsg(e)&&this.onInputRequest(e,t)})}dispose(){this._future&&(this._future.dispose(),this._future=null),this._displayIdMap.clear(),this._outputTracker.dispose(),super.dispose()}onModelChanged(t,e){switch(e.type){case"add":this._insertOutput(e.newIndex,e.newValues[0]),this.outputLengthChanged.emit(this.model.length);break;case"remove":if(this.widgets.length){if(0===this.model.length)this._clear();else{const t=e.oldIndex;for(let n=0;n<e.oldValues.length&&t<this.widgets.length;++n){const e=this.widgets[t];e.parent=null,e.dispose()}this._moveDisplayIdIndices(t,e.oldValues.length),this._preventHeightChangeJitter()}this.outputLengthChanged.emit(this.model.length)}break;case"set":this._setOutput(e.newIndex,e.newValues[0]),this.outputLengthChanged.emit(this.model.length)}}_moveDisplayIdIndices(t,e){this._displayIdMap.forEach((n=>{const i=t+e;for(let r=n.length-1;r>=0;--r){const s=n[r];s>=t&&s<i?n.splice(r,1):s>=i&&(n[r]-=e)}}))}onStateChanged(t){this.trimmedOutputModels=new Array;for(let t=0;t<this.model.length;t++)this._setOutput(t,this.model.get(t));this.outputLengthChanged.emit(this.model.length)}_clear(){if(!this.widgets.length)return;const t=this.widgets.length;for(let e=0;e<t;e++){const t=this.widgets[0];t.parent=null,t.dispose()}this._displayIdMap.clear(),this._preventHeightChangeJitter()}_preventHeightChangeJitter(){const t=this.node.getBoundingClientRect();this.node.style.minHeight=`${t.height}px`,this._minHeightTimeout&&window.clearTimeout(this._minHeightTimeout),this._minHeightTimeout=window.setTimeout((()=>{this.isDisposed||(this.node.style.minHeight="")}),50)}onInputRequest(t,e){const n=this.contentFactory,i=t.content.prompt,r=t.content.password,s=new at;s.addClass(td),s.addClass("jp-OutputArea-stdin-item");const o=n.createOutputPrompt();o.addClass(nd),s.addWidget(o);const u=n.createStdin({prompt:i,password:r,future:e});u.addClass(ed),s.addWidget(u),this.layout.addWidget(s),u.value.then((t=>{this.model.add({output_type:"stream",name:"stdin",text:t+"\n"}),s.dispose()}))}_setOutput(t,e){const n=this.layout,i=n.widgets[t],r=i.widgets?i.widgets[1]:i,s=this.rendermime.preferredMimeType(e.data,e.trusted?"any":"ensure");r.renderModel&&od.currentPreferredMimetype.get(r)===s&&id.isIsolated(s,e.metadata)===r instanceof od.IsolatedRenderer?r.renderModel(e):(n.widgets[t].dispose(),this._insertOutput(t,e))}_insertOutput(t,e){if(0===t&&(this.trimmedOutputModels=new Array),t===this.maxNumberOutputs&&0!==this.maxNumberOutputs){const t=this.model.contentFactory.createOutputModel({value:{output_type:"display_data",data:{"text/html":`\n              <a style="margin: 10px; text-decoration: none;">\n                <pre>Output of this cell has been trimmed on the initial display.</pre>\n                <pre>Displaying the first ${this.maxNumberOutputs} top and last bottom outputs.</pre>\n                <pre>Click on this message to get the complete output.</pre>\n              </a>\n              `}}}),e=()=>this._showTrimmedOutputs(this.headTailNumberOutputs),n=this.createOutputItem(t);n.node.addEventListener("click",e),this.layout.insertWidget(this.headEndIndex,n)}const n=this._createOutput(e),i=this.layout;t<this.maxNumberOutputs||0===this.maxNumberOutputs?i.insertWidget(t,n):t>=this.maxNumberOutputs&&(i.removeWidgetAt(this.headTailNumberOutputs+1),i.insertWidget(t,n)),t>=this.headTailNumberOutputs&&0!==this.maxNumberOutputs&&this.trimmedOutputModels.push(e),this._outputTracker.has(n)||this._outputTracker.add(n)}_createOutput(t){let e=this.createOutputItem(t);return e?e.toggleClass("jp-OutputArea-executeResult",null!==t.executionCount):e=new K,e}get outputTracker(){return this._outputTracker}_showTrimmedOutputs(t){const e=this.layout;e.removeWidgetAt(t);for(let n=0;n<this.trimmedOutputModels.length-this.headTailNumberOutputs;n++){const i=this._createOutput(this.trimmedOutputModels[n]);e.insertWidget(t+n,i)}}createOutputItem(t){const e=this.createRenderedMimetype(t);if(!e)return null;const n=new od.OutputPanel;n.addClass(td);const i=this.contentFactory.createOutputPrompt();return i.executionCount=t.executionCount,i.addClass(nd),n.addWidget(i),e.addClass(ed),n.addWidget(e),n}createRenderedMimetype(t){const e=this.rendermime.preferredMimeType(t.data,t.trusted?"any":"ensure");if(!e)return null;let n=this.rendermime.createRenderer(e);return!0===id.isIsolated(e,t.metadata)&&(n=new od.IsolatedRenderer(n)),od.currentPreferredMimetype.set(n,e),n.renderModel(t).catch((t=>{const e=document.createElement("pre");e.textContent=`Javascript Error: ${t.message}`,n.node.appendChild(e),n.node.className="lm-Widget jp-RenderedText",n.node.setAttribute("data-mime-type","application/vnd.jupyter.stderr")})),n}}!function(t){t.execute=async function(t,e,n,i){var r;let s=!0;i&&Array.isArray(i.tags)&&-1!==i.tags.indexOf("raises-exception")&&(s=!1);const o={code:t,stop_on_error:s},u=null===(r=n.session)||void 0===r?void 0:r.kernel;if(!u)throw new Error("Session has no kernel.");const a=u.requestExecute(o,!1,i);return e.future=a,a.done},t.isIsolated=function(t,e){const n=e[t];return n&&void 0!==n.isolated?!!n.isolated:!!e.isolated};class e{createOutputPrompt(){return new rd}createStdin(t){return new sd(t)}}t.ContentFactory=e,t.defaultContentFactory=new e}(id||(id={}));class rd extends K{constructor(){super(),this._executionCount=null,this.addClass("jp-OutputPrompt")}get executionCount(){return this._executionCount}set executionCount(t){this._executionCount=t,this.node.textContent=null===t?"":`[${t}]:`}}class sd extends K{constructor(t){super({node:od.createInputWidgetNode(t.prompt,t.password)}),this._promise=new F.PromiseDelegate,this.addClass("jp-Stdin"),this._input=this.node.getElementsByTagName("input")[0],this._input.focus(),this._future=t.future,this._value=t.prompt+" "}get value(){return this._promise.promise.then((()=>this._value))}handleEvent(t){const e=this._input;"keydown"===t.type&&13===t.keyCode&&(this._future.sendInputReply({status:"ok",value:e.value}),"password"===e.type?this._value+=Array(e.value.length+1).join("·"):this._value+=e.value,this._promise.resolve(void 0))}onAfterAttach(t){this._input.addEventListener("keydown",this),this.update()}onUpdateRequest(t){this._input.focus()}onBeforeDetach(t){this._input.removeEventListener("keydown",this)}}var od,ud,ad,hd,cd;function ld(t){return"execute_result"===t.output_type}function fd(t){return"display_data"===t.output_type}function dd(t){return"stream"===t.output_type}!function(t){t.createInputWidgetNode=function(t,e){const n=document.createElement("div"),i=document.createElement("pre");i.className="jp-Stdin-prompt",i.textContent=t;const r=document.createElement("input");return r.className="jp-Stdin-input",e&&(r.type="password"),n.appendChild(i),i.appendChild(r),n},t.IsolatedRenderer=class extends K{constructor(t){super({node:document.createElement("iframe")}),this.addClass("jp-mod-isolated"),this._wrapped=t;const e=this.node;e.frameBorder="0",e.scrolling="auto",e.addEventListener("load",(()=>{e.contentDocument.open(),e.contentDocument.write(this._wrapped.node.innerHTML),e.contentDocument.close();const t=e.contentDocument.body;e.style.height=`${t.scrollHeight}px`,e.heightChangeObserver=new Qf((()=>{e.style.height=`${t.scrollHeight}px`})),e.heightChangeObserver.observe(t)}))}renderModel(t){return this._wrapped.renderModel(t)}},t.currentPreferredMimetype=new T.AttachedProperty({name:"preferredMimetype",create:t=>""}),t.OutputPanel=class extends at{constructor(t){super(t)}_onContext(t){this.node.focus()}onAfterAttach(t){super.onAfterAttach(t),this.node.addEventListener("contextmenu",this._onContext.bind(this))}onBeforeDetach(t){super.onAfterDetach(t),this.node.removeEventListener("contextmenu",this._onContext.bind(this))}}}(od||(od={}));class pd{constructor(t={}){this._array=[],this._isDisposed=!1,this._changed=new R.Signal(this),void 0!==t.values&&(0,y.each)(t.values,(t=>{this._array.push(t)})),this._itemCmp=t.itemCmp||ud.itemCmp}get type(){return"List"}get changed(){return this._changed}get length(){return this._array.length}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,R.Signal.clearData(this),this.clear())}iter(){return new y.ArrayIterator(this._array)}get(t){return this._array[t]}set(t,e){const n=this._array[t];if(void 0===e)throw new Error("Cannot set an undefined item");(0,this._itemCmp)(n,e)||(this._array[t]=e,this._changed.emit({type:"set",oldIndex:t,newIndex:t,oldValues:[n],newValues:[e]}))}push(t){const e=this._array.push(t);return this._changed.emit({type:"add",oldIndex:-1,newIndex:this.length-1,oldValues:[],newValues:[t]}),e}insert(t,e){t===this._array.length?this._array.push(e):y.ArrayExt.insert(this._array,t,e),this._changed.emit({type:"add",oldIndex:-2,newIndex:t,oldValues:[],newValues:[e]})}removeValue(t){const e=this._itemCmp,n=y.ArrayExt.findFirstIndex(this._array,(n=>e(n,t)));return this.remove(n),n}remove(t){const e=y.ArrayExt.removeAt(this._array,t);if(void 0!==e)return this._changed.emit({type:"remove",oldIndex:t,newIndex:-1,newValues:[],oldValues:[e]}),e}clear(){const t=this._array.slice();this._array.length=0,this._changed.emit({type:"remove",oldIndex:0,newIndex:0,newValues:[],oldValues:t})}move(t,e){if(this.length<=1||t===e)return;const n=[this._array[t]];y.ArrayExt.move(this._array,t,e),this._changed.emit({type:"move",oldIndex:t,newIndex:e,oldValues:n,newValues:n})}pushAll(t){const e=this.length;return(0,y.each)(t,(t=>{this._array.push(t)})),this._changed.emit({type:"add",oldIndex:-1,newIndex:e,oldValues:[],newValues:(0,y.toArray)(t)}),this.length}insertAll(t,e){const n=t;(0,y.each)(e,(e=>{y.ArrayExt.insert(this._array,t++,e)})),this._changed.emit({type:"add",oldIndex:-2,newIndex:n,oldValues:[],newValues:(0,y.toArray)(e)})}removeRange(t,e){const n=this._array.slice(t,e);for(let n=t;n<e;n++)y.ArrayExt.removeAt(this._array,t);return this._changed.emit({type:"remove",oldIndex:t,newIndex:-1,oldValues:n,newValues:[]}),this.length}}!function(t){t.itemCmp=function(t,e){return t===e}}(ud||(ud={})),function(t){t.itemCmp=function(t,e){return t===e}}(ad||(ad={}));class md extends class{constructor(t={}){if(this._map=new Map,this._changed=new R.Signal(this),this._isDisposed=!1,this._itemCmp=t.itemCmp||ad.itemCmp,t.values)for(const e in t.values)this._map.set(e,t.values[e])}get type(){return"Map"}get changed(){return this._changed}get isDisposed(){return this._isDisposed}get size(){return this._map.size}set(t,e){const n=this._map.get(t);if(void 0===e)throw Error("Cannot set an undefined value, use remove");const i=this._itemCmp;return void 0!==n&&i(n,e)||(this._map.set(t,e),this._changed.emit({type:n?"change":"add",key:t,oldValue:n,newValue:e})),n}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){const t=[];return this._map.forEach(((e,n)=>{t.push(n)})),t}values(){const t=[];return this._map.forEach(((e,n)=>{t.push(e)})),t}delete(t){const e=this._map.get(t);return this._map.delete(t)&&this._changed.emit({type:"remove",key:t,oldValue:e,newValue:void 0}),e}clear(){const t=this.keys();for(let e=0;e<t.length;e++)this.delete(t[e])}dispose(){this.isDisposed||(this._isDisposed=!0,R.Signal.clearData(this),this._map.clear())}}{constructor(t={}){super({itemCmp:F.JSONExt.deepEqual,values:t.values})}toJSON(){const t=Object.create(null),e=this.keys();for(const n of e){const e=this.get(n);void 0!==e&&(t[n]=F.JSONExt.deepCopy(e))}return t}}!function(t){t.ChangeMessage=class extends A{constructor(t,e){super(t),this.args=e}}}(md||(md={}));class vd{constructor(t){this._changed=new R.Signal(this),this._raw={};const{data:e,metadata:n,trusted:i}=hd.getBundleOptions(t);this._data=new md({values:e}),this._rawData=e,this._metadata=new md({values:n}),this._rawMetadata=n,this.trusted=i;const r=t.value;for(const t in r)switch(t){case"data":case"metadata":break;default:this._raw[t]=hd.extract(r,t)}this.type=r.output_type,ld(r)?this.executionCount=r.execution_count:this.executionCount=null}get changed(){return this._changed}dispose(){this._data.dispose(),this._metadata.dispose(),R.Signal.clearData(this)}get data(){return this._rawData}get metadata(){return this._rawMetadata}setData(t){t.data&&(this._updateObservable(this._data,t.data),this._rawData=t.data),t.metadata&&(this._updateObservable(this._metadata,t.metadata),this._rawMetadata=t.metadata),this._changed.emit(void 0)}toJSON(){const t={};for(const e in this._raw)t[e]=hd.extract(this._raw,e);switch(this.type){case"display_data":case"execute_result":case"update_display_data":t.data=this.data,t.metadata=this.metadata}return delete t.transient,t}_updateObservable(t,e){const n=t.keys(),i=Object.keys(e);for(const e of n)-1===i.indexOf(e)&&t.delete(e);for(const n of i){const i=t.get(n),r=e[n];i!==r&&t.set(n,r)}}}!function(t){t.getData=function(t){return hd.getData(t)},t.getMetadata=function(t){return hd.getMetadata(t)}}(vd||(vd={})),function(t){function e(t){let e={};if(ld(t)||fd(t)||function(t){return"update_display_data"===t.output_type}(t))e=t.data;else if(dd(t))"stderr"===t.name?e["application/vnd.jupyter.stderr"]=t.text:e["application/vnd.jupyter.stdout"]=t.text;else if(function(t){return"error"===t.output_type}(t)){e["application/vnd.jupyter.error"]=t;const n=t.traceback.join("\n");e["application/vnd.jupyter.stderr"]=n||`${t.ename}: ${t.evalue}`}return function(t){const e=Object.create(null);for(const n in t)e[n]=i(t,n);return e}(e)}function n(t){const e=Object.create(null);if(ld(t)||fd(t))for(const n in t.metadata)e[n]=i(t.metadata,n);return e}function i(t,e){const n=t[e];return void 0===n||F.JSONExt.isPrimitive(n)?n:JSON.parse(JSON.stringify(n))}t.getData=e,t.getMetadata=n,t.getBundleOptions=function(t){return{data:e(t.value),metadata:n(t.value),trusted:!!t.trusted}},t.extract=i}(hd||(hd={}));class gd{constructor(t={}){this.clearNext=!1,this._trusted=!1,this._isDisposed=!1,this._stateChanged=new R.Signal(this),this._changed=new R.Signal(this),this._trusted=!!t.trusted,this.contentFactory=t.contentFactory||gd.defaultContentFactory,this.list=new pd,t.values&&(0,y.each)(t.values,(t=>{this._add(t)})),this.list.changed.connect(this._onListChanged,this)}get stateChanged(){return this._stateChanged}get changed(){return this._changed}get length(){return this.list?this.list.length:0}get trusted(){return this._trusted}set trusted(t){if(t===this._trusted)return;const e=this._trusted=t;for(let t=0;t<this.list.length;t++){let n=this.list.get(t);const i=n.toJSON();n.dispose(),n=this._createItem({value:i,trusted:e}),this.list.set(t,n)}}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,this.list.dispose(),R.Signal.clearData(this))}get(t){return this.list.get(t)}set(t,e){e=F.JSONExt.deepCopy(e),cd.normalize(e);const n=this._createItem({value:e,trusted:this._trusted});this.list.set(t,n)}add(t){return this.clearNext&&(this.clear(),this.clearNext=!1),this._add(t)}clear(t=!1){this._lastStream="",t?this.clearNext=!0:((0,y.each)(this.list,(t=>{t.dispose()})),this.list.clear())}fromJSON(t){this.clear(),(0,y.each)(t,(t=>{this._add(t)}))}toJSON(){return(0,y.toArray)((0,y.map)(this.list,(t=>t.toJSON())))}_add(t){const e=this._trusted;if(t=F.JSONExt.deepCopy(t),cd.normalize(t),dd(t)&&this._lastStream&&t.name===this._lastName&&this.shouldCombine({value:t,lastModel:this.list.get(this.length-1)})){this._lastStream+=t.text,this._lastStream=cd.removeOverwrittenChars(this._lastStream),t.text=this._lastStream;const n=this._createItem({value:t,trusted:e}),i=this.length-1;return this.list.get(i).dispose(),this.list.set(i,n),i}dd(t)&&(t.text=cd.removeOverwrittenChars(t.text));const n=this._createItem({value:t,trusted:e});return dd(t)?(this._lastStream=t.text,this._lastName=t.name):this._lastStream="",this.list.push(n)}shouldCombine(t){return!0}_createItem(t){const e=this.contentFactory.createOutputModel(t);return e.changed.connect(this._onGenericChange,this),e}_onListChanged(t,e){this._changed.emit(e)}_onGenericChange(){this._stateChanged.emit(void 0)}}!function(t){class e{createOutputModel(t){return new vd(t)}}t.ContentFactory=e,t.defaultContentFactory=new e}(gd||(gd={})),function(t){t.normalize=function(t){dd(t)&&Array.isArray(t.text)&&(t.text=t.text.join("\n"))},t.removeOverwrittenChars=function(t){return function(t){for(t=t.replace(/\r+\n/gm,"\n");t.search(/\r[^$]/g)>-1;){const e=t.match(/^(.*)\r+/m)[1];let n=t.match(/\r+(.*)$/m)[1];n+=e.slice(n.length,e.length),t=t.replace(/\r+.*$/m,"\r").replace(/^.*\r/m,n)}return t}(function(t){let e=t;do{e=(t=e).replace(/[^\n]\x08/gm,"")}while(e.length<t.length);return t}(t))}}(cd||(cd={}));var bd,wd,yd,kd,Dd,jd,xd,_d,Md,Ad,Cd,Ed,Od,Sd,Td,Rd=__webpack_require__(2052),Fd=__webpack_require__(3747),$d=__webpack_require__(7093),Bd=__webpack_require__.n($d);function qd(t,e,n,i,r,s,o){try{var u=t[s](o),a=u.value}catch(t){return void n(t)}u.done?e(a):Promise.resolve(a).then(i,r)}function Ld(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}class Id extends Xe{static get styles(){if("undefined"==typeof jest)return((t,...e)=>{const n=1===t.length?t[0]:e.reduce(((e,n,i)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+t[i+1]),t[0]);return new ue(n,se)})(bd||(bd=Ld(["\n      ","\n      ","\n      .jp-RenderedHTML tbody tr:nth-child(odd) {\n        background: #f5f5f5;\n      }\n      .jp-RenderedHTML tbody tr:hover {\n        background: rgba(66, 165, 245, 0.2);\n      }\n\n      :host {\n        /* Main color: #19abed, 199 85% 51% */\n        /* Accent color: #f5546d, 351 89% 65% */\n        --main-hue: 199;\n        --main-color: hsl(var(--main-hue), 85%, 51%);\n        --main-color-lighter: hsl(var(--main-hue), 85%, 90%);\n        --main-color-darker: hsl(var(--main-hue), 85%, 41%);\n        --accent-hue: 351;\n        --accent-color: hsl(var(--accent-hue), 89%, 65%);\n        --accent-color-darker: hsl(var(--accent-hue), 89%, 55%);\n        --error-color: var(--accent-color);\n\n        --background-color: #fff;\n        --text-color-normal: hsl(var(--main-hue), 50%, 10%);\n        --text-color-contrast: #fff;\n\n        --code-color: var(--text-color-normal);\n        --code-color-comment: var(--main-color);\n        --code-background: #f9f9f9;\n        --code-fonts: Fira Mono, SF Mono, Courier New, monospace;\n\n        --block-border: 1px solid var(--main-color);\n\n        --button-background-main: var(--main-color);\n        --button-background-accent: var(--accent-color);\n        --button-text-color: var(--text-color-contrast);\n\n        --status-ready-color: var(--main-color);\n        --status-running-color: #fbbc04;\n        --status-waiting-color: var(--status-running-color);\n        --status-failed-color: var(--error-color);\n        --status-unknown-color: var(--error-color);\n      }\n\n      :host {\n        display: block;\n        min-width: 400px;\n        padding: 1em;\n\n        border: var(--block-border);\n        background-color: var(--background-color);\n\n        font-family: Arial, Helvetica, sans-serif;\n        font-size: 10pt;\n        color: var(--text-color-normal);\n      }\n\n      /* Input */\n\n      .input {\n        border: var(--block-border);\n        background: var(--code-background-color);\n        color: var(--code-color);\n      }\n\n      .cm-editor .cm-content {\n        font-family: var(--code-fonts);\n      }\n\n      /* Output */\n\n      .output {\n        border: var(--block-border);\n        word-wrap: normal;\n        margin-top: 1em;\n        padding: 1em;\n        max-height: 400px;\n        overflow: auto;\n      }\n\n      .btn.output__toggle {\n        margin-top: 1em;\n        min-width: 6em;\n      }\n\n      /* Control Panel */\n\n      .control-panel {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n\n        margin-top: 1em;\n      }\n\n      .control-panel__right {\n        display: flex;\n        justify-content: flex-end;\n        align-items: center;\n      }\n\n      .logo {\n        display: flex;\n        align-items: center;\n        margin-left: 1em;\n        height: 1.5em;\n        font-family: Arial, Helvetica, sans-serif;\n        font-size: 1.3em;\n        color: #19abed;\n      }\n\n      .logo a {\n        color: inherit;\n        text-decoration: inherit;\n      }\n\n      .logo span {\n        color: #f5546d;\n      }\n\n      .control-panel__left {\n        display: flex;\n        justify-content: flex-start;\n        align-items: center;\n      }\n\n      .control-panel__left .btn {\n        margin-right: 1em;\n      }\n\n      .btn {\n        font-family: inherit;\n        font-size: 100%;\n        line-height: 1.15;\n\n        min-height: 2em;\n        min-width: 5em;\n        margin: 0;\n\n        border: none;\n        background-color: var(--button-background-main);\n        color: var(--button-text-color);\n        font-weight: bold;\n\n        cursor: pointer;\n\n        -webkit-appearance: button;\n      }\n\n      .btn[disabled] {\n        opacity: 0.7;\n        cursor: default;\n      }\n\n      .btn-outline {\n        border: 1px solid var(--main-color);\n        background-color: var(--background-color);\n        color: var(--main-color);\n        font-weight: bold;\n\n        cursor: pointer;\n      }\n\n      .btn-secondary {\n        background-color: var(--button-background-accent);\n        color: var(--button-text-color);\n      }\n\n      .status {\n        display: flex;\n        align-items: center;\n        padding: 0 0.5em;\n      }\n\n      .status__message {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n\n      .status__message-link {\n        color: var(--error-color);\n      }\n\n      .status__indicator {\n        margin-right: 0.6em;\n        width: 0.4em;\n        height: 0.4em;\n        border-radius: 50%;\n      }\n\n      .status__indicator--ready {\n        background-color: var(--status-ready-color);\n        box-shadow: 0 0 0.2em #fff, 0 0 0.1em #fff inset, 0 0 0.1em var(--status-ready-color),\n          0 0 0.3em var(--status-ready-color);\n      }\n\n      .status__indicator--failed,\n      .status__indicator--unknown {\n        background-color: var(--status-failed-color);\n        box-shadow: 0 0 0.2em #fff, 0 0 0.1em #fff inset, 0 0 0.1em var(--status-failed-color),\n          0 0 0.3em var(--status-failed-color);\n      }\n\n      .status__indicator--waiting,\n      .status__indicator--connecting,\n      .status__indicator--running,\n      .status__indicator--starting {\n        background-color: var(--status-waiting-color);\n        box-shadow: 0 0 0.2em #fff, 0 0 0.1em #fff inset, 0 0 0.1em var(--status-waiting-color),\n          0 0 0.3em var(--status-waiting-color);\n      }\n\n      /* Feedback */\n\n      .feedback {\n        display: flex;\n        align-items: stretch;\n        justify-content: space-between;\n\n        border: var(--block-border);\n        color: var(--text-color-normal);\n\n        margin-top: 1em;\n      }\n\n      .feedback--generating {\n        opacity: 0.5;\n      }\n\n      .feedback--error {\n        border-color: var(--error-color);\n      }\n\n      .feedback__indicator,\n      .feedback__close {\n        display: flex;\n        align-items: center;\n\n        font-weight: bolder;\n        padding: 0.5em 1em;\n      }\n\n      .feedback__indicator {\n        background-color: var(--main-color);\n        color: var(--text-color-contrast);\n      }\n\n      .feedback__indicator--error {\n        background-color: var(--error-color);\n      }\n\n      .feedback__close {\n        background-color: transparent;\n        color: var(--main-color);\n        cursor: pointer;\n      }\n\n      .feedback__message {\n        flex-grow: 1;\n        padding: 0 1em;\n        overflow: auto;\n      }\n\n      .feedback__message pre {\n        min-width: 100%;\n      }\n\n      .feedback__message--error strong {\n        color: var(--error-color);\n      }\n    "])),ae(Fd),ae(Rd))}static get properties(){return{status:{type:Object},feedback:{type:Object},language:{type:String}}}static from_markdown(t){var e,n=t.querySelector("code").innerText.split("\n").map(((t,e)=>({is_header:/^\s*%%%\s*\w+\s*$/.test(t),index:e,contents:t}))).reduce(((t,n)=>n.is_header?(e=n.contents.replace("%%%","").trim(),t):e?(t[e]?t[e]+="\n"+n.contents:t[e]=n.contents,t):t),{}),i=document.createElement("code-cell");return i.id=t.id,Object.entries(n).forEach((t=>{var e=document.createElement("code");e.dataset.type=t[0],e.textContent=t[1]?t[1].toString():"",i.append(e)})),i}constructor(){var t;super(),this.status={type:"failed",message:"No server connected."},this.feedback=null,this.editor=null,this.output=null,this.language=null!==(t=this.language)&&void 0!==t?t:"r",this.started=!1}connectedCallback(){super.connectedCallback(),this.editor=new fu({root:this.shadowRoot,state:yi.create({extensions:[Uu(),ta(),Au(),yi.allowMultipleSelections.of(!0),yi.transactionFilter.of((t=>{if(!t.docChanged||!t.isUserEvent("input.type"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:i}=t.newSelection.main,r=n.lineAt(i);if(i>r.from+200)return t;let s=n.sliceString(r.from,i);if(!e.some((t=>t.test(s))))return t;let{state:o}=t,u=-1,a=[];for(let{head:t}of o.selection.ranges){let e=o.doc.lineAt(t);if(e.from==u)continue;u=e.from;let n=ih(o,e.from);if(null==n)continue;let i=/^\s*/.exec(e.text)[0],r=nh(o,n);i!=r&&a.push({from:e.from,to:e.from+i.length,insert:r})}return a.length?[t,{changes:a,sequential:!0}]:t})),Ql.fallback,gh(),cl(),yl(),Wu,kc(),fu.lineWrapping,Du.of([...mc,...ma,...vl,...ll,vc,{key:"Shift-Enter",run:this.run.bind(this)}]),yi.tabSize.of(2),rf.define(Ef)]})}),this.editor.dom.addEventListener("focusin",this.trigger_start.bind(this))}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this.editor)||void 0===t||t.destroy()}trigger_start(){this.started||(this.started=!0,this.dispatchEvent(new en("start")))}init_prompt(){var t,e=this.stored_code?this.stored_code:null!==(t=this.code.prompt)&&void 0!==t?t:"";this.write_editor_text(e)}get code(){if(!this._code_extracted){var t=t=>{var e=this.querySelector("[data-type=".concat(t,"]")),n=null==e?void 0:e.textContent.trimRight();return null==e||e.remove(),n};this._code={setup:t("setup"),prompt:t("prompt"),solution:t("solution"),test:t("test")};var e=/\s*allow_solution_error\(\);?\s*/;e.test(this._code.setup)&&(this._code.setup=this._code.setup.replace(e,""),this._code.solution="try({\n".concat(this._code.solution,"\n})")),Object.values(this._code).some((t=>null!==t))&&(this.querySelectorAll("code").forEach((t=>t.remove())),this._code_extracted=!0)}return this._code}get stored_code(){return this.local_storage_enabled?localStorage.getItem(this.local_storage_key):null}set stored_code(t){if(Id.local_storage_available){if(this.editor)return this.local_storage_enabled?void localStorage.setItem(this.local_storage_key,null!=t?t:""):(console.debug("Clearing local storage as it is disabled."),void localStorage.removeItem(this.local_storage_key));console.warn("Cannot store responses before the editor is initialized.")}else console.warn("Cannot store responses as LocalStorage is unavailable.")}get local_storage_key(){var t,e,n,i,r;return["code-cell-stored",null===(t=this.manager)||void 0===t||null===(e=t.settings)||void 0===e||null===(n=e.cell)||void 0===n||null===(i=n.local_storage)||void 0===i?void 0:i.prefix,null!==(r=this.id)&&void 0!==r?r:""].join("--")}get current_code(){var t,e;return null!==(t=null===(e=this.editor)||void 0===e?void 0:e.state.doc.toString())&&void 0!==t?t:""}get local_storage_enabled(){var t,e,n,i;return""!==this.id&&!1!==(null===(t=this.manager)||void 0===t||null===(e=t.settings)||void 0===e||null===(n=e.cell)||void 0===n||null===(i=n.local_storage)||void 0===i?void 0:i.enable)&&Id.local_storage_available}connect_manager(t){var e,n=this;return(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.manager=t,n.output=new id({model:new gd({trusted:!0}),rendermime:t.render_mime}),n.output.show(),n.init_prompt();case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,r){var s=e.apply(t,n);function o(t){qd(s,i,r,o,u,"next",t)}function u(t){qd(s,i,r,o,u,"throw",t)}o(void 0)}))})()}run(){this.trigger_start();var t=this.current_code;this.feedback=null,this.run_code(t),this.stored_code=t,this.dispatchEvent(new en("run",{content:t}))}run_code(t){var e,n,i;this.write_output_text("Waiting for kernel...");var r=this.prepare_run(null!==(e=this.code.setup)&&void 0!==e?e:"");null===(n=this.manager)||void 0===n||n.execute(r,this,{no_restart:!0}),null===(i=this.manager)||void 0===i||i.execute(t,this,{attach_output:this.output})}prepare_run(t){if("r"===this.language.toLowerCase())return["options(repr.plot.width = 4, repr.plot.height = 3, repr.plot.res = 200)",t].join("\n")}submit(){this.trigger_start(),this.feedback={generating:!0,content:"Running test code..."};var t=this.current_code;this.run_code(t);var e=this.prepare_submission(t);this.manager.execute(e,this,{hook:this.handle_feedback_reply.bind(this)}),this.stored_code=t,this.dispatchEvent(new en("submit",{content:t}))}prepare_submission(t){var e,n,i=t=>{var e;return null!==(e=null==t?void 0:t.replaceAll("'","\\'"))&&void 0!==e?e:""};return"library(testwhat)\n      state <- try(silent = TRUE, {\n        setup_state(\n          sol_code = '".concat(i(this.code.solution),"',\n          stu_code = '").concat(i(t),"',\n          pec = '").concat(i(this.code.setup),"'\n        )\n        ").concat(null!==(e=null===(n=this.code)||void 0===n?void 0:n.test)&&void 0!==e?e:"","\n      })\n      result <- attr(state, 'condition')\n      correct <- is.null(result$message)\n      content <- if (correct) '' else result$message\n      jsonlite::toJSON(\n        list(ckc_feedback = TRUE, correct = correct, content = content),\n        auto_unbox = TRUE\n      )")}handle_feedback_reply(t){if("error"===t.header.msg_type&&"ERROR"===t.content.ename&&(this.feedback={correct:!0,broken:!0,content:["**There is a problem with the test code:**","```",...t.content.traceback,"```"].join("\n")}),"display_data"===t.header.msg_type&&!t.content.data["image/png"])try{var e=t.content.data["text/plain"],n=JSON.parse(e);!0===n.ckc_feedback&&(delete n.ckc_feedback,this.feedback=n,this.dispatchEvent(new en("feedback",this.feedback)))}catch(t){throw this.write_output_error("There was an error running the test code:\n".concat(t.toString())),new Error(t)}return!0}reset(){var t,e;this.stored_code="",this.write_editor_text(this.code.prompt),this.feedback=null,null===(t=this.output)||void 0===t||null===(e=t.model)||void 0===e||e.clear(),this.requestUpdate()}restart(){return this.manager.restart()}reconnect(){return this.manager.connect()}write_editor_text(t){var e;null===(e=this.editor)||void 0===e||e.dispatch({changes:{from:0,to:this.editor.state.doc.toString().length,insert:Sf()(null!=t?t:"").trim()+"\n"}})}write_output_text(t){this.output?(this.output.model.clear(),this.output.model.add({output_type:"stream",name:"stdin",text:t})):this.shadowRoot.querySelector(".output").innerHTML=t}write_output_error(t){console.error(t),this.output?(this.output.model.clear(),this.output.model.add({output_type:"stream",name:"stderr",text:t})):this.shadowRoot.querySelector(".output").innerHTML=t}render(){var t;return Fe(wd||(wd=Ld(['\n      <div class="input">',"</div>\n      "," "," ","\n    "])),null===(t=this.editor)||void 0===t?void 0:t.dom,this.render_control_panel(),this.render_feedback(),this.render_output())}render_control_panel(){var t=["running","starting","ready","waiting"].includes(this.status.type),e=["connecting"].includes(this.status.type),n=["starting"].includes(this.status.type),i=["waiting","unknown"].includes(this.status.type),r=["failed"].includes(this.status.type),s=Fe(yd||(yd=Ld(['\n      <a href="#" class="status__message-link" @click=',">Stop</a>\n    "])),this.restart);return Fe(kd||(kd=Ld(['\n      <div class="control-panel">\n        <div class="control-panel__left">\n          ',"\n          ",'\n          <div class="status">\n            <div class="status__indicator status__indicator--','"></div>\n            <div class="status__message">\n              '," ",'\n            </div>\n          </div>\n        </div>\n        <div class="control-panel__right">\n          ',"\n          ","\n        </div>\n      </div>\n    "])),t?this.render_run_buttons(n):"",r?this.render_reconnect_button():"",this.status.type,this.status.message,i?s:"",t?this.render_reset_button():"",e||r?this.render_logo():"")}render_run_buttons(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=Fe(Dd||(Dd=Ld(['\n      <button \n        class="btn" \n        title="Run this code" \n        @click='," \n        ?disabled=","\n      >\n        Run\n      </button>\n    "])),this.run,t),n=Fe(jd||(jd=Ld(['\n      <button\n        class="btn btn-secondary"\n        title="Submit this code"\n        @click=',"\n        ?disabled=","\n      >\n        Submit\n      </button>\n    "])),this.submit,t);return Fe(xd||(xd=Ld([""," ",""])),e,this.code.solution&&this.code.test?n:"")}render_reconnect_button(){return Fe(_d||(_d=Ld(['<button class="btn btn-secondary" title="','" @click=',">\n      Reconnect\n    </button>"])),"Try to reconnect to the kernel",this.reconnect)}render_reset_button(){return Fe(Md||(Md=Ld(['<button class="btn btn-outline" title="','" @click=',">\n      Reset\n    </button>"])),"Reset prompt to original",this.reset)}render_logo(){return Fe(Ad||(Ad=Ld(['<div class="logo">\n      <a href="','" target="_blank">ck<span>code</span></a>\n    </div>'])),"https://uclatall.github.io/ckcode")}render_feedback(){var t;if(this.feedback){this.feedback.correct&&""===(null!==(t=this.feedback.content)&&void 0!==t?t:"")&&(this.feedback.content=this.get_compliment());var e=t=>this.feedback.broken?"".concat(t," ").concat(t,"--error"):t,n=this.feedback.broken?"x":this.feedback.correct?"✓":"!",i=e("feedback__indicator"),r=new u,s=Qe(r.sanitize(Nt()(this.feedback.content))),o=e("feedback__message");return Fe(Cd||(Cd=Ld(['\n      <div\n        class="'," ",'"\n      >\n        <div class="','"><span>','</span></div>\n        <div class="','">','</div>\n        <div class="feedback__close" aria-controls="dismiss" @click=',">\n          <span>&times;</span>\n        </div>\n      </div>\n    "])),e("feedback"),this.feedback.generating?"feedback--generating":"",i,n,o,s,(()=>this.feedback=null))}}render_output(){var t,e;return null!==(t=this.output)&&void 0!==t&&t.model.length?Fe(Ed||(Ed=Ld(['\n      <div class="output" data-simplebar>','</div>\n      <button class="output__toggle btn btn-outline" @click=',">\n        Hide output\n      </button>\n    "])),null===(e=this.output)||void 0===e?void 0:e.node,this.toggle_output):""}get_compliment(){var t=["Way to go","Keep it up","Great work","Good job"],e=t[Math.floor(Math.random()*t.length)],n=Bd().getCompliment(e,2,!1);return n.substr(0,n.length-1)+"!"}toggle_output(){var t=this.shadowRoot.querySelector(".output");(t=>!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))(t)?(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach((t=>{t.style.display="none"}))}(t),this.shadowRoot.querySelector(".output__toggle").textContent="Show output"):(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach((t=>{t.style.display=""}))}(t),this.shadowRoot.querySelector(".output__toggle").textContent="Hide output")}}function zd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Od=Id,Sd="local_storage_available",Td=(()=>{try{var t="__storage_test__";return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(t){return!1}})(),Sd in Od?Object.defineProperty(Od,Sd,{value:Td,enumerable:!0,configurable:!0,writable:!0}):Od[Sd]=Td,window.customElements.define("code-cell",Id),document.addEventListener("DOMContentLoaded",(()=>document.querySelectorAll("code-cell").forEach((t=>t.init_prompt())))),__webpack_require__(8868);class Nd{constructor(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];zd(this,"_cells",{}),zd(this,"_active",void 0),t.forEach((t=>this.register_cell(t)))}set active_cell(t){this.register_cell(t),this._active=t}register_cell(t){this._cells[t.id]=t}refresh(t){this.status_handler(t)}connect_binder_events(t){var e=n=>{var i=JSON.parse(n.data);switch(i.phase){case"building":case"built":this.set_status({type:"connecting",message:i.message});break;case"launching":this.set_status({type:"connecting",message:"Launching server..."});break;case"ready":t.removeEventListener("message",e)}};t.addEventListener("message",e)}status_handler(t){switch(t.connectionStatus){case"disconnected":this.set_status_all({type:"failed",message:"Lost connection to server."});break;case"connecting":case"connected":this.kernel_status_handler(t)}}kernel_status_handler(t){switch(t.status){case"dead":this.set_status_all({type:"failed",message:"Lost connection to server."});break;case"starting":this.set_status({type:"starting",message:"Starting kernel"});break;case"autorestarting":case"restarting":case"busy":this.set_status({type:"starting",message:"Busy..."});break;case"idle":this.set_status_all({type:"ready",message:"Ready."});break;case"unknown":"connected"===t.connectionStatus&&this.set_status({type:"starting",message:"Busy..."});break;default:this.set_status({type:"failed",message:"Lost connection to server."})}}set_status(t){this._active?(this.set_status_active(t),this.set_status_inactive({type:"waiting",message:"Kernel is running another cell."})):this.set_status_all(t)}set_status_all(t){Object.values(this._cells).forEach((e=>{e.status=t}))}set_status_active(t){this._active.status=t}set_status_inactive(t){Object.values(this._cells).filter((t=>t!==this._active)).forEach((e=>{e.status=t}))}}function Pd(t,e,n,i,r,s,o){try{var u=t[s](o),a=u.value}catch(t){return void n(t)}u.done?e(a):Promise.resolve(a).then(i,r)}function Ud(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var s=t.apply(e,n);function o(t){Pd(s,i,r,o,u,"next",t)}function u(t){Pd(s,i,r,o,u,"throw",t)}o(void 0)}))}}function Hd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Vd{constructor(t){Hd(this,"connected",void 0),Hd(this,"server",void 0),Hd(this,"kernel",void 0),Hd(this,"instances",void 0),Hd(this,"render_mime",void 0),Hd(this,"status_manager",void 0),Hd(this,"logger",n()),Hd(this,"queued",void 0);var e=new Jd(t);this.settings=e.build(),this.logger.setLevel(this.settings.log.level),this.render_mime=this.build_render_mime_registry(),this.instances=this.hookup_cells(),this.settings.cell.auto_connect&&(this.connected=this.connect())}build_render_mime_registry(){var t,e,n=!(null===(t=this.settings.mathjax)||void 0===t||!t.url)&&new URL(this.settings.mathjax.url);return new p(n?{initialFactories:ne.filter((t=>!(t.mimeTypes.indexOf("text/latex")>-1)||n))}:{initialFactories:ne,latexTypesetter:new ie({url:this.settings.mathjax.url,config:null!==(e=this.settings.mathjax.config)&&void 0!==e?e:""})})}hookup_cells(){var t=this;this.status_manager||(this.status_manager=new Nd),this.settings.markdown_syntax.enable&&this.settings.markdown_syntax.selector&&document.querySelectorAll(this.settings.markdown_syntax.selector).forEach((t=>{var e=Id.from_markdown(t);t.replaceWith(e)}));var e=[...document.querySelectorAll(this.settings.cell.selector)];return e.forEach(function(){var e=Ud(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.connect_manager(t);case 2:t.status_manager.register_cell(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.kernel&&this.kernel.then((t=>this.status_manager.refresh(t))),this.instances=e,e}connect(){return this.status_manager.set_status_all({type:"connecting",message:"Establishing connection..."}),this.connected=this.request_server().then((t=>this.request_kernel())).then((t=>{t.connectionStatusChanged.connect(this.status_manager.status_handler,this.status_manager),t.statusChanged.connect(this.status_manager.status_handler,this.status_manager),this.status_manager.status_handler(t)})).then((t=>!0)),this.connected}request_server(){var t=this;return Ud(regeneratorRuntime.mark((function e(){var n,i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!==(n=t.settings.server)&&void 0!==n&&n.base_url&&null!==(i=t.settings.server)&&void 0!==i&&i.token?(t.logger.debug("Connecting to Jupyter server."),r=t.make_server_settings(t.settings.server),t.server=t.check_connection(r).catch((e=>{var n="Could not connect to server";t.logger.error("".concat(n,": ").concat(e.message)),t.status_manager.set_status_all({type:"failed",message:"".concat(n,".")})}))):(t.logger.debug("Server URL and token not set. Trying Binder..."),t.server=t.request_binder_server(t.settings.binder)),e.abrupt("return",t.server);case 2:case"end":return e.stop()}}),e)})))()}request_binder_server(t){var e=this;return Ud(regeneratorRuntime.mark((function n(){var i,r,s,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.load_existing_binder(t);case 2:if(n.t1=i=n.sent,n.t0=null!==n.t1,!n.t0){n.next=6;break}n.t0=void 0!==i;case 6:if(!n.t0){n.next=10;break}n.t2=i,n.next=13;break;case 10:return n.next=12,e.load_new_binder(t);case 12:n.t2=n.sent;case 13:r=n.t2,s={last_used:new Date,max_age:t.max_age,base_url:r.baseUrl,token:r.token};try{o=e.get_local_storage_key(t),window.localStorage.setItem(o,JSON.stringify(s))}catch(t){e.logger.debug("Could not save Binder connection for re-use.",t)}return n.abrupt("return",r);case 17:case"end":return n.stop()}}),n)})))()}request_kernel(){var t=this;return Ud(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.server;case 2:if(e.sent){e.next=4;break}throw Error("Unable to request a kernel as no server is connected.");case 4:return e.t0=i.KernelManager,e.next=7,t.server;case 7:return e.t1=e.sent,e.t2={serverSettings:e.t1},n=new e.t0(e.t2),e.next=12,n.ready;case 12:return t.kernel=new Promise(function(){var e=Ud(regeneratorRuntime.mark((function e(i,r){var s,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(s=n.running().next())){e.next=6;break}e.t0=n.connectTo({model:s}),e.next=9;break;case 6:return e.next=8,n.startNew(t.settings.kernel);case 8:e.t0=e.sent;case 9:o=e.t0,i(o),e.next=16;break;case 13:e.prev=13,e.t1=e.catch(0),r(new Error("Could not connect to kernel: ".concat(e.t1)));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t.kernel);case 14:case"end":return e.stop()}}),e)})))()}load_existing_binder(t){var e=this;return Ud(regeneratorRuntime.mark((function n(){var i,r,s,o,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=e.get_local_storage_key(t),null!==(r=localStorage.getItem(i))){n.next=5;break}return e.logger.debug("No Binder session saved in ".concat(i)),n.abrupt("return",null);case 5:if(e.logger.debug("Saved Binder session detected for ".concat(i)),s=JSON.parse(r),o=new Date(s.last_used),!((new Date-o)/1e3>s.max_age)){n.next=13;break}return e.logger.debug("Stored Binder session for ".concat(i," has expired from ").concat(o,".")),localStorage.removeItem(i),n.abrupt("return",null);case 13:return u=e.make_server_settings(s),n.abrupt("return",e.check_connection(u).catch((t=>(e.logger.debug("Binder connection appears to be invalid; discarding session",t),localStorage.removeItem(i),null))));case 15:case"end":return n.stop()}}),n)})))()}load_new_binder(t){var e=new EventSource(t.url);return this.status_manager.connect_binder_events(e),new Promise(((n,i)=>{e.addEventListener("error",(e=>{this.logger.error("Lost connection to ".concat(t.url)),i(new Error(e.toString()))})),e.addEventListener("message",(r=>{var s=JSON.parse(r.data),o=s.phase.toLowerCase();switch(this.logger.log("Binder phase: ".concat(o)),o){case"ready":e.close(),n(this.make_server_settings({base_url:s.url.toString(),token:s.token.toString()}));break;case"failed":e.close(),this.logger.error("Failed to build ".concat(t.url),s),i(new Error(s))}}))}))}check_connection(t){return i.KernelAPI.listRunning(t).then((e=>t))}get_local_storage_key(t){return t.local_storage_prefix+t.url}make_server_settings(t){return i.ServerConnection.makeSettings({baseUrl:t.base_url,wsUrl:"ws".concat(t.base_url.slice(4)),token:t.token,appendToken:!0})}execute(t,e,n){var i=this;return Ud(regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i.status_manager.active_cell=e,i.queued=(null!==(s=i.queued)&&void 0!==s?s:i.kernel).then((e=>{var i=e.requestExecute({code:t});return n.hook&&i.registerMessageHook(n.hook),n.attach_output&&(n.attach_output.future=i),i.done.then((t=>n.no_restart?e:e.restart().then((t=>e))))}));case 2:case"end":return r.stop()}}),r)})))()}restart(){var t=this;return Ud(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.queued=null,e.next=3,t.kernel;case 3:return e.abrupt("return",e.sent.restart());case 4:case"end":return e.stop()}}),e)})))()}}class Jd{constructor(t){Hd(this,"defaults",{markdown_syntax:{enable:!0,selector:"[data-ckcode]"},binder:{url:"https://mybinder.org/build/gh/UCLATALL/binder/main",local_storage_prefix:"ckcode-binder-",max_age:86400},kernel:{name:"ir",path:"."},mathjax:{url:"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js",config:"TeX-AMS_CHTML-full,Safe"},cell:{auto_connect:!0,selector:"code-cell",local_storage:{prefix:"",enable:!0}},log:{level:"error"}}),this.settings=this.extend({},this.defaults,t)}build(){return this.validate(),this.settings}validate(){var t,e,n,i;if(null!==(t=this.settings.server)&&void 0!==t&&t.base_url)try{new URL(this.settings.server.base_url)}catch(t){var r="https://".concat(this.settings.server.base_url);new URL(r),this.settings.server.base_url=r}if(!((null===(e=this.settings.server)||void 0===e?void 0:e.base_url)&&(null===(n=this.settings.server)||void 0===n?void 0:n.token)||null!==(i=this.settings.binder)&&void 0!==i&&i.url))throw new Error("Must have either a server URL and token set, or a Binder URL set.")}extend(t){t=t||{};for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.forEach((e=>{e&&Object.keys(e).forEach((n=>{e.hasOwnProperty(n)&&("object"==typeof e[n]?t[n]=e[n]instanceof Array?e[n].slice(0):this.extend(t[n],e[n]):t[n]=e[n])}))})),t}}"undefined"!=typeof window&&(window.ckcode=t)})()})();const app=new ckcode.CKCode({cell:{local_storage:{enable:!1}}}),init=()=>{window.ckcode=app,app.hookup_cells()};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",init):init();
